SaleVertion2 As screen:
    OnVisible: |
        =/* Thong tin nguoi dung*/
        Set(
            informationUser,
            LookUp(
                User,
                email_User = User().Email
            )
        );
        Set(btnFunctionSaleVertion2, "btnQuoteSale");
        Set(idCheckStatusFuntionQuote,-1);
        Set(isVisibleDialogAddQuoteNew_SaleVertion2, false);
        Set(isVisibleDialogAddProductQuoteNew_SaleVertion2, false);
        Set(isVisibleDetailQuote_SaleVertion2,false);
        Set(isVisibleCreateQuote_Sertion2, false);
        Set(isVisibleUpdatQuote_Vertion2, false);
        Set(positionOptionCreatQuote,0);
        ClearCollect(arrServiceNewCreateQuote,[]);
        Set(isDisableEditInormationCustomer, false);
        Set(isDisablebtnUpdateInformationCustomer, false);
        Set(positionItemFunctionCustomerQuote,-1);
        Set(isVisibleSaveUpdateCustomer, false);
        Set(positionOptionCustomerQuote,0);
        Set(positinInformationcustomerFocus,-1);
        
        // yêu cầu mua hàng
        Set(positionStatusPurchase_SaleVertion2, -1);
        Set(styleAddPurchase_SaleVertion2,-1);
        Set(isVisiblechoiceStyleRequest,false);
        Set(isVisibleDialogPurchase_SaleVertion2, false);
        Set(isVisibleDialogPurchaseProduct, false);
        Set(isVisiblePurchaseProductNew,false);

    containerViewQuote As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Height: =701
        Visible: =btnFunctionSaleVertion2 = "btnQuoteSale"
        Width: =1366
        Y: =67
        ZIndex: =1

        Container20 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.Semibold
            Height: =680
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =317
            X: =16
            Y: =13
            ZIndex: =1

            Gallery10 As gallery.variableTemplateHeightGallery:
                DelayItemLoading: =true
                Height: =665
                Items: |-
                    =If(
                        btnFunctionSaleVertion2 = "btnQuoteSale",
                        Table(
                            {
                                id: 0,
                                name: "Trạng thái",
                                btnFunction: "btnQuoteSale"
                            },  {
                                id: 1,
                                name: "Khách hàng",
                                btnFunction: "btnQuoteSale"
                            },
                             {
                                id: 2,
                                name: "Dịch vụ",
                                btnFunction: "btnQuoteSale"
                            }
                        )
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplateSize: =80
                Width: =305
                X: =4
                Y: =11
                ZIndex: =1

                Button8 As button:
                    Color: =If(ThisItem.IsSelected,RGBA(225, 225, 225, 1),RGBA(212, 201, 201, 1))
                    Fill: =If(ThisItem.IsSelected,RGBA(56, 96, 178, 1),RGBA(242, 237, 237, 1))
                    Height: =65
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.name
                    Visible: =false
                    Width: =Parent.Width -10
                    ZIndex: =1

                Container111 As groupContainer.manualLayoutContainer:
                    Height: =77
                    Width: =295
                    ZIndex: =2

                    Image13 As image:
                        Height: =50
                        Image: =If(ThisItem.id = 0,iconQuote_Order,If(ThisItem.id  =1,customer,iconservice))
                        ImagePosition: =ImagePosition.Fill
                        Width: =50
                        X: =21
                        Y: =13
                        ZIndex: =1

                    Label160 As label:
                        Align: =Align.Center
                        Height: =77
                        Size: =20
                        Text: =ThisItem.name
                        Width: =208
                        X: =87
                        ZIndex: =2

                    Button8_1 As button:
                        Color: =If(ThisItem.IsSelected,RGBA(225, 225, 225, 1),RGBA(212, 201, 201, 1))
                        DisabledFill: =RGBA(186, 202, 226, 0.33)
                        Fill: =If(ThisItem.IsSelected,RGBA(56, 96, 178, 0.3),RGBA(242, 237, 237, 0.3))
                        Height: =77
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 0.3), -20%)
                        OnSelect: |-
                            =//nếu người dùng tab vào dich vu
                            If(
                                ThisItem.id = 2,
                                Set(
                                    positionOptionService,
                                    ""
                                )
                            )
                        PressedFill: =RGBA(186, 202, 226, 0.29)
                        Text: =
                        Width: =295
                        ZIndex: =3

        Container23 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =688
            Visible: =Gallery10.Selected.id = 0 && Gallery10.Selected.btnFunction = "btnQuoteSale"
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =2

            Container24 As groupContainer.manualLayoutContainer:
                Height: =54
                Width: =1012
                X: =6
                Y: =6
                ZIndex: =1

                Label62 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =38
                    Size: =15
                    Text: |-
                        =If(
                            idCheckStatusFuntionQuote = 0,
                            "Báo giá",
                            If(
                                idCheckStatusFuntionQuote = 1,
                                "Đơn hàng","Báo giá - đơn hàng"
                            )
                        )
                    Width: =316
                    X: =9
                    Y: =9
                    ZIndex: =1

                TextInput5 As text:
                    Default: =""
                    Height: =39
                    HintText: ="Tìm kiếm"
                    Size: =15
                    Width: =352
                    X: =643
                    Y: =8
                    ZIndex: =2

                Container26 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(141, 198, 63, 1)
                    Height: =40
                    Width: =150
                    X: =475
                    Y: =9
                    ZIndex: =3

                    Label64 As label:
                        Align: =Align.Center
                        Color: =RGBA(255, 255, 255, 1)
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Tạo mới"
                        Width: =111
                        X: =39
                        ZIndex: =1

                    Icon3 As icon.Add:
                        Color: =RGBA(255, 255, 255, 1)
                        Height: =30
                        Icon: =Icon.Add
                        Width: =28
                        X: =15
                        Y: =5
                        ZIndex: =2

                    Rectangle1 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =40
                        OnSelect: |-
                            =Set(isVisibleDialogAddQuoteNew_SaleVertion2,true);
                            ClearCollect(arrProductAddQuoteNew_SaleVertion2,[]);
                            ClearCollect(arrServiceAddQuoteNew_SaleVertion2,[]);
                            Set(isVisibleCreateQuote_Sertion2,true);
                            Set(positionOptionCreatQuote,0);
                            Reset(ComboBox1);
                            Reset(DatePicker2);
                            Reset(TextInput7)
                        ZIndex: =3

            "Gallery16 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderThickness: =1
                DelayItemLoading: =true
                Fill: =RGBA(255, 255, 255, 1)
                Height: =511
                Items: |-
                    =If(
                        IsBlank(TextInput5.Text),
                        If(
                            idCheckStatusFuntionQuote = -1,
                            Quote,
                            If(
                                idCheckStatusFuntionQuote = 0,
                                Filter(
                                    Quote,
                                    quote_Status.Value = "Báo giá"
                                ),
                                If(
                                    idCheckStatusFuntionQuote = 1,
                                    Filter(
                                        Quote,
                                        quote_Status.Value = "Đơn hàng"
                                    )
                                )
                            )
                        ),
                        Filter(
                            Quote,
                            StartsWith(
                                id_Quote,
                                TextInput5.Text
                            )
                        )
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |
                    =/*Set(
                        isVisibleDetailQuote_SaleVertion2,
                        true
                    );*/
                    Set(statusViewEditQuote, "view");
                    Set(isVisibleDialogAddQuoteNew_SaleVertion2,true);
                    Set(isVisibleUpdatQuote_Vertion2,true);
                    Set(positionOptionCreatQuote,0);
                    ClearCollect(
                        arrProductAddQuoteNew_SaleVertion2
                    ,
                        Filter(
                            Quote_Product,
                            id_Quote = Gallery16.Selected.id_Quote
                        )
                    );
                    ClearCollect(
                        arrServiceAddQuoteNew_SaleVertion2,
                        Filter(
                            Quote_Service,
                            id_Quote = Gallery16.Selected.id_Quote
                        )
                    );
                    Reset(Toggle1)
                TemplatePadding: =0
                TemplateSize: =37
                Width: =981
                X: =25
                Y: =159
                ZIndex: =3

                Rectangle13_1 As rectangle:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Fill: =RGBA(56, 96, 178, 0)
                    Height: =37
                    Width: =52
                    X: =929
                    ZIndex: =1

                Label65 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.id_Quote
                    Width: =237
                    Y: =1
                    ZIndex: =2

                Label65_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    Height: =37
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: |-
                        =LookUp(
                            Customer,ID = ThisItem.id_Customer
                        ).customer_Name
                    Width: =229
                    X: =238
                    Y: =1
                    ZIndex: =3

                Label65_2 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    Height: =31
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =LookUp(User,ID = ThisItem.id_User).user_Name
                    Width: =195
                    X: =467
                    Y: =1
                    ZIndex: =4

                Label65_3 As label:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    Height: =36
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.quote_Date,"dd/mm/yyyy")
                    X: =662
                    Y: =1
                    ZIndex: =5

                Icon19 As icon.Edit:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =37
                    Icon: =Icon.Edit
                    OnSelect: |-
                        =// hiển thị giao diện chứa dialog sửa Quote
                        Set(isVisibleDialogAddQuoteNew_SaleVertion2,true);
                        //Hiển thị dialog chứa Quote
                        Set(isVisibleUpdatQuote_Vertion2,true);
                        // biến truyền đây là edit
                        Set(statusViewEditQuote,"edit");
                        // lấy danh sách sản phẩm của idQuote vừa tạo
                        ClearCollect(arrProductQuoteDownload,Filter(Quote_Product,id_Quote = Gallery16.Selected.id_Quote));
                        //Thêm cột status vào trong danh sách chứa sản phẩm báo giá
                        ClearCollect(arrProductAddQuoteNew_SaleVertion2,AddColumns(arrProductQuoteDownload,"status",""));
                        // lấy danh sách dịch vụ của idquote vừa tạo
                        ClearCollect(arrServiceDownloadQuote,Filter(Quote_Service,id_Quote = Gallery16.Selected.id_Quote));
                        ClearCollect(arrServiceAddQuoteNew_SaleVertion2,AddColumns(arrServiceDownloadQuote,"status",""));
                        // thuộc tính danh sách là cho người dùng xem danh sách sản phẩm đầu tiền
                        Set(positionOptionCreatQuote,0);
                        Refresh(Quote);
                        Refresh(Quote_Service);
                        Refresh(Quote_Product);
                        Reset(Toggle1)
                    Visible: =ThisItem.quote_Status.Value = "Báo giá"
                    Width: =52
                    X: =929
                    ZIndex: =6

                Label158 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Color: =If(ThisItem.quote_Status.Value = "Báo giá",RGBA(175, 191, 224, 1),If(ThisItem.quote_Status.Value = "Đơn hàng",RGBA(141, 198, 63, 1),RGBA(184, 0, 0, 1)))
                    FontWeight: =FontWeight.Semibold
                    Height: =37
                    Italic: =true
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.quote_Status.Value
                    Width: =117
                    Wrap: =false
                    X: =812
                    ZIndex: =7

            Container48 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(128, 128, 128, 0.06)
                Height: =45
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =981
                X: =25
                Y: =114
                ZIndex: =4

                Label87 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Height: =43
                    Size: =15
                    Text: ="Mã báo giá - đơn hàng"
                    Width: =230
                    X: =8
                    Y: =2
                    ZIndex: =1

                Label88 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Khách hàng"
                    Width: =229
                    X: =238
                    Y: =5
                    ZIndex: =2

                Label90 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Nhân viên"
                    Width: =195
                    X: =467
                    Y: =2
                    ZIndex: =3

                Label97 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Ngày tạo"
                    X: =662
                    Y: =5
                    ZIndex: =4

                Label98 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Trạng thái"
                    Width: =117
                    X: =812
                    Y: =5
                    ZIndex: =5

            Checkbox4 As checkbox:
                Default: =If(idCheckStatusFuntionQuote = 0, true,false)
                Height: =46
                OnCheck: |-
                    =
                    Set(idCheckStatusFuntionQuote, 0);
                    Refresh(Quote)
                OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                Text: ="Báo giá"
                Width: =135
                X: =734
                Y: =60
                ZIndex: =5

            Checkbox4_1 As checkbox:
                Default: =If(idCheckStatusFuntionQuote = 1, true,false)
                Height: =46
                OnCheck: |-
                    =Set(idCheckStatusFuntionQuote, 1);
                    Refresh(Quote)
                OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                Text: ="Đơn hàng"
                Width: =137
                X: =869
                Y: =60
                ZIndex: =6

        Container49 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =688
            Visible: =Gallery10.Selected.id = 1 && Gallery10.Selected.btnFunction= "btnQuoteSale" && positionOptionCustomerQuote = 0 
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =3

            Container29 As groupContainer.manualLayoutContainer:
                Height: =59
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =691
                X: =12
                Y: =4
                ZIndex: =3

                containerDetailcustomer As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 0, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 0, 51,39)
                    Width: =128
                    X: =179
                    Y: =8
                    ZIndex: =1

                    Image11 As image:
                        Height: =Parent.Height
                        Image: =icondetail
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 0,FontWeight.Bold,FontWeight.Normal)
                        Height: =Parent.Height
                        Text: ="Chi tiết"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 0);
                            Set(isVisibleSaveUpdateCustomer,false)
                        Width: =Parent.Width
                        ZIndex: =3

                containerEditCustomer As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 1, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 1, 51,39)
                    Width: =128
                    X: =333
                    Y: =9
                    ZIndex: =2

                    Icon30 As icon.Edit:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =Parent.Height
                        Icon: =Icon.Edit
                        Width: =27
                        ZIndex: =1

                    Label115_1 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 1,FontWeight.Bold,FontWeight.Normal)
                        Height: =39
                        Text: ="Chỉnh sửa"
                        Width: =101
                        X: =27
                        ZIndex: =2

                    Rectangle9_1 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 1);
                            Set(isVisibleSaveUpdateCustomer,false)
                        Width: =Parent.Width
                        ZIndex: =3

                containerSaveEditCustomer As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 2, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 2, 51,39)
                    Width: =128
                    X: =483
                    Y: =9
                    ZIndex: =3

                    Label115_2 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 2,FontWeight.Bold,FontWeight.Normal)
                        Height: =Parent.Height
                        Text: ="Email"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_2 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 2);
                            Set(isVisibleSaveUpdateCustomer,false);
                            Reset(TextInput13);
                            Reset(TextInput13_1)
                        Width: =Parent.Width
                        ZIndex: =3

                    Image14 As image:
                        Height: =Parent.Height
                        Image: =iconemail
                        Width: =30
                        X: =10
                        ZIndex: =4

                Icon31 As icon.Save:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =40
                    Icon: =Icon.Save
                    OnSelect: |-
                        =If(
                            IsBlank(TextInput12_1.Text) || IsBlank(TextInput12_2.Text) || IsBlank(TextInput12_3.Text) || IsBlank(TextInput12_4.Text) || IsBlank(TextInput12_5.Text) || IsBlank(TextInput12.Text),
                            Notify(
                                "Vui lòng không để trống thông tin.",
                                NotificationType.Error
                            ),
                            If(
                                !IsMatch(
                                    TextInput12_4.Text,
                                    "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                                ) || !IsMatch(
                                    TextInput12_5.Text,
                                    "^0\d{9}$"
                                ),
                                Notify("Vui lòng nhập đúng định dạng"),
                                If(
                                    positionItemFunctionCustomerQuote = 3,
                                    Patch(
                                        Customer,
                                        Defaults(Customer),
                                        {
                                            taxCode: TextInput12.Text,
                                            customer_Name: TextInput12_1.Text,
                                            customer_Address: TextInput12_2.Text,
                                            contactPersonName_Customer: TextInput12_3.Text,
                                            contactPersonEmail_Customer: TextInput12_4.Text,
                                            contactPersonPhoneNumber_Customer: TextInput12_5.Text
                                        }
                                    );
                                    Notify(
                                        "Thêm thông tin khách hàng thành công",
                                        NotificationType.Success
                                    );
                                    Set(
                                        isVisibleSaveUpdateCustomer,
                                        false
                                    );
                                    Set(positionItemFunctionCustomerQuote,-1),
                                    Patch(
                                        Customer,
                                        LookUp(
                                            Customer,
                                            taxCode = TextInput12.Text
                                        ),
                                        {
                                            customer_Name: TextInput12_1.Text,
                                            customer_Address: TextInput12_2.Text,
                                            contactPersonName_Customer: TextInput12_3.Text,
                                            contactPersonEmail_Customer: TextInput12_4.Text,
                                            contactPersonPhoneNumber_Customer: TextInput12_5.Text
                                        }
                                    );
                                    Notify(
                                        "Thay đổi thông tin khách hàng thành công",
                                        NotificationType.Success
                                    );
                                    Set(
                                        isVisibleSaveUpdateCustomer,
                                        false
                                    )
                                )
                            )
                        )
                    Visible: =isVisibleSaveUpdateCustomer || positionItemFunctionCustomerQuote =3
                    Width: =40
                    X: =642
                    Y: =9
                    ZIndex: =4

                containerSaveEditCustomer_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 3, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 3, 51,39)
                    Width: =128
                    X: =25
                    Y: =8
                    ZIndex: =5

                    Icon44 As icon.Add:
                        Height: =Parent.Height
                        Icon: =Icon.Add
                        OnSelect: =
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115_3 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 3,FontWeight.Bold,FontWeight.Normal)
                        Height: =Parent.Height
                        Text: ="Tạo mới"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_3 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |
                            =Set(positionItemFunctionCustomerQuote, 3);
                            Set(isVisibleSaveUpdateCustomer,false);
                        Width: =Parent.Width
                        ZIndex: =3

            Container62 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Fill: =RGBA(26, 2, 2, 0.06)
                Height: =602
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMode: =LayoutMode.Auto
                Width: =996
                X: =12
                Y: =63
                ZIndex: =4

                Container58 As groupContainer.manualLayoutContainer:
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    ZIndex: =1

                    Container60 As groupContainer.verticalAutoLayoutContainer:
                        Height: =602
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMode: =LayoutMode.Auto
                        Width: =996
                        ZIndex: =1

                        Container63 As groupContainer.manualLayoutContainer:
                            FillPortions: =0
                            Height: =230
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: =!(positionItemFunctionCustomerQuote = -1)
                            ZIndex: =1

                            Container64 As groupContainer.manualLayoutContainer:
                                Fill: =RGBA(255, 255, 255, 1)
                                Height: =194
                                Visible: =positionItemFunctionCustomerQuote = 0 || positionItemFunctionCustomerQuote =1 ||positionItemFunctionCustomerQuote =3
                                Width: =982
                                X: =6
                                Y: =36
                                ZIndex: =1

                                Label114 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Mã số thuế:"
                                    X: =4
                                    Y: =18
                                    ZIndex: =1

                                TextInput12 As text:
                                    BorderThickness: =1
                                    Default: =If(positionItemFunctionCustomerQuote =3,"",Gallery17.Selected.taxCode)
                                    DisplayMode: =If(positionItemFunctionCustomerQuote =3,DisplayMode.Edit,DisplayMode.Disabled)
                                    HintText: =If(positionItemFunctionCustomerQuote =3,"Mã số thuế")
                                    MaxLength: =10
                                    X: =166
                                    Y: =18
                                    ZIndex: =2

                                Label114_2 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Địa chỉ:"
                                    X: =4
                                    Y: =140
                                    ZIndex: =5

                                Label114_3 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Người đại diện:"
                                    X: =486
                                    Y: =18
                                    ZIndex: =7

                                Label114_4 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Email:"
                                    X: =486
                                    Y: =82
                                    ZIndex: =9

                                Label114_5 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Số điện thoại:"
                                    X: =486
                                    Y: =140
                                    ZIndex: =11

                                Label114_1 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Tên khách hàng:"
                                    X: =4
                                    Y: =82
                                    ZIndex: =13

                                Container70 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =166
                                    Y: =79
                                    ZIndex: =14

                                    TextInput12_1 As text:
                                        BorderThickness: =0.1
                                        Default: =If(positionItemFunctionCustomerQuote =3,"",Gallery17.Selected.customer_Name)
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1 ||positionItemFunctionCustomerQuote =3,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        HintText: ="Tên khách hàng"
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_1 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =166
                                    Y: =140
                                    ZIndex: =15

                                    TextInput12_2 As text:
                                        BorderThickness: =0.1
                                        Default: =If(positionItemFunctionCustomerQuote = 3,"",Gallery17.Selected.customer_Address)
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1 || positionItemFunctionCustomerQuote =3,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        HintText: ="Địa chỉ khách hàng"
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_2 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =648
                                    Y: =18
                                    ZIndex: =16

                                    TextInput12_3 As text:
                                        BorderThickness: =0.1
                                        Default: =If(positionItemFunctionCustomerQuote =3,"",Gallery17.Selected.contactPersonName_Customer)
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1 || positionItemFunctionCustomerQuote =3,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        HintText: ="Tên người đại diện"
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_3 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =648
                                    Y: =82
                                    ZIndex: =17

                                    TextInput12_4 As text:
                                        BorderThickness: =0.1
                                        Default: =If(positionItemFunctionCustomerQuote =3,"",Gallery17.Selected.contactPersonEmail_Customer)
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1 || positionItemFunctionCustomerQuote =3,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        HintText: ="Email"
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_4 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =648
                                    Y: =140
                                    ZIndex: =18

                                    TextInput12_5 As text:
                                        BorderThickness: =0.1
                                        Default: =If(positionItemFunctionCustomerQuote =3,"",Gallery17.Selected.contactPersonPhoneNumber_Customer)
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1 ||positionItemFunctionCustomerQuote =3,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        HintText: ="Số điện thoại"
                                        MaxLength: =10
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                            Icon15 As icon.Cancel:
                                Color: =RGBA(0, 0, 0, 1)
                                Height: =35
                                Icon: =Icon.Cancel
                                OnSelect: =Set(positionItemFunctionCustomerQuote, -1)
                                Width: =35
                                X: =953
                                Y: =1
                                ZIndex: =2

                            Label66 As label:
                                FontWeight: =FontWeight.Semibold
                                Height: =36
                                Size: =17
                                Text: |-
                                    =If(
                                        positionItemFunctionCustomerQuote = 0,
                                        "Thông tin khách hàng",
                                        If(
                                            positionItemFunctionCustomerQuote = 1,
                                            "Sửa khách hàng",
                                            If(
                                                positionItemFunctionCustomerQuote = 2,
                                                "Gửi Email"
                                            )
                                        )
                                    )
                                Width: =289
                                X: =6
                                ZIndex: =3

                            Container66 As groupContainer.manualLayoutContainer:
                                Fill: =RGBA(255, 255, 255, 1)
                                Height: =194
                                Visible: =positionItemFunctionCustomerQuote = 2
                                Width: =982
                                X: =6
                                Y: =36
                                ZIndex: =4

                                Label117 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Size: =15
                                    Text: |-
                                        ="Tiêu đề:"
                                    X: =48
                                    Y: =6
                                    ZIndex: =1

                                TextInput13 As text:
                                    BorderThickness: =0.1
                                    Clear: =true
                                    Default: =""
                                    HintText: ="Tiêu đề"
                                    RadiusBottomLeft: =10
                                    RadiusBottomRight: =10
                                    RadiusTopLeft: =10
                                    RadiusTopRight: =10
                                    Width: =722
                                    X: =209
                                    Y: =6
                                    ZIndex: =2

                                Label117_1 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Size: =15
                                    Text: |-
                                        ="Nội dung:"
                                    X: =48
                                    Y: =58
                                    ZIndex: =3

                                TextInput13_1 As text:
                                    BorderThickness: =0.1
                                    Clear: =true
                                    Default: =""
                                    Height: =76
                                    HintText: ="Nội dung"
                                    Mode: =TextMode.MultiLine
                                    RadiusBottomLeft: =10
                                    RadiusBottomRight: =10
                                    RadiusTopLeft: =10
                                    RadiusTopRight: =10
                                    Width: =722
                                    X: =209
                                    Y: =58
                                    ZIndex: =4

                                Icon32 As icon.Send:
                                    Height: =35
                                    Icon: =Icon.Send
                                    OnSelect: |-
                                        =If(
                                            IsBlank(TextInput13.Text) || IsBlank(TextInput13_1.Text),
                                            Notify(
                                                "Vui lòng nhập đầy đủ trường thông tin",
                                                NotificationType.Error
                                            ),
                                            Warehouse_Manager_SendEmailRole.Run(
                                                Gallery17.Selected.contactPersonEmail_Customer,
                                                TextInput13.Text,
                                                TextInput13_1.Text
                                            );
                                            Notify("Gửi email thành công",NotificationType.Success)
                                        )
                                    Width: =35
                                    X: =931
                                    Y: =146
                                    ZIndex: =5

                                Label119 As label:
                                    Align: =Align.Right
                                    Color: =RGBA(56, 96, 178, 1)
                                    Height: =35
                                    Italic: =true
                                    Text: |-
                                        ="Email người nhận: " & Gallery17.Selected.contactPersonEmail_Customer
                                    Width: =500
                                    X: =414
                                    Y: =146
                                    ZIndex: =6

                        Label80 As label:
                            AlignInContainer: =AlignInContainer.Stretch
                            FontWeight: =FontWeight.Semibold
                            Size: =17
                            Text: ="Danh sách khách hàng"
                            ZIndex: =2

                        Container65 As groupContainer.manualLayoutContainer:
                            Fill: =RGBA(241, 244, 249, 1)
                            FillPortions: =0
                            Height: =40
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            RadiusBottomLeft: =10
                            RadiusBottomRight: =10
                            RadiusTopLeft: =10
                            RadiusTopRight: =10
                            ZIndex: =3

                            Label116 As label:
                                Align: =Align.Center
                                FontWeight: =FontWeight.Semibold
                                Size: =15
                                Text: ="Mã số thuế"
                                Width: =238
                                X: =21
                                ZIndex: =1

                            Label116_1 As label:
                                Align: =Align.Center
                                FontWeight: =FontWeight.Semibold
                                Size: =15
                                Text: ="Tên khách hàng"
                                Width: =366
                                X: =259
                                ZIndex: =2

                            Label116_2 As label:
                                Align: =Align.Center
                                FontWeight: =FontWeight.Semibold
                                Size: =15
                                Text: |-
                                    ="Số điện thoại
                                    "
                                Width: =276
                                X: =625
                                ZIndex: =3

                        "Gallery17 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            DelayItemLoading: =true
                            FillPortions: =If(positionItemFunctionCustomerQuote = -1, 1, 0)
                            Height: =300
                            Items: =Customer
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =287
                            LayoutMinWidth: =320
                            LoadingSpinner: =LoadingSpinner.Data
                            OnSelect: =Set(isVisibleSaveUpdateCustomer,false);
                            TemplatePadding: =0
                            TemplateSize: =70
                            ZIndex: =4

                            Separator14 As rectangle:
                                Height: =8
                                OnSelect: =Select(Parent)
                                Width: =Parent.TemplateWidth
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =5

                            Rectangle12 As rectangle:
                                Height: =Parent.TemplateHeight - Separator14.Height
                                OnSelect: =Select(Parent)
                                Visible: =ThisItem.IsSelected
                                Width: =4
                                ZIndex: =6

                            Label107 As label:
                                Align: =Align.Center
                                Color: =RGBA(0, 18, 107, 1)
                                Height: =62
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: =ThisItem.taxCode
                                Width: =240
                                X: =21
                                ZIndex: =7

                            Label107_1 As label:
                                Align: =Align.Center
                                Height: =62
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: =ThisItem.customer_Name
                                Width: =366
                                X: =261
                                ZIndex: =8

                            Label107_2 As label:
                                Align: =Align.Center
                                Height: =62
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: =ThisItem.contactPersonPhoneNumber_Customer
                                Width: =276
                                X: =627
                                ZIndex: =9

        Container68 As groupContainer.manualLayoutContainer:
            Height: =688
            Visible: =Gallery10.Selected.id = 1 && Gallery10.Selected.btnFunction= "btnQuoteSale" && positionOptionCustomerQuote = 1 
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =4

            Label122 As label:
                FontWeight: =FontWeight.Semibold
                Height: =33
                Size: =20
                Text: ="Tạo khách hàng"
                Width: =294
                X: =16
                Y: =10
                ZIndex: =1

            Label123 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Mã số thuế:"
                Width: =126
                X: =37
                Y: =62
                ZIndex: =2

            TextInput14 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Mã số thuế"
                Width: =304
                X: =163
                Y: =62
                ZIndex: =3

            Label123_1 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Tên khách hàng:"
                Width: =171
                X: =481
                Y: =62
                ZIndex: =4

            TextInput14_1 As text:
                BorderThickness: =0.1
                Default: =""
                Height: =36
                HintText: ="Tên khách hàng"
                Width: =332
                X: =652
                Y: =66
                ZIndex: =5

            Label123_2 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Text: |-
                    ="Địa chỉ:"
                Width: =133
                X: =30
                Y: =123
                ZIndex: =6

            TextInput14_2 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Địa chỉ"
                Width: =821
                X: =163
                Y: =123
                ZIndex: =7

            Label123_3 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Người đại diện:"
                Width: =164
                Y: =178
                ZIndex: =8

            TextInput14_3 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Tên người đại diện"
                Width: =303
                X: =163
                Y: =178
                ZIndex: =9

            Label123_4 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Email:"
                Width: =88
                X: =481
                Y: =178
                ZIndex: =10

            TextInput14_4 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Email"
                Width: =415
                X: =569
                Y: =178
                ZIndex: =11

            Label123_5 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Text: |-
                    ="Số điện thoại:"
                Width: =145
                X: =16
                Y: =242
                ZIndex: =12

            TextInput14_5 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Số điện thoại"
                Width: =302
                X: =164
                Y: =242
                ZIndex: =13

            Button14 As button:
                FontWeight: =FontWeight.Bold
                Size: =20
                Text: ="Xác nhận"
                Width: =251
                X: =355
                Y: =363
                ZIndex: =14

        Container21 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =688
            Visible: =Gallery10.Selected.id = 2 && Gallery10.Selected.btnFunction= "btnQuoteSale"
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =5

            Container96 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.None
                Height: =586
                Width: =982
                X: =15
                Y: =78
                ZIndex: =2

                Container108 As groupContainer.verticalAutoLayoutContainer:
                    Height: =586
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMode: =LayoutMode.Auto
                    Width: =982
                    ZIndex: =1

                    Container109 As groupContainer.manualLayoutContainer:
                        BorderThickness: =1
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                        Visible: =positionOptionService <> "Delete" && !(positionOptionService = "")
                        ZIndex: =1

                        Label162 As label:
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =20
                            Text: =If(positionOptionService = "Create","Tạo dịch vụ",If(positionOptionService = "Edit","Sửa dịch vụ",If(positionOptionService = "Detail","Chi tiết dịch vụ")))
                            Width: =390
                            X: =8
                            Y: =4
                            ZIndex: =1

                        Label163 As label:
                            Align: =Align.Right
                            FontWeight: =FontWeight.Semibold
                            Height: =27
                            Size: =15
                            Text: |-
                                ="Tên dịch vụ:"
                            X: =8
                            Y: =53
                            ZIndex: =2

                        TextInput18 As text:
                            Default: =If(positionOptionService = "Create", "",If(positionOptionService = "Detail" || positionOptionService = "Edit",Gallery23.Selected.service_Name))
                            DisplayMode: =If(positionOptionService = "Create"|| positionOptionService = "Edit",DisplayMode.Edit, If(positionOptionService = "Detail" ,DisplayMode.Disabled))
                            Height: =34
                            HintText: ="Tên dịch vụ"
                            Width: =395
                            X: =158
                            Y: =53
                            ZIndex: =3

                        Label163_1 As label:
                            Align: =Align.Right
                            FontWeight: =FontWeight.Semibold
                            Height: =27
                            Size: =15
                            Text: |-
                                ="Mô tả:"
                            Width: =88
                            X: =568
                            Y: =53
                            ZIndex: =4

                        TextInput18_1 As text:
                            Default: =If(positionOptionService = "Create", "",If(positionOptionService = "Detail" || positionOptionService = "Edit",Gallery23.Selected.service_Decription))
                            DisplayMode: =If(positionOptionService = "Create"|| positionOptionService = "Edit",DisplayMode.Edit, If(positionOptionService = "Detail" ,DisplayMode.Disabled))
                            Height: =81
                            HintText: ="Mô tả"
                            Mode: =TextMode.MultiLine
                            Width: =299
                            X: =656
                            Y: =53
                            ZIndex: =5

                        Label163_2 As label:
                            Align: =Align.Right
                            FontWeight: =FontWeight.Semibold
                            Height: =27
                            Size: =15
                            Text: |-
                                ="Giá:"
                            X: =8
                            Y: =100
                            ZIndex: =6

                        TextInput18_2 As text:
                            Default: =If(positionOptionService = "Create", "",If(positionOptionService = "Detail" || positionOptionService = "Edit",If(Value(Gallery23.Selected.service_Price)<1,"0,000",Text(Gallery23.Selected.service_Price,"0,000"))))
                            DisplayMode: =If(positionOptionService = "Create"|| positionOptionService = "Edit",DisplayMode.Edit, If(positionOptionService = "Detail" ,DisplayMode.Disabled))
                            Format: =TextFormat.Number
                            Height: =34
                            HintText: ="Giá"
                            Width: =395
                            X: =158
                            Y: =100
                            ZIndex: =7

                    Label161 As label:
                        Color: =RGBA(56, 96, 178, 1)
                        FontWeight: =FontWeight.Lighter
                        Height: =27
                        Italic: =true
                        OnSelect: |
                            =
                            /*CRUD_Service_Warehouse.Run(
                                JSON(
                                    arrDeleteSerViceStatus,
                                    JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                                )
                            );*/
                            ForAll(
                                arrDeleteSerVice As Temp,
                                Patch(
                                    Service,
                                    LookUp(
                                        Service,id_Serivce = Temp.id_SV
                                    ),{activity: false}
                                )
                            );
                            ClearCollect(arrDeleteSerVice,[]);
                            Set(positionOptionService,"")
                        Size: =15
                        Text: ="Xoá tất cả vụ đã chọn"
                        Underline: =true
                        Visible: =positionOptionService ="Delete" && CountRows(arrDeleteSerVice) > 0
                        Width: =202
                        X: =40
                        Y: =28
                        ZIndex: =2

                    Container98 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.06)
                        FillPortions: =0
                        Height: =35
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =958
                        X: =12
                        Y: =43
                        ZIndex: =3

                        Label154 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =35
                            Text: ="Mã dịch vụ"
                            Width: =186
                            X: =If(positionOptionService ="Delete",49,0)
                            ZIndex: =1

                        Label154_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =35
                            Text: ="Tên dịch vụ"
                            Width: =If(positionOptionService = "Delete", 547,595)
                            X: =If(positionOptionService ="Delete",235,186)
                            ZIndex: =2

                        Label154_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =35
                            Text: ="Giá"
                            Width: =176
                            X: =782
                            ZIndex: =3

                    "Gallery23 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        BorderThickness: =1
                        DelayItemLoading: =true
                        Height: =460
                        Items: =Filter(Service,activity = true)
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =40
                        Width: =958
                        X: =12
                        Y: =83
                        ZIndex: =4

                        Label155 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(56, 96, 178, 1)
                            BorderThickness: =1
                            Color: =RGBA(56, 96, 178, 1)
                            Italic: =true
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.id_Serivce
                            Width: =186
                            X: =Label154.X
                            ZIndex: =1

                        Label155_1 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(56, 96, 178, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.service_Name
                            Width: =Label154_1.Width
                            X: =Label154_1.X
                            ZIndex: =2

                        Label155_2 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(56, 96, 178, 1)
                            BorderThickness: =1
                            Color: =RGBA(184, 0, 0, 1)
                            Italic: =true
                            OnSelect: =Select(Parent)
                            Text: =If(ThisItem.service_Price < 1, "0,000", Text(ThisItem.service_Price,"0,000"))
                            Width: =201
                            X: =781
                            ZIndex: =3

                        Rectangle19 As rectangle:
                            Fill: =RGBA(232, 244, 217, 0.41)
                            Height: =40
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =1
                            ZIndex: =4

                        Checkbox6 As checkbox:
                            BorderThickness: =1
                            Default: =!(positionOptionService ="Delete")
                            Height: =40
                            OnCheck: |-
                                =Collect(arrDeleteSerVice,{id_SV:ThisItem.id_Serivce});
                            OnSelect: =Select(Parent)
                            OnUncheck: =RemoveIf(arrDeleteSerVice,id_SV = ThisItem.id_Serivce);
                            Text: =""
                            Visible: =positionOptionService ="Delete"
                            Width: =48
                            X: =1
                            ZIndex: =5

                        Rectangle14 As rectangle:
                            Fill: =RGBA(232, 244, 217, 0.43)
                            Height: =40
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =982
                            X: =If(positionOptionService = "Delete",49,0)
                            ZIndex: =6

            Container102 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =634
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =isVisibleDetailService
                Width: =428
                X: =579
                Y: =30
                ZIndex: =3

                Icon46 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =45
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDetailService,false)
                    Width: =45
                    X: =369
                    Y: =15
                    ZIndex: =1

                Label156 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =45
                    Size: =18
                    Text: ="Chi tiết dịch vụ"
                    Width: =320
                    X: =12
                    Y: =15
                    ZIndex: =2

                Label157 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mã dịch vụ"
                    X: =40
                    Y: =60
                    ZIndex: =3

                Container103 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Height: =32
                    Width: =343
                    X: =40
                    Y: =100
                    ZIndex: =4

                    Label159 As label:
                        Height: =32
                        Text: =Gallery23.Selected.id_Serivce
                        Width: =343
                        ZIndex: =1

                Label157_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Tên dịch vụ"
                    X: =40
                    Y: =150
                    ZIndex: =5

                Container103_1 As groupContainer.manualLayoutContainer:
                    Height: =32
                    Width: =343
                    X: =40
                    Y: =190
                    ZIndex: =6

                    Label159_1 As label:
                        Height: =32
                        Text: =Gallery23.Selected.service_Name
                        Width: =343
                        ZIndex: =1

                Label157_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mô tả"
                    X: =40
                    Y: =248
                    ZIndex: =7

                Container103_2 As groupContainer.manualLayoutContainer:
                    Height: =103
                    Width: =343
                    X: =40
                    Y: =288
                    ZIndex: =8

                    Label159_2 As label:
                        Height: =103
                        Overflow: =Overflow.Scroll
                        Text: =Gallery23.Selected.service_Decription
                        Width: =343
                        ZIndex: =1

                Label157_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Giá"
                    X: =40
                    Y: =417
                    ZIndex: =9

                Container103_3 As groupContainer.manualLayoutContainer:
                    Height: =32
                    Width: =343
                    X: =40
                    Y: =457
                    ZIndex: =10

                    Label159_3 As label:
                        Color: =RGBA(184, 0, 0, 1)
                        Height: =32
                        Italic: =true
                        Text: =If(Gallery23.Selected.service_Price < 1, "0,000",Text(Gallery23.Selected.service_Price,"0,000"))
                        Width: =343
                        ZIndex: =1

            Container105 As groupContainer.manualLayoutContainer:
                Height: =59
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =768
                X: =12
                Y: =4
                ZIndex: =4

                containerSaveEditCustomer_4 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionOptionService = "Edit",RGBA(128, 128, 128, 0.39),RGBA(255, 255, 255, 1))
                    Height: =If(positionOptionService = "Edit",48,39)
                    Width: =128
                    X: =316
                    Y: =8
                    ZIndex: =3

                    Icon44_3 As icon.Add:
                        Height: =Parent.Height
                        Icon: =Icon.Edit
                        OnSelect: =
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115_6 As label:
                        Align: =Align.Center
                        Color: =If(positionOptionService = "Edit",RGBA(255, 255, 255, 1),RGBA(0, 0, 0, 1))
                        FontWeight: =If(positionOptionService = "Edit",FontWeight.Bold,FontWeight.Lighter)
                        Height: =Parent.Height
                        Text: ="Sửa"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_6 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: =If(positionOptionService = "Edit",Set(positionOptionService,""),Set(positionOptionService,"Edit"))
                        Width: =Parent.Width
                        ZIndex: =3

                containerSaveEditCustomer_5 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionOptionService = "Create",RGBA(128, 128, 128, 0.39),RGBA(255, 255, 255, 1))
                    Height: =If(positionOptionService = "Create",48,39)
                    Width: =128
                    X: =16
                    Y: =8
                    ZIndex: =4

                    Icon44_4 As icon.Add:
                        Height: =Parent.Height
                        Icon: =Icon.Add
                        OnSelect: =
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115_7 As label:
                        Align: =Align.Center
                        Color: =If(positionOptionService = "Create",RGBA(255, 255, 255, 1),RGBA(0, 0, 0, 1))
                        FontWeight: =If(positionOptionService = "Create",FontWeight.Bold,FontWeight.Lighter)
                        Height: =Parent.Height
                        Text: ="Tạo mới"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_7 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =If(
                                positionOptionService = "Create",
                                Set(
                                    positionOptionService,
                                    ""
                                ),
                                Set(
                                    positionOptionService,
                                    "Create"
                                );
                                Reset(TextInput18);
                                Reset(TextInput18_1);
                                Reset(TextInput18_2)
                            )
                        Width: =Parent.Width
                        ZIndex: =3

                containerSaveEditCustomer_6 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionOptionService = "Delete",RGBA(128, 128, 128, 0.39),RGBA(255, 255, 255, 1))
                    Height: =If(positionOptionService = "Delete",48,39)
                    Width: =128
                    X: =166
                    Y: =8
                    ZIndex: =5

                    Icon44_5 As icon.Add:
                        Height: =Parent.Height
                        Icon: =Icon.Trash
                        OnSelect: =
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115_8 As label:
                        Align: =Align.Center
                        Color: =If(positionOptionService = "Delete",RGBA(255, 255, 255, 1),RGBA(0, 0, 0, 1))
                        FontWeight: =If(positionOptionService = "Delete",FontWeight.Bold,FontWeight.Lighter)
                        Height: =Parent.Height
                        Text: ="Xoá"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_8 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =If(positionOptionService ="Delete",Set(positionOptionService,""),Set(positionOptionService,"Delete"));
                            ClearCollect(arrDeleteSerVice,[]);
                        Width: =Parent.Width
                        ZIndex: =3

                containerSaveEditCustomer_7 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionOptionService = "Detail",RGBA(128, 128, 128, 0.39),RGBA(255, 255, 255, 1))
                    Height: =If(positionOptionService = "Detail",48,39)
                    Width: =128
                    X: =464
                    Y: =8
                    ZIndex: =6

                    Icon44_6 As icon.Add:
                        Height: =Parent.Height
                        Icon: =Icon.DetailList
                        OnSelect: =
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115_9 As label:
                        Align: =Align.Center
                        Color: =If(positionOptionService = "Detail",RGBA(255, 255, 255, 1),RGBA(0, 0, 0, 1))
                        FontWeight: =If(positionOptionService = "Detail",FontWeight.Bold,FontWeight.Lighter)
                        Height: =Parent.Height
                        Text: ="Chi tiết"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_9 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: =If(positionOptionService = "Detail",Set(positionOptionService,""),Set(positionOptionService,"Detail"))
                        Width: =Parent.Width
                        ZIndex: =3

                containerSaveEditCustomer_8 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: |
                        =39
                    Visible: =positionOptionService = "Create" || positionOptionService = "Edit"
                    Width: =128
                    X: =612
                    Y: =8
                    ZIndex: =7

                    Icon44_7 As icon.Add:
                        Height: =Parent.Height
                        Icon: =Icon.Save
                        OnSelect: =
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115_10 As label:
                        Align: =Align.Center
                        FontWeight: =
                        Height: =Parent.Height
                        Text: ="Lưu"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_10 As rectangle:
                        DisplayMode: =If(positionOptionService = "Create" || positionOptionService = "Edit",DisplayMode.Edit,DisplayMode.Disabled)
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput18.Text) || IsBlank(TextInput18_1.Text) || IsBlank(TextInput18_2.Text),
                                Notify(
                                    "Vui lòng điền đủ thông tin",
                                    NotificationType.Error
                                ),
                                If(
                                    positionOptionService = "Create",
                                    Patch(
                                        Service,
                                        Defaults(Service),
                                        {
                                            id_Serivce: "DV_" & Text(
                                                Now(),
                                                "ddmmyyhhmmss"
                                            ) & informationUser.ID,
                                            service_Name: TextInput18.Text,
                                            service_Decription: TextInput18_1.Text,
                                            service_Price: Value(TextInput18_2.Text),
                                            activity: true
                                        }
                                    );
                                    Set(
                                        positionOptionService,
                                        ""
                                    );
                                    Notify(
                                        "Thêm dịch vụ thành công",
                                        NotificationType.Success,
                                        1000
                                    ),
                                    If(
                                        positionOptionService = "Edit",
                                        Patch(
                                            Service,
                                            LookUp(
                                                Service,
                                                id_Serivce = Gallery23.Selected.id_Serivce
                                            ),
                                            {
                                                service_Name: TextInput18.Text,
                                                service_Decription: TextInput18_1.Text,
                                                service_Price: Value(TextInput18_2.Text)
                                            }
                                        );
                                        Notify(
                                            "Sửa dịch vụ thành công",
                                            NotificationType.Success,
                                            1000
                                        );
                                        Reset(TextInput18);
                                        Reset(TextInput18_1);
                                        Reset(TextInput18_2)
                                    )
                                )
                            )
                        Width: =Parent.Width
                        ZIndex: =3

    Container17 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(56, 96, 178, 1)
        Height: =67
        Width: =1366
        ZIndex: =2

        Gallery9 As gallery.galleryHorizontal:
            DelayItemLoading: =true
            Fill: =RGBA(255, 255, 255, 0)
            Height: =65
            Items: |-
                =Table(
                    {
                        id: "btnQuoteSale",
                        name: "Báo giá - đơn hàng"
                    },
                    {
                        id: "btnPurchase",
                        name: "Yêu cầu mua hàng"
                    },
                    {
                        id: "btnHistoryTransaction",
                        name: "Lịch sử giao dịch"
                    },{
                        id: "btnStatictical",
                        name: "Thống kê doanh thu"
                    }
                )
            LoadingSpinner: =LoadingSpinner.Data
            OnSelect: =Notify("Ád"&informationUser.id_Role)
            TemplateSize: =242
            Width: =1017
            ZIndex: =1

            Container18 As groupContainer.manualLayoutContainer:
                DropShadow: =If(btnFunctionSaleVertion2 = ThisItem.id,DropShadow.ExtraBold,DropShadow.Light)
                Fill: =If(ThisItem.IsSelected,RGBA(136, 160, 209, 1),RGBA(225, 225,225, 0))
                Height: =55
                Visible: =If(ThisItem.id <> "btnStatictical",true,informationUser.id_Role = 2)
                Width: =242
                ZIndex: =1

                Label59 As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FontWeight: =If(ThisItem.IsSelected,FontWeight.Semibold,FontWeight.Normal)
                    Height: =36
                    OnSelect: =
                    Text: =ThisItem.name
                    Width: =186
                    X: =52
                    Y: =12
                    ZIndex: =1

                Image10 As image:
                    Height: =50
                    Image: |-
                        =If(
                            ThisItem.id = "btnQuoteSale",
                            quote,
                            If(
                                ThisItem.id = "btnPurchase",
                                icontransaction,
                                If(
                                    ThisItem.id = "btnHistoryTransaction",
                                    historytransaction,statistial
                                )
                            )
                        )
                    OnSelect: =
                    Width: =50
                    X: =2
                    Y: =5
                    ZIndex: =2

                Button9 As button:
                    DisabledBorderColor: =RGBA(166, 166, 166, 0)
                    DisabledColor: =RGBA(215, 223, 240, 1)
                    DisabledFill: =RGBA(244, 244, 244, 0)
                    DisplayMode: =
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =50
                    HoverBorderColor: =RGBA(255, 255, 255, 0)
                    HoverColor: =RGBA(128, 128, 128, 1)
                    HoverFill: =/*ColorFade(RGBA(56, 96, 178, 1), -20%)*/
                    OnSelect: |-
                        =Set(
                            btnFunctionSaleVertion2,
                            ThisItem.id
                        );
                        // lịch sử giao dịch
                        If(
                            btnFunctionSaleVertion2 = "btnHistoryTransaction",
                            Set(
                                positionfuntionHistoryTransaction,
                                0
                            );
                            Refresh(Quote);
                            Refresh(Quote_Product);
                            Refresh(Quote_Service);
                            Refresh(Customer);
                            //Danh sách báo giá - đơn hàng
                        ClearCollect(
                                dataQuote_HistoryTransaction,
                                Filter(
                                    Quote,
                                    quote_Status.Value = "Đơn hàng"
                                )
                            );
                            //Danh sách khách hàng
                        ClearCollect(
                                dataCustomer_HistoryTransaction,
                                Customer
                            );
                            Set(
                                isVisibleFlatfilter_HistoryTransaction,
                                false
                            );
                            Set(
                                positionFlatHistory_Transaction,
                                0
                            );
                            //Danh sách khách hàng có đơn hàng
                        ClearCollect(
                                dataCustomerHaveOrder,
                                Filter(
                                    dataCustomer_HistoryTransaction As tempCustomer_History,
                                    tempCustomer_History.ID in dataQuote_HistoryTransaction.id_Customer
                                )
                            );
                            ClearCollect(
                                dataCustomerCountOrder,
                                AddColumns(
                                    dataCustomerHaveOrder As temp,
                                    "countOrder",
                                    CountRows(
                                        Filter(
                                            dataQuote_HistoryTransaction,
                                            id_Customer = temp.ID
                                        )
                                    )
                                )
                            ),
                            If(
                                btnFunctionSaleVertion2 = "btnPurchase",
                                Refresh(Purchase_request);
                                Refresh(Purchase_request_Product),
                                // nếu là thống kê
                                If(
                                    btnFunctionSaleVertion2 = "btnStatictical",
                                    Set(
                                        positionOptionObjectView,
                                        "product"
                                    );
                                    Refresh(Quote);
                                    Refresh(Quote_Product);
                                    Refresh(Quote_Service);
                                    ClearCollect(
                                        dataQuote,
                                        Quote
                                    );
                        
                                )
                            )
                        )
                    PressedBorderColor: =/*Self.Fill*/
                    PressedColor: =RGBA(204, 208, 225, 1)
                    Text: =""
                    Width: =240
                    X: =2
                    Y: =5
                    ZIndex: =3

        Container19 As groupContainer.manualLayoutContainer:
            BorderThickness: =2
            Fill: =RGBA(136, 160, 209, 1)
            Height: =59
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Width: =77
            X: =1285
            Y: =3
            ZIndex: =2

    containerAddQuoteNew_SaleVersion2 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 0.61)
        Height: =768
        Visible: =isVisibleDialogAddQuoteNew_SaleVertion2
        Width: =1366
        ZIndex: =3

        containerUpdateQuote_SaleVertion2 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =722
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleUpdatQuote_Vertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =1

            Label60 As label:
                Color: =RGBA(54, 176, 75, 1)
                FontWeight: =FontWeight.Semibold
                Height: =50
                Size: =24
                Text: =If(statusViewEditQuote = "view","Chi tiết Báo giá - Đơn hàng","Sửa thông tin báo giá")
                Width: =482
                X: =42
                Y: =19
                ZIndex: =1

            Icon13 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =50
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogAddQuoteNew_SaleVertion2, false);
                    Set(isVisibleUpdatQuote_Vertion2,false)
                Width: =50
                X: =1231
                Y: =12
                ZIndex: =2

            Label68_2 As label:
                FontWeight: =FontWeight.Semibold
                Height: =37
                Size: =15
                Text: ="Thời gian hết hạn"
                Width: =187
                X: =72
                Y: =83
                ZIndex: =3

            DatePicker2_1 As datepicker:
                ContentLanguage: ="vi-VN"
                DefaultDate: =Gallery16.Selected.quote_Expire
                DisplayMode: =If(statusViewEditQuote = "view",DisplayMode.Disabled,DisplayMode.Edit)
                Height: =38
                Language: ="vi-VN"
                Width: =300
                X: =274
                Y: =82
                ZIndex: =4

            Label68_4 As label:
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =15
                Text: ="Khách hàng"
                Width: =124
                X: =676
                Y: =95
                ZIndex: =5

            Container31_2 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 0, DropShadow.Semibold, DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =10
                RadiusBottomRight: =0
                RadiusTopLeft: =10
                RadiusTopRight: =0
                Width: =171
                X: =72
                Y: =135
                ZIndex: =7

                Label70_2 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 0, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,0);
                    Text: ="Sản phẩm"
                    Width: =171
                    ZIndex: =1

            Container31_3 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 1,DropShadow.Semibold,DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =0
                RadiusBottomRight: =10
                RadiusTopLeft: =0
                RadiusTopRight: =10
                Width: =171
                X: =243
                Y: =135
                ZIndex: =8

                Label70_3 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 1, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 1,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,1)
                    Text: ="Dịch vụ"
                    Width: =171
                    ZIndex: =1

            Container33_1 As groupContainer.manualLayoutContainer:
                Height: =281
                Width: =1191
                X: =57
                Y: =175
                ZIndex: =9

                containerArrProductNewQuote_1 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 0
                    Width: =1191
                    ZIndex: =1

                    Container41_2 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_7 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Sản phẩm"
                            Width: =283
                            ZIndex: =1

                        Label71_8 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =295
                            X: =283
                            ZIndex: =2

                        Label71_10 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="VAT"
                            Width: =122
                            X: =578
                            ZIndex: =3

                        Label71_11 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Số lượng"
                            Width: =142
                            X: =700
                            ZIndex: =4

                        Label71_12 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá/SP"
                            Width: =168
                            X: =842
                            ZIndex: =5

                    "Gallery12_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrProductAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =58
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_2 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_8 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =283
                            Wrap: =false
                            ZIndex: =6

                        Label78_9 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Product_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =295
                            Wrap: =false
                            X: =283
                            ZIndex: =7

                        Label78_10 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.vat & "%"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =122
                            X: =578
                            ZIndex: =8

                        Label78_11 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quantity_Quote_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =142
                            X: =700
                            ZIndex: =9

                        Label78_12 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =If(ThisItem.price_Quote_Product < 0 , "0",Text(ThisItem.price_Quote_Product,"#,###"))
                            VerticalAlign: =VerticalAlign.Top
                            Width: =168
                            X: =840
                            ZIndex: =10

                        Icon20_2 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =If(ThisItem.status = "Delete",Icon.Undo,Icon.Trash)
                            OnSelect: |-
                                =//Collect(arrProductDelete_Vertion2,ThisItem);
                                If(
                                    ThisItem.status <> "Delete",
                                    Patch(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            id_Product = ThisItem.id_Product
                                        ),
                                        {status: "Delete"}
                                    ), Patch(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            id_Product = ThisItem.id_Product
                                        ),
                                        {status: "Update"}
                                    )
                                )
                            Visible: =statusViewEditQuote = "edit"
                            Width: =30
                            X: =1148
                            Y: =6
                            ZIndex: =11

                        Icon26 As icon.Edit:
                            Height: =30
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(isVisibleUpdateProduct_Quote_Vertion2, true);
                                Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                                Set(positionDialogAddDataQuoteNew_SaleVertion2,0)
                            Visible: =statusViewEditQuote = "edit" && LookUp(Product,id_Product = ThisItem.id_Product).activity 
                            Width: =30
                            X: =1115
                            Y: =6
                            ZIndex: =12

                        Container22 As groupContainer.manualLayoutContainer:
                            Fill: =RGBA(255, 0, 0, 0.37)
                            Height: =46
                            Visible: =ThisItem.status = "Delete"
                            Width: =1141
                            X: =4
                            ZIndex: =13

                            Label63 As label:
                                Align: =Align.Center
                                Color: =RGBA(255, 255, 255, 1)
                                FontWeight: =FontWeight.Bold
                                Height: =45
                                Size: =20
                                Text: ="Đã xoá"
                                Width: =354
                                X: =335
                                ZIndex: =1

                        Container100 As groupContainer.manualLayoutContainer:
                            Fill: =RGBA(175, 191, 224, 0.7)
                            Height: =50
                            Visible: =(LookUp(Product,id_Product = ThisItem.id_Product).activity = false && ThisItem.status <>  "Delete")
                            Width: =If(statusViewEditQuote = "view",Parent.Width,1080)
                            ZIndex: =14

                            Label153 As label:
                                Align: =Align.Center
                                Color: =RGBA(255, 255, 255, 1)
                                FontWeight: =FontWeight.Semibold
                                Height: =43
                                Size: =20
                                Text: ="Sản phẩm ngừng kinh doanh"
                                Width: =536
                                X: =327
                                Y: =3
                                ZIndex: =1

                        Image12 As image:
                            Height: =50
                            Image: =iconhethang
                            ImagePosition: =ImagePosition.Fill
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.quantity_Quote_Product > LookUp(Product,id_Product = ThisItem.id_Product).quantity_Product && Gallery16.Selected.quote_Status.Value = "Báo giá"
                            Width: =87
                            X: =1028
                            ZIndex: =15

                Container47_1 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 1
                    Width: =1191
                    ZIndex: =2

                    Container41_3 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_13 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Dịch vụ"
                            Width: =346
                            X: =15
                            ZIndex: =1

                        Label71_14 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =543
                            X: =361
                            ZIndex: =2

                        Label71_15 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12_3 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrServiceAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_3 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_13 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Service, id_Serivce = ThisItem.id_Service).service_Name
                            VerticalAlign: =VerticalAlign.Top
                            Width: =346
                            X: =15
                            ZIndex: =10

                        Icon20_3 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =If(ThisItem.status = "Delete",Icon.Undo,Icon.Trash)
                            OnSelect: |-
                                =If(
                                    ThisItem.status <> "Delete",
                                    Patch(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            id_Service = ThisItem.id_Service
                                        ),
                                        {status: "Delete"}
                                    ), Patch(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            id_Service = ThisItem.id_Service
                                        ),
                                        {status: "Update"}
                                    )
                                )
                            Visible: =statusViewEditQuote = "edit"
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                        Label78_14 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Service_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =543
                            X: =361
                            ZIndex: =12

                        Label78_15 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =Text(ThisItem.price_Quote_Service,"#,###")
                            VerticalAlign: =VerticalAlign.Top
                            Width: =204
                            X: =904
                            Y: =6
                            ZIndex: =13

                        Icon29 As icon.Edit:
                            Height: =30
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(isVisibleUpdateService_Quote_Vertion2,true);
                                Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                                Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                                Reset(TextInput9);
                                Reset(Checkbox5)
                            Visible: =statusViewEditQuote = "edit"
                            Width: =30
                            X: =1108
                            Y: =6
                            ZIndex: =14

                        Container22_1 As groupContainer.manualLayoutContainer:
                            Fill: =RGBA(255, 0, 0, 0.37)
                            Height: =46
                            Visible: =ThisItem.status = "Delete"
                            Width: =1141
                            ZIndex: =15

                            Label63_1 As label:
                                Align: =Align.Center
                                Color: =RGBA(255, 255, 255, 1)
                                FontWeight: =FontWeight.Bold
                                Height: =45
                                Size: =20
                                Text: ="Đã xoá"
                                Width: =354
                                X: =335
                                ZIndex: =1

                        Container100_1 As groupContainer.manualLayoutContainer:
                            Fill: =RGBA(175, 191, 224, 0.7)
                            Height: =46
                            Visible: =LookUp(Service,id_Serivce = ThisItem.id_Service).activity = false && ThisItem.status <> "Delete"
                            Width: =1138
                            ZIndex: =16

                            Label153_1 As label:
                                Align: =Align.Center
                                Color: =RGBA(255, 255, 255, 1)
                                FontWeight: =FontWeight.Semibold
                                Height: =43
                                Size: =20
                                Text: ="Dịch vụ không hổ trợ"
                                Width: =536
                                X: =357
                                Y: =3
                                ZIndex: =1

            Label68_5 As label:
                FontWeight: =FontWeight.Semibold
                Height: =26
                Text: ="Mô tả"
                Width: =225
                X: =72
                Y: =467
                ZIndex: =10

            TextInput7_1 As text:
                BorderThickness: =0.2
                Clear: =true
                Default: =Gallery16.Selected.quote_Decription
                Height: =56
                HintText: ="Vui lòng nhập mô tả"
                Mode: =TextMode.MultiLine
                Width: =1183
                X: =57
                Y: =493
                ZIndex: =11

            Container57_1 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Height: =55
                Width: =397
                X: =57
                Y: =560
                ZIndex: =12

                Label113_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =55
                    Italic: =true
                    Size: =20
                    Text: |-
                        ="Tổng tiền: " & Text(
                            Value(
                               Sum(
                                    Filter(arrProductAddQuoteNew_SaleVertion2,status <> "Delete")
                        ,
                                    Value((Value(price_Quote_Product) * Value(quantity_Quote_Product)) + (Value(price_Quote_Product) * Value(quantity_Quote_Product) * vat%))
                                ) + Sum(
                                    Filter(arrServiceAddQuoteNew_SaleVertion2,status <> "Delete"),
                                    Value(price_Quote_Service)
                                )
                            ),
                            "0,000"
                        )
                    Width: =397
                    ZIndex: =1

            Label69_1 As label:
                Align: =Align.Center
                Fill: =RGBA(189, 240, 194, 1)
                FontWeight: =FontWeight.Semibold
                OnSelect: |-
                    =If(
                        IsBlank(TextInput7_1.Text) || IsBlank(arrProductAddQuoteNew_SaleVertion2),
                        Notify(
                            "Vui lòng điền đủ thông tin",
                            NotificationType.Error
                        ),
                        If(
                            CountRows(arrProductAddQuoteNew_SaleVertion2) < 1,
                            Notify(
                                "Báo giá phải có ít nhất 1 sản phẩm.Vui lòng thêm sản phẩm",
                                NotificationType.Error
                            ),
                            CRUD_Quote_Product_Warehouse.Run(
                                JSON(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                                )
                            );
                            CRUD_Service_Warehouse.Run(JSON(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                                ));
                            Set(
                                isVisibleDialogAddQuoteNew_SaleVertion2,
                                false
                            );
                            Set(
                                isVisibleUpdatQuote_Vertion2,
                                false
                            )
                            /*If(
                                CountRows(arrProductDelete_Vertion2) > 0,
                                ForAll(
                                    arrProductDelete_Vertion2,
                                    RemoveIf(
                                        Quote_Product,
                                        id_Quote = ThisRecord.id_Quote && id_Product = ThisRecord.id_Product
                                    )
                                )
                            );
                            If(
                                CountRows(arrServiceDelete_Vertion2) > 0,
                                ForAll(
                                    arrServiceDelete_Vertion2,
                                    RemoveIf(
                                        Quote_Service,
                                        id_Quote = ThisRecord.id_Quote && id_Service = ThisRecord.id_Service
                                    )
                                )
                            );
                            ForAll(
                                arrProductAddQuoteNew_SaleVertion2,
                                Patch(
                                    Quote_Product,
                                    LookUp(
                                        Quote_Product,
                                        id_Quote = ThisRecord.id_Quote && id_Product = ThisRecord.id_Product
                                    ),
                                    {
                                        quantity_Quote_Product: ThisRecord.quantity_Quote_Product,
                                        quote_Product_Note: ThisRecord.quote_Product_Note,
                                        vat: ThisRecord.vat
                                    }
                                )
                            );
                            ForAll(
                                arrServiceAddQuoteNew_SaleVertion2,
                                Patch(
                                    Quote_Service,
                                    LookUp(
                                        Quote_Service,
                                        id_Quote = ThisRecord.id_Quote && id_Service = ThisRecord.id_Service
                                    ),
                                    {
                                        quote_Service_Note: ThisRecord.quote_Service_Not,
                                        price_Quote_Service: ThisRecord.price_Quote_Service
                                    }
                                )
                            )*/
                        )
                    )
                Size: =18
                Text: ="Lưu lại"
                Visible: =statusViewEditQuote = "edit"
                Width: =173
                X: =1075
                Y: =632
                ZIndex: =13

            Label72_1 As label:
                Align: =Align.Center
                Color: =RGBA(0, 18, 107, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,0)
                Size: =15
                Text: ="Thêm sản phẩm"
                Underline: =true
                Visible: =positionOptionCreatQuote = 0 && statusViewEditQuote = "edit"
                Width: =173
                X: =1075
                Y: =148
                ZIndex: =14

            Label79_1 As label:
                Color: =RGBA(16, 29, 97, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                    Reset(TextInput9);
                    Reset(Checkbox5)
                Size: =15
                Text: ="Thêm dịch vụ"
                Underline: =true
                Visible: =positionOptionCreatQuote = 1 && statusViewEditQuote = "edit"
                Width: =128
                X: =1120
                Y: =148
                ZIndex: =15

            Container28 As groupContainer.manualLayoutContainer:
                Height: =38
                Width: =300
                X: =825
                Y: =86
                ZIndex: =16

                Label61 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =38
                    Italic: =true
                    Text: =LookUp(Customer,ID = Gallery16.Selected.id_Customer).customer_Name
                    Width: =300
                    ZIndex: =1

            Container106 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Height: =60
                Visible: =Gallery16.Selected.quote_Status.Value = "Báo giá" && statusViewEditQuote = "view"
                Width: =332
                X: =908
                Y: =632
                ZIndex: =18

                Toggle1 As toggleSwitch:
                    Color: =RGBA(128, 128, 128, 1)
                    DisplayMode: =If(Container100.Visible ||Container100_1.Visible ||Image12.Visible,DisplayMode.Disabled,DisplayMode.Edit)
                    FalseFill: =RGBA(56, 96, 178, 1)
                    FalseText: ="Chuyển sang đơn hàng"
                    FontWeight: =FontWeight.Semibold
                    Height: =47
                    Italic: =true
                    OnCheck: |-
                        =Patch(
                            Quote,
                            LookUp(
                                Quote,
                                id_Quote = Gallery16.Selected.id_Quote
                            ),
                            {quote_Status: {Value: "Đơn hàng"}}
                        );
                        ForAll(
                            arrProductAddQuoteNew_SaleVertion2 As temp,
                            Patch(
                                Product,
                                LookUp(
                                    Product,
                                    id_Product = temp.id_Product
                                ),
                                {
                                    quantity_Product: LookUp(
                                        Product,
                                        id_Product = temp.id_Product
                                    ).quantity_Product - temp.quantity_Quote_Product
                                }
                            );
                            If(LookUp(Product,id_Product = temp.id_Product).quantity_Product =0,ForAll(
                                    Filter(
                                        User,
                                        id_Role = 3
                                    ) As tempUser,
                                    Warehouse_Manager_SendEmailRole.Run(
                                        tempUser.email_User,
                                        "Sản phẩm hết hàng",
                                        "Sản phẩm có mã: " & temp.id_Product & " đã được đặt hết"
                                    )
                                ))
                            
                        );
                        Set(
                            isVisibleDialogAddQuoteNew_SaleVertion2,
                            false
                        );
                        Set(
                            isVisibleUpdatQuote_Vertion2,
                            false
                        )
                    Size: =15
                    TextPosition: =TextPosition.Left
                    TrueText: ="Chuyển sang đơn hàng"
                    Width: =316
                    X: =5
                    Y: =5
                    ZIndex: =1

            Container118 As groupContainer.manualLayoutContainer:
                BorderThickness: =0.1
                DropShadow: =DropShadow.Semibold
                Height: =43
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =statusViewEditQuote = "view"
                Width: =179
                X: =If(Gallery16.Selected.quote_Status.Value = "Đơn hàng",542,710)
                Y: =26
                ZIndex: =19

                Image15 As image:
                    Height: =35
                    Image: ='icons8-import-pdf-50'
                    Width: =35
                    X: =2
                    Y: =3
                    ZIndex: =1

                Label164 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =42
                    Size: =15
                    Text: ="Xuất file PDF"
                    Width: =138
                    X: =41
                    ZIndex: =2

                Rectangle21 As rectangle:
                    Fill: =RGBA(56, 96, 178, 0)
                    Height: =43
                    OnSelect: |-
                        =Set(
                            dataSerVice,
                            Service
                        );
                        Set(
                            dataProduct,
                            Product
                        );
                        If(
                            CountRows(arrServiceAddQuoteNew_SaleVertion2) > 0,
                            Set(
                                strHtmlService,
                                Concat(
                                    arrServiceAddQuoteNew_SaleVertion2 As Temp,
                                    " <tr>
                                            <td>" & LookUp(
                                        dataSerVice,
                                        id_Serivce = Temp.id_Service
                                    ).service_Name & "</td><td>" & Text(
                                        Temp.price_Quote_Service,
                                        "#,### đ"
                                    ) & "</td></tr>"
                                )
                            )
                        );
                        If(
                            CountRows(arrProductAddQuoteNew_SaleVertion2) > 0,
                            Set(
                                strHtmlProduct,
                                Concat(
                                    arrProductAddQuoteNew_SaleVertion2 As TemPd,
                                    " <tr>
                                            <td>" & LookUp(
                                        dataProduct,
                                        id_Product = TemPd.id_Product
                                    ).name_Product & "</td><td>" & TemPd.quantity_Quote_Product & "</td><td>" & Text(
                                        TemPd.price_Quote_Product,
                                        "#,### đ"
                                    ) & "</td><td>" & Text(
                                        Value(TemPd.quantity_Quote_Product * TemPd.price_Quote_Product * TemPd.vat%),
                                        "#,### đ"
                                    ) & "</td>
                                    <td>" & Text(
                                        Value(TemPd.quantity_Quote_Product * TemPd.price_Quote_Product + (TemPd.quantity_Quote_Product * TemPd.price_Quote_Product * TemPd.vat%)),
                                        "#,### đ"
                                    ) & "</td></tr>"
                                )
                            )
                        );
                        Set(
                            htmlText,
                            "<!DOCTYPE html>
                        <html lang='en'>
                            <head>
                                <meta charset='UTF-8'>
                                <meta name='viewport' content='width=device-width, initial-scale=1.0'>
                                <title>file báo giá - đơn hàng</title>
                                <style>
                                    table {
                                        border-collapse: collapse;
                                        width: 100%;
                                    }
                                    th,
                                    td {
                                        border: 1px solid black;
                                        padding: 8px;
                                        text-align: center;
                                    }
                                </style>
                            </head>
                            <body
                        
                            >
                                <h2
                                    style='text-align: center;'>BÁO GIÁ - ĐƠN HÀNG</h2>
                                <div>
                                <p
                                        style='font-weight: 600;font-style: italic;'> Mã báo giá - đơn hàng: " & Gallery16.Selected.id_Quote & "</p>
                                    <h4>Khách hàng: <span
                                            style='font-weight: normal;font-style: italic;'>" & Label61.Text & "</span></h4>
                                    <h4>Người tạo: <span
                                            style='font-weight: normal;font-style: italic;'>" & LookUp(
                                User,
                                ID = Gallery16.Selected.id_User
                            ).user_Name & "</span></h4>
                                    <h4>Thời gian tạo - hết hạn: <span
                                            style='font-weight: normal;font-style: italic;'>" & Gallery16.Selected.quote_Date & "-" & Text(
                                DatePicker2_1.SelectedDate,
                                "dd/mm/yyyy"
                            ) & "</span></h4>
                                    <h4>Mô tả:  <span
                                            style='font-weight: normal;'>" & TextInput7_1.Text & "</span></h4>
                                </div>
                              " & If(
                                CountRows(arrProductAddQuoteNew_SaleVertion2) > 0,
                                " <div>
                                    <h3>Danh sách sản phẩm</h3>
                                    <table
                                        style='border: 1px solid;'>
                                        <tr>
                                            <th>Tên sản phẩm</th>
                                            <th>Số lượng</th>
                                            <th>Giá cả</th>
                                            <th>VAT</th>
                                            <th>Tổng tiền</th>
                                        </tr>
                                        " & strHtmlProduct & "
                                    </table>
                                </div>"
                            ) & If(
                                CountRows(arrServiceAddQuoteNew_SaleVertion2) > 0,
                                "<div>
                                    <h3>Danh sách dịch vụ</h3>
                                    <table
                                        style='border: 1px solid;'>
                                        <tr>
                                            <th>Tên dịch vụ</th>
                                            <th>Giá</th>
                                        </tr>
                                        " & strHtmlService & "
                                    </table>
                                </div>"
                            ) & "
                                <p
                                    style='font-size: 26px; font-weight: 600;'>Tổng tiền: <span
                                        style='font-weight: normal; color: red;'>" & Text(
                                Value(
                                    Sum(
                                        Filter(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            status <> "Delete"
                                        ),
                                        Value((Value(price_Quote_Product) * Value(quantity_Quote_Product)) + (Value(price_Quote_Product) * Value(quantity_Quote_Product) * vat%))
                                    ) + Sum(
                                        Filter(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            status <> "Delete"
                                        ),
                                        Value(price_Quote_Service)
                                    )
                                ),
                                "0,000"
                            ) & "</span></p>
                             <p
                                        style='font-style: italic;text-align :right;'>Thời gian in: " & Text(
                                Now(),
                                "dd/mm/yyyy hh:mm:ss"
                            ) & "</p>
                            </body>
                        </html>
                        "
                        );
                        Export_PDF_Warehouse_Manager.Run(
                            htmlText,
                           Gallery16.Selected.id_Quote & Label61.Text & ".html"
                        )
                    Width: =177
                    ZIndex: =3

            Container118_1 As groupContainer.manualLayoutContainer:
                BorderThickness: =0.1
                DropShadow: =DropShadow.Semibold
                Height: =43
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =statusViewEditQuote = "view" && Gallery16.Selected.quote_Status.Value = "Báo giá"
                Width: =154
                X: =542
                Y: =26
                ZIndex: =20

                Label164_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    Size: =15
                    Text: |-
                        ="Chỉnh sửa
                        "
                    Width: =116
                    X: =35
                    ZIndex: =2

                Icon45 As icon.Edit:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Edit
                    OnSelect: =Set(statusViewEditQuote,"edit")
                    Visible: =statusViewEditQuote = "view" && Gallery16.Selected.quote_Status.Value = "Báo giá"
                    Width: =35
                    Y: =4
                    ZIndex: =3

                Rectangle13 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =43
                    OnSelect: =Set(statusViewEditQuote,"edit")
                    Width: =154
                    ZIndex: =4

        containerCreateQuote_Vertion2 As groupContainer.manualLayoutContainer:
            ContentLanguage: ="vi-VN"
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =722
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleCreateQuote_Sertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =2

            Label67 As label:
                Color: =RGBA(54, 176, 75, 1)
                FontWeight: =FontWeight.Semibold
                Size: =24
                Text: ="Tạo báo giá"
                Width: =273
                X: =42
                Y: =19
                ZIndex: =1

            Label68 As label:
                FontWeight: =FontWeight.Semibold
                Height: =37
                Size: =15
                Text: ="Thời gian hết hạn"
                Width: =187
                X: =48
                Y: =95
                ZIndex: =2

            DatePicker2 As datepicker:
                ContentLanguage: ="vi-VN"
                Height: =38
                Language: ="vi-VN"
                Width: =300
                X: =250
                Y: =94
                ZIndex: =4

            Label68_1 As label:
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =15
                Text: ="Khách hàng"
                Width: =124
                X: =652
                Y: =107
                ZIndex: =5

            ComboBox1 As combobox:
                DefaultSelectedItems: =
                DisplayFields: =["customer_Name"]
                InputTextPlaceholder: ="Chọn khách hàng"
                IsSearchable: =false
                Items: =Filter(Customer,activity = true)
                SearchFields: =["customer_Name"]
                SearchItems: =[]
                SelectMultiple: =false
                Width: =300
                X: =802
                Y: =99
                ZIndex: =6

            Label68_3 As label:
                FontWeight: =FontWeight.Semibold
                Height: =26
                Text: ="Mô tả"
                Width: =225
                X: =40
                Y: =486
                ZIndex: =9

            TextInput7 As text:
                BorderThickness: =0.2
                Clear: =true
                Default: =""
                Height: =56
                HintText: ="Vui lòng nhập mô tả"
                Mode: =TextMode.MultiLine
                Width: =1183
                X: =44
                Y: =512
                ZIndex: =10

            Container30 As groupContainer.manualLayoutContainer:
                Height: =40
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =173
                X: =1058
                Y: =667
                ZIndex: =15

                Label69 As label:
                    Align: =Align.Center
                    Fill: =RGBA(189, 240, 194, 1)
                    FontWeight: =FontWeight.Semibold
                    OnSelect: |-
                        =If(
                            IsBlank(ComboBox1.Selected) || IsBlank(TextInput7.Text) || IsBlank(arrProductAddQuoteNew_SaleVertion2),
                            Notify(
                                "Vui lòng điền đủ thông tin",
                                NotificationType.Error
                            ),
                            If(
                                CountRows(arrProductAddQuoteNew_SaleVertion2) < 1,
                                Notify(
                                    "Báo giá phải có ít nhất 1 sản phẩm.Vui lòng thêm sản phẩm",
                                    NotificationType.Error
                                ),
                                Set(
                                    idQuote_SaleVertion2,
                                    "QT" & Text(
                                        Now(),
                                        "ddmmyyyyhhmmss"
                                    ) & informationUser.ID
                                );
                                Patch(
                                    Quote,
                                    Defaults(Quote),
                                    {
                                        id_Quote: idQuote_SaleVertion2,
                                        quote_Decription: TextInput7.Text,
                                        quote_Date: Now(),
                                        quote_Expire: DatePicker2.SelectedDate,
                                        quote_Status: {Value: "Báo giá"},
                                        id_User: informationUser.ID,
                                        id_Customer: ComboBox1.Selected.ID,
                                        sumPriceQuote: Sum(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            (price_Quote_Product * quantity_Quote_Product) + (price_Quote_Product * quantity_Quote_Product * vat%)
                                        ) + Sum(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            price_Quote_Service
                                        )
                                    }
                                );
                                ForAll(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    Patch(
                                        Quote_Product,
                                        Defaults(Quote_Product),
                                        {
                                            id_Quote: idQuote_SaleVertion2,
                                            id_Product: ThisRecord.id_Product,
                                            price_Quote_Product: ThisRecord.price_Quote_Product,
                                            quantity_Quote_Product: ThisRecord.quantity_Quote_Product,
                                            quote_Product_Note: ThisRecord.quote_Product_Note,
                                            vat: Value(ThisRecord.vat)
                                        }
                                    )
                                );
                                ForAll(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    Patch(
                                        Quote_Service,
                                        Defaults(Quote_Service),
                                        {
                                            id_Quote: idQuote_SaleVertion2,
                                            id_Service: ThisRecord.id_Service,
                                            quote_Service_Note: ThisRecord.quote_Service_Not,
                                            price_Quote_Service: ThisRecord.price_Quote_Service
                                        }
                                    )
                                );
                                Notify(
                                    "Khởi tạo báo giá thành công",
                                    NotificationType.Success
                                );
                                Set(
                                    isVisibleDialogAddQuoteNew_SaleVertion2,
                                    false
                                );
                                Set(isVisibleCreateQuote_Sertion2,false)
                            )
                        )
                    Size: =18
                    Text: ="Lưu lại"
                    Width: =173
                    ZIndex: =1

            Label76 As label:
                Align: =Align.Right
                Color: =RGBA(0, 18, 107, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,2);
                    Reset(TextInput11);
                    Reset(TextInput11_1);
                    Reset(TextInput11_2);
                    Reset(TextInput11_3);
                    Reset(TextInput11_4);
                    Reset(TextInput11_5);
                Text: ="Tạo khách hàng"
                Underline: =true
                Width: =163
                X: =939
                Y: =68
                ZIndex: =22

            Icon21 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =50
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogAddQuoteNew_SaleVertion2,false);
                    Set(isVisibleCreateQuote_Sertion2,false);
                Width: =50
                X: =1217
                Y: =9
                ZIndex: =23

            Container31 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 0, DropShadow.Semibold, DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =10
                RadiusBottomRight: =0
                RadiusTopLeft: =10
                RadiusTopRight: =0
                Width: =171
                X: =48
                Y: =154
                ZIndex: =24

                Label70 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 0, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,0);
                    Text: ="Sản phẩm"
                    Width: =171
                    ZIndex: =1

            Container31_1 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 1,DropShadow.Semibold,DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =0
                RadiusBottomRight: =10
                RadiusTopLeft: =0
                RadiusTopRight: =10
                Width: =171
                X: =219
                Y: =154
                ZIndex: =25

                Label70_1 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 1, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 1,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,1)
                    Text: ="Dịch vụ"
                    Width: =171
                    ZIndex: =1

            Container33 As groupContainer.manualLayoutContainer:
                Height: =281
                Width: =1191
                X: =48
                Y: =198
                ZIndex: =26

                containerArrProductNewQuote As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 0
                    Width: =1191
                    ZIndex: =1

                    Container41 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Sản phẩm"
                            Width: =296
                            X: =15
                            ZIndex: =1

                        Label71_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =296
                            X: =331
                            ZIndex: =2

                        Label71_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="VAT"
                            Width: =122
                            X: =627
                            ZIndex: =3

                        Label71_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Số lượng"
                            Width: =142
                            X: =762
                            ZIndex: =4

                        Label71_4 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá/SP"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrProductAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =316
                            X: =4
                            Y: =6
                            ZIndex: =6

                        Label78_1 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Product_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =308
                            X: =320
                            Y: =6
                            ZIndex: =7

                        Label78_2 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.vat & "%"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =128
                            X: =628
                            Y: =6
                            ZIndex: =8

                        Label78_3 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quantity_Quote_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =142
                            X: =756
                            Y: =6
                            ZIndex: =9

                        Label78_4 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =If(ThisItem.price_Quote_Product < 0 , "0",Text(ThisItem.price_Quote_Product,"#,###"))
                            VerticalAlign: =VerticalAlign.Top
                            Width: =212
                            X: =898
                            Y: =6
                            ZIndex: =10

                        Icon20 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: |-
                                =ClearCollect(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    Filter(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        Not(id_Product = ThisItem.id_Product)
                                    )
                                )
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                Container47 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 1
                    Width: =1191
                    ZIndex: =2

                    Container41_1 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_5 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Dịch vụ"
                            Width: =346
                            X: =15
                            ZIndex: =1

                        Label71_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =543
                            X: =361
                            ZIndex: =2

                        Label71_9 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrServiceAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_1 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_5 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Service, id_Serivce = ThisItem.id_Service).service_Name
                            VerticalAlign: =VerticalAlign.Top
                            Width: =346
                            X: =15
                            ZIndex: =10

                        Icon20_1 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrServiceAddQuoteNew_SaleVertion2,Filter(arrServiceAddQuoteNew_SaleVertion2,Not( id_Service= ThisItem.id_Service)))
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                        Label78_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Service_Not
                            VerticalAlign: =VerticalAlign.Top
                            Width: =543
                            X: =361
                            ZIndex: =12

                        Label78_7 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =Text(ThisItem.price_Quote_Service,"#,###")
                            VerticalAlign: =VerticalAlign.Top
                            Width: =204
                            X: =904
                            Y: =6
                            ZIndex: =13

            Label72 As label:
                Color: =RGBA(56, 96, 178, 1)
                Height: =27
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,0);
                    Reset(Dropdown3);
                    Reset(TextInput8_1);
                    Reset(TextInput8_2);
                    Reset(TextInput8_3)
                Size: =15
                Text: ="Thêm sản phẩm"
                Underline: =true
                Visible: =positionOptionCreatQuote = 0
                Width: =166
                X: =1073
                Y: =171
                ZIndex: =27

            Label79 As label:
                Color: =RGBA(56, 96, 178, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                    Reset(TextInput9);
                    Reset(Checkbox5)
                Size: =15
                Text: ="Thêm dịch vụ"
                Underline: =true
                Visible: =positionOptionCreatQuote = 1
                Width: =128
                X: =1111
                Y: =171
                ZIndex: =28

            Container57 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Height: =55
                Width: =397
                X: =40
                Y: =581
                ZIndex: =29

                Label113 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =55
                    Italic: =true
                    Size: =20
                    Text: |-
                        ="Tổng tiền: " & Text(
                            Value(
                                Sum(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    Value((Value(price_Quote_Product) * Value(quantity_Quote_Product)) + (Value(price_Quote_Product) * Value(quantity_Quote_Product) * vat%))
                                ) + Sum(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    Value(price_Quote_Service)
                                )
                            ),
                            "0,000"
                        )
                    Width: =397
                    ZIndex: =1

        containerSelectionProductAdd_SaleVertion2 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 0.67)
            Height: =722
            Visible: =isVisibleDialogAddProductQuoteNew_SaleVertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =3

            Container35 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =688
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =If(positionDialogAddDataQuoteNew_SaleVertion2 = 0, true, false)
                Width: =574
                X: =343
                Y: =13
                ZIndex: =1

                Label73 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =56
                    Size: =18
                    Text: =If(isVisibleUpdateProduct_Quote_Vertion2, "Sửa thông tin sản phẩm - báo giá","Thêm sản phẩm - Báo giá")
                    Width: =397
                    X: =35
                    ZIndex: =1

                Label74 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Sản phẩm"
                    X: =51
                    Y: =56
                    ZIndex: =2

                Dropdown3 As dropdown:
                    Default: |-
                        =If(
                            isVisibleUpdateProduct_Quote_Vertion2,
                            LookUp(
                                Product,
                                id_Product = Gallery12_2.Selected.id_Product
                            ).name_Product,"1"
                        )
                    DisplayMode: =If(isVisibleUpdateProduct_Quote_Vertion2,DisplayMode.Disabled,DisplayMode.Edit)
                    FocusedBorderThickness: =2
                    Items: =Filter(Product,activity = true)
                    Width: =436
                    X: =85
                    Y: =96
                    ZIndex: =3

                Label74_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =51
                    Y: =136
                    ZIndex: =4

                TextInput8 As text:
                    Align: =Align.Right
                    Default: |-
                        =Text(Value(LookUp(Product,id_Product = Dropdown3.Selected.id_Product).price_Product),"#,###")
                    DisplayMode: =DisplayMode.Disabled
                    Format: =TextFormat.Number
                    Width: =436
                    X: =85
                    Y: =176
                    ZIndex: =5

                Label74_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Số lượng"
                    X: =51
                    Y: =216
                    ZIndex: =6

                TextInput8_1 As text:
                    Default: =If(isVisibleUpdateProduct_Quote_Vertion2,Gallery12_2.Selected.quantity_Quote_Product)
                    Format: =TextFormat.Number
                    HintText: ="Vui lòng nhập số lượng"
                    Width: =436
                    X: =85
                    Y: =256
                    ZIndex: =7

                Label74_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Ghi chú"
                    X: =51
                    Y: =296
                    ZIndex: =8

                TextInput8_2 As text:
                    Default: =If(isVisibleUpdateProduct_Quote_Vertion2,Gallery12_2.Selected.quote_Product_Note)
                    Height: =114
                    HintText: ="Vui lòng nhập ghi chú"
                    Mode: =TextMode.MultiLine
                    Width: =436
                    X: =85
                    Y: =336
                    ZIndex: =9

                Label74_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="VAT"
                    X: =51
                    Y: =450
                    ZIndex: =10

                TextInput8_3 As text:
                    Align: =Align.Right
                    Default: =If(isVisibleUpdateProduct_Quote_Vertion2, Gallery12_2.Selected.vat, "10")
                    Format: =TextFormat.Number
                    HintText: ="%"
                    Width: =436
                    X: =85
                    Y: =490
                    ZIndex: =11

                Container36 As groupContainer.manualLayoutContainer:
                    Height: =40
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =170
                    X: =201
                    Y: =622
                    ZIndex: =12

                    Label75 As label:
                        Align: =Align.Center
                        Fill: =RGBA(189, 240, 194, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        OnSelect: |
                            =
                            /*Collect(
                                arrProductAddQuoteNew_SaleVertion2,
                                {
                                    id_Quote: "",
                                    id_Product: Dropdown3.Selected.id_Product,
                                    price_Quote_Product: Value(TextInput8.Text),
                                    quantity_Quote_Product: Value(TextInput8_1.Text),
                                    quote_Product_Note: TextInput8_2.Text,
                                    vat: Value(TextInput8_3.Text)
                                }
                            );
                            Notify("Thêm sản phẩm vào báo giá thành công",NotificationType.Success);
                            Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)*/
                            If(
                                IsBlank(TextInput8_1.Text) || IsBlank(TextInput8_2.Text) || IsBlank(TextInput8_3.Text),
                                Notify("Vui lòng nhập đầy đủ thông tin bắt buộc"),
                                If(
                                    // nếu là update
                                    isVisibleUpdateProduct_Quote_Vertion2,
                                    Patch(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            id_Quote = Gallery12_2.Selected.id_Quote && id_Product = Gallery12_2.Selected.id_Product
                                        ),
                                        {
                                            quantity_Quote_Product: Value(TextInput8_1.Text),
                                            quote_Product_Note: TextInput8_2.Text,
                                            vat: Value(TextInput8_3.Text),
                                            status: "Update"
                                        }
                                    ),
                                    // Nếu là thêm sản phẩm vào danh sách báo giá
                                    If(
                                        isVisibleUpdatQuote_Vertion2,
                                        // Nếu thêm vào update
                                        If(
                                            IsBlank(
                                                LookUp(
                                                    arrProductAddQuoteNew_SaleVertion2,
                                                    id_Product = Dropdown3.Selected.id_Product
                                                )
                                            ),
                                            Collect(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                {
                                                    id_Quote: Gallery16.Selected.id_Quote,
                                                    id_Product: Dropdown3.Selected.id_Product,
                                                    price_Quote_Product: Value(TextInput8.Text),
                                                    quantity_Quote_Product: Value(TextInput8_1.Text),
                                                    quote_Product_Note: TextInput8_2.Text,
                                                    vat: Value(TextInput8_3.Text),
                                                    status: "Add"
                                                }
                                            ),
                                            Patch(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                LookUp(
                                                    arrProductAddQuoteNew_SaleVertion2,
                                                    id_Product = Dropdown3.Selected.id_Product
                                                ),
                                                {
                                                    quantity_Quote_Product: LookUp(
                                                        arrProductAddQuoteNew_SaleVertion2,
                                                        id_Product = Dropdown3.Selected.id_Product
                                                    ).quantity_Quote_Product + Value(TextInput8_1.Text),
                                                    status: "Update"
                                                }
                                            )
                                        );
                                        Notify(
                                            "Thêm sản phẩm vào báo giá thành công",
                                            NotificationType.Success
                                        ),
                                        //Nếu thêm vào tạo báo giá
                                        If(
                                            IsBlank(
                                                LookUp(
                                                    arrProductAddQuoteNew_SaleVertion2,
                                                    id_Product = Dropdown3.Selected.id_Product
                                                )
                                            ),
                                            Collect(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                {
                                                    id_Quote: "",
                                                    id_Product: Dropdown3.Selected.id_Product,
                                                    price_Quote_Product: Value(TextInput8.Text),
                                                    quantity_Quote_Product: Value(TextInput8_1.Text),
                                                    quote_Product_Note: TextInput8_2.Text,
                                                    vat: Value(TextInput8_3.Text),
                                                    status: "Add"
                                                }
                                            ),
                                            Patch(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                LookUp(
                                                    arrProductAddQuoteNew_SaleVertion2,
                                                    id_Product = Dropdown3.Selected.id_Product
                                                ),
                                                {
                                                    quantity_Quote_Product: LookUp(
                                                        arrProductAddQuoteNew_SaleVertion2,
                                                        id_Product = Dropdown3.Selected.id_Product
                                                    ).quantity_Quote_Product + Value(TextInput8_1.Text),
                                                    status: "Update"
                                                }
                                            )
                                        );
                                        Notify(
                                            "Thêm sản phẩm vào báo giá thành công",
                                            NotificationType.Success
                                        );
                                    )
                                );
                                If(
                                    isVisibleUpdateProduct_Quote_Vertion2,
                                    Set(
                                        isVisibleUpdateProduct_Quote_Vertion2,
                                        false
                                    );
                                    Set(
                                        isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                        false
                                    );
                                    ,
                                    Reset(TextInput8_1);
                                    Reset(TextInput8_2);
                                )
                            );
                        Size: =16
                        Text: =If(isVisibleUpdateProduct_Quote_Vertion2, "Cập nhật","Thêm")
                        Width: =Parent.Width
                        ZIndex: =1

                Container37 As groupContainer.manualLayoutContainer:
                    Height: =70
                    X: =51
                    Y: =540
                    ZIndex: =14

                    Label77 As label:
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        Italic: =true
                        Size: =20
                        Text: |-
                            =/*"Tổng tiền: " & Text(
                                Value(
                                    (LookUp(
                                        Product,
                                        id_Product = Dropdown3.Selected.id_Product
                                    ).price_Product * Value(TextInput8_1.Text) + (LookUp(
                                        Product,
                                        id_Product = Dropdown3.Selected.id_Product
                                    ).price_Product * Value(TextInput8_1.Text) * If(
                                        IsBlank(TextInput8_3.Text),
                                        10%,
                                        Value(TextInput8_3.Text)%
                                    )))
                                ),
                                "#,###"
                            )*/
                            "Tổng tiền: " & (LookUp(
                                Product,
                                id_Product = Dropdown3.Selected.id_Product
                            ).price_Product * Value(TextInput8_1.Text) + (LookUp(
                                Product,
                                id_Product = Dropdown3.Selected.id_Product
                            ).price_Product * Value(TextInput8_1.Text) * If(
                                IsBlank(TextInput8_3.Text),
                                10%,
                                Value(TextInput8_3.Text)%
                            )))
                        Width: =Parent.Width
                        ZIndex: =1

                Icon14 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false);
                        If(isVisibleUpdateProduct_Quote_Vertion2, Set(isVisibleUpdateProduct_Quote_Vertion2, false))
                    Width: =35
                    X: =521
                    Y: =10
                    ZIndex: =15

            Container39 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =675
                RadiusBottomLeft: =5
                RadiusBottomRight: =5
                RadiusTopLeft: =5
                RadiusTopRight: =5
                Visible: =If(positionDialogAddDataQuoteNew_SaleVertion2 = 1, true,false)
                Width: =570
                X: =345
                Y: =36
                ZIndex: =2

                Label81 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =57
                    Size: =18
                    Text: =If(isVisibleUpdateService_Quote_Vertion2, "Sửa dịch vụ - báo giá","Thêm dịch vụ - báo giá")
                    Width: =297
                    X: =23
                    Y: =2
                    ZIndex: =1

                Label82 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Dịch vụ"
                    X: =49
                    Y: =59
                    ZIndex: =2

                Dropdown4 As dropdown:
                    Default: |-
                        =If(
                            isVisibleUpdateService_Quote_Vertion2,
                            LookUp(
                                Service,
                                id_Serivce = Gallery12_3.Selected.id_Service
                            ).service_Name,"1"
                        )
                    DisplayMode: =If(isVisibleUpdateService_Quote_Vertion2,DisplayMode.Disabled,DisplayMode.Edit)
                    Height: =41
                    Items: =Filter(Service,activity = true)
                    Width: =423
                    X: =77
                    Y: =99
                    ZIndex: =3

                Label82_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Ghi chú"
                    X: =49
                    Y: =140
                    ZIndex: =4

                TextInput9 As text:
                    Default: =If(isVisibleUpdateService_Quote_Vertion2, Gallery12_3.Selected.quote_Service_Note,"")
                    Height: =205
                    HintText: ="Vui lòng nhập ghi chú ..."
                    Mode: =TextMode.MultiLine
                    Width: =423
                    X: =77
                    Y: =180
                    ZIndex: =5

                Label82_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =49
                    Y: =385
                    ZIndex: =6

                TextInput10 As text:
                    Default: |-
                        =If(
                            Checkbox5.Value = true,
                            Text(
                                Value(
                                    LookUp(
                                        Service,
                                        id_Serivce = Dropdown4.Selected.id_Serivce
                                    ).service_Price
                                ),
                                "#,###"
                            ),
                            If(
                                isVisibleUpdateService_Quote_Vertion2,
                                Text(
                                    Gallery12_3.Selected.price_Quote_Service,
                                    "#,###"
                                ),
                                ""
                            )
                        )
                    DisplayMode: =If(Checkbox5.Value = true, DisplayMode.Disabled,DisplayMode.Edit)
                    Format: =TextFormat.Number
                    Height: =41
                    HintText: ="Vui lòng nhập giá ..."
                    Width: =423
                    X: =77
                    Y: =425
                    ZIndex: =7

                Checkbox5 As checkbox:
                    FontWeight: =FontWeight.Semibold
                    Height: =46
                    Text: ="Lấy giá gốc"
                    Width: =166
                    X: =205
                    Y: =484
                    ZIndex: =8

                Container36_2 As groupContainer.manualLayoutContainer:
                    Height: =40
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =170
                    X: =205
                    Y: =615
                    ZIndex: =9

                    Label75_2 As label:
                        Align: =Align.Center
                        Fill: =RGBA(189, 240, 194, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput9.Text),
                                Notify(
                                    "Vui lòng nhập ghi chú",
                                    NotificationType.Error
                                ),
                                If(
                                    //Nếu là cập nhật dữ liệu
                                    isVisibleUpdateService_Quote_Vertion2,
                                    Patch(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            id_Quote = Gallery12_3.Selected.id_Quote && id_Service = Gallery12_3.Selected.id_Service
                                        ),
                                        {
                                            quote_Service_Note: TextInput9.Text,
                                            price_Quote_Service: If(
                                                IsBlank(TextInput10.Text),
                                                0,
                                                Value(TextInput10.Text)
                                            ),
                                            status: "Update"
                                        }
                                    );
                                    Set(
                                        isVisibleUpdateService_Quote_Vertion2,
                                        false
                                    );
                                    Set(
                                        isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                        false
                                    ),
                                    If(
                                        IsBlank(
                                            LookUp(
                                                arrServiceAddQuoteNew_SaleVertion2,
                                                id_Service = Dropdown4.Selected.id_Serivce
                                            )
                                        ),
                                        If(
                                            //Nếu đây là edit thì lấy mã báo giá thêm vào -- còn không phải thì phải chờ thêm báo giá thành công thì mới thêm vào
                                            statusViewEditQuote = "edit",
                                            Collect(
                                                arrServiceAddQuoteNew_SaleVertion2,
                                                {
                                                    id_Quote:Gallery16.Selected.id_Quote,
                                                    id_Service: Dropdown4.Selected.id_Serivce,
                                                    quote_Service_Note: TextInput9.Text,
                                                    price_Quote_Service: If(
                                                        IsBlank(TextInput10.Text),
                                                        0,
                                                        Value(TextInput10.Text)
                                                    ),
                                                    status: "Add"
                                                }
                                            );
                                            Notify(
                                                "Thêm dịch vụ vào báo giá thành công",
                                                NotificationType.Success
                                            );
                                            Set(
                                                isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                                false
                                            ),
                                            Collect(
                                                arrServiceAddQuoteNew_SaleVertion2,
                                                {
                                                    id_Service: Dropdown4.Selected.id_Serivce,
                                                    quote_Service_Note: TextInput9.Text,
                                                    price_Quote_Service: If(
                                                        IsBlank(TextInput10.Text),
                                                        0,
                                                        Value(TextInput10.Text)
                                                    ),
                                                    status: "Add"
                                                }
                                            );
                                            Notify(
                                                "Thêm dịch vụ vào báo giá thành công",
                                                NotificationType.Success
                                            );
                                            Set(
                                                isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                                false
                                            )
                                        ),
                                        Notify(
                                            "Dịch vụ đã tồn tại",
                                            NotificationType.Error
                                        )
                                    )
                                )
                            )
                        Size: =16
                        Text: =If(isVisibleUpdateService_Quote_Vertion2, "Cập nhật","Thêm")
                        Width: =Parent.Width
                        ZIndex: =1

                Icon16 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =If(isVisibleUpdateService_Quote_Vertion2,Set(isVisibleUpdateService_Quote_Vertion2, false));
                        Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)
                    Width: =35
                    X: =522
                    Y: =13
                    ZIndex: =10

                Container38 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =RGBA(241, 244, 249, 1)
                    Height: =27
                    Visible: =!isVisibleUpdateService_Quote_Vertion2
                    Width: =137
                    X: =320
                    Y: =21
                    ZIndex: =12

                    Icon23 As icon.Add:
                        Height: =23
                        Icon: =Icon.Add
                        Width: =23
                        X: =15
                        Y: =2
                        ZIndex: =1

                    Label83 As label:
                        Height: =27
                        Text: ="Tạo mới"
                        Width: =88
                        X: =48
                        ZIndex: =2

                    Rectangle10 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =27
                        OnSelect: |-
                            =Set(positionDialogAddDataQuoteNew_SaleVertion2,3);
                            ClearCollect(arrServiceNewCreateQuote,[])
                        Width: =137
                        ZIndex: =3

            Container40 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =673
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =positionDialogAddDataQuoteNew_SaleVertion2 = 2
                Width: =617
                X: =322
                Y: =27
                ZIndex: =3

                Label84 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =62
                    Size: =18
                    Text: ="Tạo khách hàng"
                    Width: =392
                    X: =29
                    Y: =9
                    ZIndex: =1

                Icon17 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false);
                    Width: =35
                    X: =545
                    Y: =23
                    ZIndex: =2

                Label85 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Mã số thuế"
                    X: =40
                    Y: =78
                    ZIndex: =3

                TextInput11 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập mã số thuế ..."
                    MaxLength: =10
                    Width: =540
                    X: =40
                    Y: =118
                    ZIndex: =4

                Label85_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Tên khách hàng"
                    X: =40
                    Y: =158
                    ZIndex: =5

                TextInput11_1 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập tên khách hàng ..."
                    Width: =540
                    X: =40
                    Y: =198
                    ZIndex: =6

                Label85_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Địa chỉ"
                    X: =40
                    Y: =238
                    ZIndex: =7

                TextInput11_2 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập địa chỉ ..."
                    Width: =540
                    X: =40
                    Y: =278
                    ZIndex: =8

                Label85_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Họ và tên người liên hệ"
                    Width: =220
                    X: =40
                    Y: =318
                    ZIndex: =9

                TextInput11_3 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập họ và tên người liên hệ ..."
                    Width: =540
                    X: =40
                    Y: =358
                    ZIndex: =10

                Label85_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Số điện thoại liên hệ"
                    Width: =245
                    X: =40
                    Y: =398
                    ZIndex: =11

                TextInput11_4 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập số điện thoại liên hệ ..."
                    MaxLength: =10
                    Width: =540
                    X: =40
                    Y: =438
                    ZIndex: =12

                Label85_5 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Email"
                    X: =40
                    Y: =478
                    ZIndex: =13

                TextInput11_5 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập email..."
                    Width: =540
                    X: =40
                    Y: =518
                    ZIndex: =14

                Button10 As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(189, 240, 194, 1)
                    OnSelect: |-
                        =If(
                            (!IsMatch(
                                TextInput11.Text,
                                "^(0|3)\d{9}$"
                            ) || IsBlank(TextInput11_1.Text) || IsBlank(TextInput11_2.Text) || IsBlank(TextInput11_3.Text) || !IsMatch(
                                TextInput11_4.Text,
                                "^0\d{9}$"
                            ) || !IsMatch(
                                TextInput11_5.Text,
                                "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                            )),
                            Notify(
                                "Vui lòng nhập thông tin hợp lệ",
                                NotificationType.Error
                            ),
                            If(
                                IsBlank(
                                    LookUp(
                                        Customer,
                                        taxCode = TextInput11.Text
                                    )
                                ),
                                Patch(
                                    Customer,
                                    Defaults(Customer),
                                    {
                                        taxCode: TextInput11.Text,
                                        customer_Name: TextInput11_1.Text,
                                        customer_Address: TextInput11_2.Text,
                                        contactPersonName_Customer: TextInput11_3.Text,
                                        contactPersonPhoneNumber_Customer: TextInput11_4.Text,
                                        contactPersonEmail_Customer: TextInput11_5.Text,
                                        activity: true
                                    }
                                );
                                Notify(
                                    "Thêm khách hàng thành công",
                                    NotificationType.Success,
                                    1500
                                );
                                Set(
                                    isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                    false
                                ),
                                Notify(
                                    "Mã số thuế đã tồn tại",
                                    NotificationType.Error,
                                    1500
                                )
                            )
                        )
                    Text: ="Lưu lại"
                    X: =440
                    Y: =598
                    ZIndex: =15

            Container54 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =664
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Visible: |
                    =positionDialogAddDataQuoteNew_SaleVertion2= 3
                Width: =1145
                X: =70
                Y: =36
                ZIndex: =4

                Label86 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =45
                    Size: =20
                    Text: ="Tạo dịch vụ"
                    Width: =357
                    X: =26
                    Y: =10
                    ZIndex: =1

                Container55 As groupContainer.manualLayoutContainer:
                    BorderThickness: =0.2
                    Height: =512
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =505
                    X: =622
                    Y: =82
                    ZIndex: =2

                    Label99 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =41
                        Size: =18
                        Text: ="Thông tin dịch vụ"
                        Width: =225
                        X: =12
                        Y: =8
                        ZIndex: =1

                    Label103 As label:
                        Height: =35
                        Size: =15
                        Text: ="Tên dịch vụ"
                        Width: =127
                        X: =49
                        Y: =49
                        ZIndex: =2

                    TextInput6 As text:
                        Default: =""
                        HintText: ="Nhập tên dịch vụ ..."
                        Width: =415
                        X: =49
                        Y: =84
                        ZIndex: =3

                    Label103_1 As label:
                        Height: =35
                        Size: =15
                        Text: ="Ghi chú"
                        Width: =107
                        X: =49
                        Y: =124
                        ZIndex: =4

                    TextInput6_1 As text:
                        Default: =""
                        Height: =138
                        HintText: ="Ghi chú ..."
                        Mode: =TextMode.MultiLine
                        Width: =415
                        X: =49
                        Y: =159
                        ZIndex: =5

                    Label103_2 As label:
                        Height: =35
                        Size: =15
                        Text: ="Giá"
                        Width: =107
                        X: =49
                        Y: =297
                        ZIndex: =6

                    TextInput6_2 As text:
                        Default: =""
                        Format: =TextFormat.Number
                        HintText: ="Giá dịch vụ ..."
                        Width: =415
                        X: =49
                        Y: =332
                        ZIndex: =7

                    Button3 As button:
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(189, 240, 194, 1)
                        HoverFill: =RGBA(152, 208, 70, 1)
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput6.Text) || IsBlank(TextInput6_1.Text) || IsBlank(TextInput6_2.Text),
                                Notify(
                                    "Vui lòng điền đủ thông tin dịch vụ",
                                    NotificationType.Error,
                                    1500
                                ),
                                Collect(
                                    arrServiceNewCreateQuote,
                                    {
                                        id_Serivce: "DV_" & Text(
                                            Now(),
                                            "ddmmyyhhmmss"
                                        ) & informationUser.ID,
                                        service_Name: TextInput6.Text,
                                        service_Decription: TextInput6_1.Text,
                                        service_Price: Value(TextInput6_2.Text)
                                    }
                                );
                                Reset(TextInput6);
                                Reset(TextInput6_1);
                                Reset(TextInput6_2)
                            )
                        Text: ="Tạo"
                        X: =176
                        Y: =390
                        ZIndex: =8

                "Gallery11 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =0.5
                    DelayItemLoading: =true
                    Fill: =RGBA(241, 244, 249, 0.36)
                    Height: =366
                    Items: =arrServiceNewCreateQuote
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =52
                    Width: =596
                    X: =9
                    Y: =226
                    ZIndex: =3

                    Separator10 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Label111 As label:
                        Align: =Align.Center
                        OnSelect: =Select(Parent)
                        Text: =ThisItem.service_Name
                        Width: =339
                        X: =13
                        Y: =4
                        ZIndex: =6

                    Label112 As label:
                        Align: =Align.Center
                        OnSelect: =Select(Parent)
                        Text: |-
                            =Text(ThisItem.service_Price, "#,###")
                        Width: =158
                        X: =352
                        Y: =4
                        ZIndex: =7

                    Icon27 As icon.Trash:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =35
                        Icon: =Icon.Trash
                        OnSelect: =ClearCollect(arrServiceNewCreateQuote,Filter(arrServiceNewCreateQuote,Not(id_Serivce = ThisItem.id_Serivce)))
                        Width: =35
                        X: =545
                        Y: =4
                        ZIndex: =8

                Container56 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(235, 232, 232, 0.51)
                    Height: =38
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =596
                    X: =9
                    Y: =184
                    ZIndex: =5

                    Label109 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Tên dịch vụ"
                        Width: =347
                        X: =5
                        ZIndex: =1

                    Label110 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Giá"
                        Width: =158
                        X: =352
                        ZIndex: =2

                Icon28 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =40
                    Icon: =Icon.Cancel
                    OnSelect: |
                        =Set(positionDialogAddDataQuoteNew_SaleVertion2,1)
                    Width: =40
                    X: =1087
                    Y: =10
                    ZIndex: =6

                Button12 As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(189, 240, 194, 1)
                    HoverFill: =RGBA(152, 208, 70, 1)
                    OnSelect: |-
                        =If(
                            CountRows(arrServiceNewCreateQuote) < 1,
                            Notify(
                                "Bạn chưa thêm dịch vụ nào. Vui lòng thêm dịch vụ",
                                NotificationType.Error,
                                1500
                            ),
                            //Thêm dịch vụ vào cở sở dữ liệu
                            ForAll(
                                arrServiceNewCreateQuote As Temp,
                                Patch(
                                    Service,
                                    Defaults(Service),
                                    Temp
                                )
                            );
                            If(
                                    // nếu thêm tạo dịch vụ trong lúc sửa báo giá -> gán mã báo giá thành mã báo giá đó --- còn nếu không phải thì chờ khi nào tạo báo giá thành công thì mới gán
                                statusViewEditQuote = "edit",
                                ForAll(
                                    arrServiceNewCreateQuote As Temp,
                                    Collect(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        {
                                            id_Quote: Gallery16.Selected.id_Quote,
                                            id_Service: Temp.id_Serivce,
                                            quote_Service_Note: Temp.service_Decription,
                                            price_Quote_Service: Temp.service_Price,
                                            status: "Add"
                                        }
                                    )
                                ),
                                ForAll(
                                    arrServiceNewCreateQuote As Temp,
                                    Collect(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        {
                                            id_Service: Temp.id_Serivce,
                                            quote_Service_Not: Temp.service_Decription,
                                            price_Quote_Service: Temp.service_Price
                                        }
                                    )
                                )
                            );
                            Set(
                                isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                false
                            );
                            
                        )
                    Text: ="Tạo dịch vụ"
                    Width: =184
                    X: =945
                    Y: =605
                    ZIndex: =7

    containerPurchase_Version2 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Height: =701
        Visible: =btnFunctionSaleVertion2 = "btnPurchase"
        Width: =1366
        Y: =67
        ZIndex: =5

        Container72 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.Semibold
            Height: =663
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =317
            X: =16
            Y: =13
            ZIndex: =1

            Container73 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =28
                Width: =294
                X: =10
                Y: =5
                ZIndex: =1

                Label124 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(50, 86, 160, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =28
                    Size: =15
                    Text: ="Tìm kiếm"
                    Width: =294
                    ZIndex: =1

            TextInput15_1 As text:
                Default: =""
                Height: =30
                HintText: ="Mã yêu cầu mua hàng"
                Width: =278
                X: =18
                Y: =46
                ZIndex: =3

            Container73_1 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =28
                Width: =294
                X: =10
                Y: =102
                ZIndex: =4

                Label124_1 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(50, 86, 160, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =28
                    Size: =15
                    Text: ="Trạng thái"
                    Width: =294
                    ZIndex: =1

            Checkbox1 As checkbox:
                Default: =positionStatusPurchase_SaleVertion2 = 0
                Height: =34
                OnCheck: |-
                    =Set(positionStatusPurchase_SaleVertion2, 0);
                    Refresh(Purchase_request)
                OnSelect: =
                OnUncheck: =Set(positionStatusPurchase_SaleVertion2, -1)
                Text: ="Chờ phê duyệt"
                Width: =278
                X: =18
                Y: =145
                ZIndex: =5

            Checkbox1_1 As checkbox:
                Default: =positionStatusPurchase_SaleVertion2 = 1
                Height: =34
                OnCheck: |-
                    =Set(positionStatusPurchase_SaleVertion2, 1);
                    Refresh(Purchase_request)
                OnUncheck: =Set(positionStatusPurchase_SaleVertion2, -1)
                Text: ="Đã phê duyệt"
                Width: =278
                X: =18
                Y: =194
                ZIndex: =6

            Checkbox1_2 As checkbox:
                Default: =positionStatusPurchase_SaleVertion2 = 2
                Height: =34
                OnCheck: |-
                    =Set(positionStatusPurchase_SaleVertion2, 2);
                    Refresh(Purchase_request)
                OnUncheck: =Set(positionStatusPurchase_SaleVertion2, -1)
                Text: ="Đã bị hủy"
                Width: =278
                X: =18
                Y: =243
                ZIndex: =7

        Container75 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =675
            Width: =1020
            X: =333
            Y: =13
            ZIndex: =2

            "Gallery25 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                DelayItemLoading: =true
                Fill: =RGBA(241, 244, 249, 1)
                Height: =544
                Items: |-
                    =If(
                         IsBlank(TextInput15_1.Text),
                        If(
                            positionStatusPurchase_SaleVertion2 = -1,
                            Filter(
                                Purchase_request,
                                id_User = informationUser.ID
                            ),
                            If(
                                positionStatusPurchase_SaleVertion2 = 0,
                                Filter(
                                    Purchase_request,
                                    status_PurchaseRequest.Value = "Chưa duyệt" && id_User = informationUser.ID
                                ),
                                If(
                                    positionStatusPurchase_SaleVertion2 = 1,
                                    Filter(
                                        Purchase_request,
                                        status_PurchaseRequest.Value = "Đã duyệt" && id_User = informationUser.ID
                                    ),
                                    If(
                                        positionStatusPurchase_SaleVertion2 = 2,
                                        Filter(
                                            Purchase_request,
                                            status_PurchaseRequest.Value = "Từ chối" && id_User = informationUser.ID
                                        )
                                    )
                                )
                            )
                        ),
                        Filter(Purchase_request,StartsWith(id_Purchase_request, TextInput15_1.Text))
                       
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: =Set(isVisibleDatailPurchase,true)
                TemplatePadding: =0
                TemplateSize: =50
                Width: =970
                X: =36
                Y: =131
                ZIndex: =1

                Separator21 As rectangle:
                    Height: =8
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =Parent.TemplateHeight - Self.Height
                    ZIndex: =5

                Rectangle17 As rectangle:
                    Height: =Parent.TemplateHeight - Separator21.Height
                    OnSelect: =Select(Parent)
                    Visible: =ThisItem.IsSelected
                    Width: =4
                    ZIndex: =6

                Label144 As label:
                    Align: =Align.Center
                    Color: =RGBA(56, 96, 178, 1)
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.id_Purchase_request
                    Width: =288
                    X: =16
                    ZIndex: =7

                Label145 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.request_Date, "dd/mm/yyyy")
                    Width: =177
                    X: =304
                    ZIndex: =8

                Label145_1 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.delivery_Date, "dd/mm/yyyy")
                    Width: =177
                    X: =481
                    ZIndex: =9

                Label145_2 As label:
                    Align: =Align.Center
                    Color: =
                    Italic: =true
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.status_PurchaseRequest.Value
                    Width: =177
                    X: =658
                    ZIndex: =10

                Label145_3 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =CountRows(Filter(Purchase_request_Product,id_Purchase_request = ThisItem.id_Purchase_request))
                    Width: =115
                    X: =835
                    ZIndex: =11

            Container89 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(128, 128, 128, 0.06)
                Height: =41
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =971
                X: =36
                Y: =78
                ZIndex: =2

                Label143 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mã yêu cầu"
                    Width: =288
                    X: =12
                    Y: =1
                    ZIndex: =1

                Label143_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: |-
                        ="Ngày tạo
                        "
                    Width: =177
                    X: =300
                    ZIndex: =2

                Label143_2 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: ="Ngày nhận hàng"
                    Width: =177
                    X: =477
                    ZIndex: =3

                Label143_3 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: ="Trạng thái"
                    Width: =177
                    X: =654
                    ZIndex: =4

                Label143_4 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: ="Số lượng SP"
                    Width: =140
                    X: =831
                    ZIndex: =5

            Label126 As label:
                FontWeight: =FontWeight.Bold
                Height: =42
                Size: =24
                Text: |-
                    =If(
                        positionStatusPurchase_SaleVertion2 = -1,
                        "Danh sách yêu cầu",
                        If(
                            positionStatusPurchase_SaleVertion2 = 0,
                            "Danh sách yêu cầu - Chờ phê duyệt",
                            If(
                                positionStatusPurchase_SaleVertion2 = 1,
                                "Danh sách yêu cầu - Đã duyệt",
                                If(
                                    positionStatusPurchase_SaleVertion2 = 2,
                                    "Danh sách yêu cầu - Đã từ chối"
                                )
                            )
                        )
                    )
                Width: =632
                X: =8
                Y: =8
                ZIndex: =3

            Container76 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(152, 208, 70, 1)
                Height: =34
                Width: =216
                X: =778
                Y: =12
                ZIndex: =4

                Label127 As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =34
                    Size: =15
                    Text: ="Tạo yêu cầu"
                    Width: =216
                    ZIndex: =1

                Rectangle18 As rectangle:
                    Fill: =RGBA(152, 208, 70, 0)
                    Height: =34
                    OnSelect: =Set(isVisiblechoiceStyleRequest,!isVisiblechoiceStyleRequest)
                    Width: =216
                    ZIndex: =2

            Container79 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =85
                Visible: =isVisiblechoiceStyleRequest
                Width: =252
                X: =755
                Y: =46
                ZIndex: =5

                Icon33 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =25
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisiblechoiceStyleRequest,false)
                    Width: =25
                    X: =227
                    ZIndex: =3

                "Gallery18 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    Height: =60
                    Items: |-
                        =Table({id: 0, name: "Sản phẩm hết hàng"},{id: 1, name: "Sản phẩm mới"})
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    OnSelect: |-
                        =If(
                            ThisItem.id = 0,
                            Set(
                                isVisibleDialogPurchase_SaleVertion2,
                                true
                            );
                            Set(
                                isVisibleDialogPurchaseProduct,
                                true
                            );
                            Set(
                                isVisiblechoiceStyleRequest,
                                false
                            );
                            ClearCollect(
                                arrProductPurchase_SaleVertion2,
                                []
                            );
                            ClearCollect(
                                arrProduct,
                                Product
                            );
                            Set(
                                positionChoiceArrayPurchase,
                                0
                            );
                            ,
                            If(
                                ThisItem.id = 1,
                                Set(
                                    isVisibleDialogPurchase_SaleVertion2,
                                    true
                                );
                                Set(
                                    isVisibleDialogRequestBuyProductNew,
                                    true
                                );
                                Set(
                                    isVisiblechoiceStyleRequest,
                                    false
                                );
                                ClearCollect(
                                    arrProductNewPurchase,
                                    []
                                );
                                Set(
                                    isVisibleInputInformationProductNewPurchase,
                                    false
                                );
                                Set(
                                    isVisibleListProductNewPurchase,
                                    true
                                );
                            )
                        )
                    TemplatePadding: =0
                    TemplateSize: =25
                    Transition: =Transition.Push
                    Width: =252
                    Y: =25
                    ZIndex: =4

                    Label129 As label:
                        Align: =Align.Center
                        Height: =24
                        OnSelect: =Select(Parent)
                        Text: =ThisItem.name
                        Width: =252
                        ZIndex: =1

    containerDialogPurchase As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =768
        Visible: =isVisibleDialogPurchase_SaleVertion2
        Width: =1366
        ZIndex: =6

        Container78 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =735
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleDialogPurchaseProduct
            Width: =1274
            X: =51
            Y: =15
            ZIndex: =1

            Icon34 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =40
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogPurchaseProduct,false);
                    Set(isVisibleDialogPurchase_SaleVertion2,false)
                Width: =40
                X: =1218
                Y: =12
                ZIndex: =1

            Label130 As label:
                FontWeight: =FontWeight.Semibold
                Size: =24
                Text: ="Yêu cầu mua thêm sản phẩm"
                Width: =680
                X: =16
                Y: =12
                ZIndex: =2

            Container71 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionChoiceArrayPurchase = 0,DropShadow.Semibold,DropShadow.Light)
                Fill: =If(positionChoiceArrayPurchase = 0,RGBA(128, 128, 128, 0.24),RGBA(128, 128, 128,0))
                Height: =If(positionChoiceArrayPurchase = 0, 40,33)
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =195
                X: =87
                Y: =69
                ZIndex: =3

                Label132 As label:
                    Align: =Align.Center
                    FontWeight: =If(positionChoiceArrayPurchase =0,FontWeight.Semibold,FontWeight.Normal)
                    Height: =Parent.Height
                    OnSelect: =Set(positionChoiceArrayPurchase ,0)
                    Size: =15
                    Text: ="Sản phẩm"
                    Width: =195
                    ZIndex: =1

            Container71_1 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionChoiceArrayPurchase = 1, DropShadow.Semibold,DropShadow.Light)
                Fill: =If(positionChoiceArrayPurchase = 1,RGBA(128, 128, 128, 0.24),RGBA(128, 128, 128,0))
                Height: =If(positionChoiceArrayPurchase = 1, 40,33)
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =195
                X: =285
                Y: =69
                ZIndex: =4

                Label132_1 As label:
                    Align: =Align.Center
                    FontWeight: =If(positionChoiceArrayPurchase =1,FontWeight.Semibold,FontWeight.Normal)
                    Height: =Parent.Height
                    OnSelect: =Set(positionChoiceArrayPurchase,1);
                    Size: =15
                    Text: ="Yêu cầu"
                    Width: =195
                    ZIndex: =1

            Container74 As groupContainer.manualLayoutContainer:
                Height: =547
                Width: =1207
                X: =34
                Y: =111
                ZIndex: =5

                containerArrProductPurchase As groupContainer.manualLayoutContainer:
                    Height: =547
                    Visible: =(positionChoiceArrayPurchase = 0)
                    Width: =1207
                    ZIndex: =1

                    "Gallery21 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =481
                        Items: =Filter(arrProduct,Not(id_Product in arrProductPurchase_SaleVertion2.id_Product))
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =60
                        Width: =1207
                        Y: =64
                        ZIndex: =1

                        NextArrow6 As icon.ChevronRight:
                            AccessibleLabel: =Self.Tooltip
                            Height: =50
                            Icon: =Icon.Export
                            OnSelect: |
                                =Set(
                                    isVisibleDialogRequestProductPurchase,
                                    true
                                );
                                Reset(TextInput22);
                                Reset(TextInput22_1);
                                Reset(TextInput22_2);
                                Reset(TextInput22_3);
                            PaddingBottom: =16
                            PaddingTop: =16
                            Tooltip: ="View item details"
                            Width: =50
                            X: =Parent.TemplateWidth - Self.Width - 12
                            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                            ZIndex: =4

                        Separator19 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle15 As rectangle:
                            Height: =Parent.TemplateHeight - Separator19.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Label135 As label:
                            Align: =Align.Center
                            Color: =RGBA(56, 96, 178, 1)
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.id_Product
                            Width: =319
                            X: =25
                            Y: =9
                            ZIndex: =7

                        Label136 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.name_Product
                            Width: =575
                            X: =344
                            Y: =9
                            ZIndex: =8

                        Label137 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.quantity_Product
                            Width: =226
                            X: =919
                            Y: =9
                            ZIndex: =9

                    Container80 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.17)
                        Height: =42
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                        Width: =1186
                        X: =10
                        Y: =7
                        ZIndex: =2

                        Label134 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Mã sản phẩm"
                            Width: =319
                            X: =12
                            Y: =2
                            ZIndex: =1

                        Label134_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên sản phẩm"
                            Width: =575
                            X: =331
                            Y: =2
                            ZIndex: =2

                        Label134_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Trồn kho"
                            Width: =231
                            X: =906
                            Y: =2
                            ZIndex: =3

                Container86 As groupContainer.manualLayoutContainer:
                    Height: =503
                    Visible: =positionChoiceArrayPurchase = 1
                    Width: =1207
                    ZIndex: =2

                    Container80_1 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.17)
                        Height: =42
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                        Width: =1186
                        X: =6
                        Y: =9
                        ZIndex: =1

                        Label134_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên sản phẩm"
                            Width: =407
                            X: =12
                            Y: =2
                            ZIndex: =1

                        Label134_4 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Số lượng yêu cầu"
                            Width: =179
                            X: =419
                            Y: =2
                            ZIndex: =2

                        Label134_5 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Lý do"
                            Width: =276
                            X: =598
                            Y: =2
                            ZIndex: =3

                        Label134_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =259
                            X: =874
                            Y: =2
                            ZIndex: =4

                    "Gallery24 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =441
                        Items: =arrProductPurchase_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =70
                        Width: =1196
                        X: =6
                        Y: =60
                        ZIndex: =2

                        Separator20 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle16 As rectangle:
                            Height: =Parent.TemplateHeight - Separator20.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Label141 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            Width: =407
                            Wrap: =false
                            X: =10
                            ZIndex: =7

                        Label141_1 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =ThisItem.request_Quantity
                            Width: =179
                            X: =417
                            ZIndex: =8

                        Label141_2 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =ThisItem.request_Reason
                            Width: =276
                            Wrap: =false
                            X: =596
                            ZIndex: =9

                        Label141_3 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =ThisItem.request_Note
                            Width: =259
                            Wrap: =false
                            X: =872
                            ZIndex: =10

                        Icon36 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrProductPurchase_SaleVertion2,Filter(arrProductPurchase_SaleVertion2,Not(id_Product = ThisItem.id_Product)))
                            Width: =30
                            X: =1166
                            Y: =16
                            ZIndex: =11

                        Icon37 As icon.Edit:
                            Height: =30
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(isVisibleEditProductPurchase, true);
                                Set(isVisibleDialogRequestProductPurchase, true)
                            Width: =30
                            X: =1136
                            Y: =16
                            ZIndex: =12

            Button19 As button:
                OnSelect: |-
                    =If(
                        CountRows(arrProductPurchase_SaleVertion2) < 1,
                        Notify(
                            "Bạn chưa chọn yêu cầu mua bất ký sản phẩm nào hết",
                            NotificationType.Error,
                            1500
                        ),
                        Set(
                            positionDialogPurchaseValidate,
                            0
                        );
                        Set(
                            isVisibleDialogValidateAddProductNewPurchase,
                            true
                        );
                        
                    )
                Text: ="Xác nhận"
                Width: =243
                X: =1014
                Y: =669
                ZIndex: =8

        containerDialogRequestProductPurchase As groupContainer.manualLayoutContainer:
            Fill: =RGBA(128, 128, 128, 0.33)
            Height: =768
            Visible: =isVisibleDialogRequestProductPurchase
            Width: =1366
            ZIndex: =2

            Container83 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =708
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =531
                X: =441
                Y: =33
                ZIndex: =1

                Label138 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    Size: =20
                    Text: =If(isVisibleEditProductPurchase,"Sửa thông tin yêu cầu","Thông tin yêu cầu")
                    Width: =410
                    X: =9
                    Y: =9
                    ZIndex: =1

                Icon35 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Set(isVisibleDialogRequestProductPurchase, false);
                        Set(isVisibleEditProductPurchase,false);
                    Width: =35
                    X: =486
                    Y: =9
                    ZIndex: =2

                Label139 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Tên sản phẩm"
                    Width: =446
                    X: =40
                    Y: =52
                    ZIndex: =3

                Container85 As groupContainer.manualLayoutContainer:
                    Height: =40
                    Width: =446
                    X: =40
                    Y: =92
                    ZIndex: =4

                    Label140 As label:
                        Text: =If(isVisibleEditProductPurchase,Gallery24.Selected.name_Product,Gallery21.Selected.name_Product)
                        Width: =446
                        Wrap: =false
                        ZIndex: =1

                Label139_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Số lượng"
                    Width: =446
                    X: =40
                    Y: =132
                    ZIndex: =5

                TextInput22 As text:
                    Default: =If(isVisibleEditProductPurchase,Gallery24.Selected.request_Quantity)
                    Format: =TextFormat.Number
                    HintText: ="Số lượng yêu cầu"
                    Width: =446
                    X: =40
                    Y: =172
                    ZIndex: =6

                Label139_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Lý do"
                    Width: =446
                    X: =40
                    Y: =212
                    ZIndex: =7

                TextInput22_1 As text:
                    Default: =If(isVisibleEditProductPurchase,Gallery24.Selected.request_Reason)
                    Height: =66
                    HintText: ="Lý do mua hàng"
                    Mode: =TextMode.MultiLine
                    Width: =446
                    X: =40
                    Y: =252
                    ZIndex: =8

                Label139_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Ghi chú"
                    Width: =446
                    X: =40
                    Y: =318
                    ZIndex: =9

                TextInput22_2 As text:
                    Default: =If(isVisibleEditProductPurchase,Gallery24.Selected.request_Note)
                    Height: =66
                    HintText: ="Ghi chú"
                    Mode: =TextMode.MultiLine
                    Width: =446
                    X: =40
                    Y: =358
                    ZIndex: =10

                Button18 As button:
                    Height: =43
                    OnSelect: |-
                        =If(
                            IsBlank(TextInput22.Text) || IsBlank(TextInput22_1.Text) || IsBlank(TextInput22_2.Text),
                            Notify(
                                "Vui lòng điền đẩy đủ thông tin yêu cầu",
                                NotificationType.Error,
                                1500
                            ),
                            If(
                                isVisibleEditProductPurchase,
                                Patch(
                                    arrProductPurchase_SaleVertion2,
                                    LookUp(
                                        arrProductPurchase_SaleVertion2,
                                        id_Product = Gallery24.Selected.id_Product
                                    ),
                                    {
                                        request_Quantity: Value(TextInput22.Text),
                                        request_Reason: TextInput22_1.Text,
                                        request_Note: TextInput22_2.Text
                                    }
                                );
                                Notify(
                                    "Sửa thông tin sản phẩm yêu cầu thành công",
                                    NotificationType.Success,
                                    1500
                                );
                                ,
                                Collect(
                                    arrProductPurchase_SaleVertion2,
                                    {
                                        id_Purchase_request: "",
                                        id_Product: Gallery21.Selected.id_Product,
                                        name_Product: Gallery21.Selected.name_Product,
                                        request_Quantity: Value(TextInput22.Text),
                                        request_Reason: TextInput22_1.Text,
                                        request_Note: TextInput22_2.Text,
                                        unit: TextInput22_3.Text
                                    }
                                );
                                Notify(
                                    "Thêm sản phẩm vào danh sách yêu cầu thành công",
                                    NotificationType.Success
                                );
                            );
                            Set(
                                isVisibleDialogRequestProductPurchase,
                                false
                            );
                            Set(
                                isVisibleEditProductPurchase,
                                false
                            );
                            
                        )
                    Text: ="Xác nhận"
                    Width: =305
                    X: =110
                    Y: =558
                    ZIndex: =11

                Label139_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Đơn vị"
                    Width: =446
                    X: =39
                    Y: =424
                    ZIndex: =12

                TextInput22_3 As text:
                    Default: =If(isVisibleEditProductPurchase,Gallery24.Selected.unit)
                    Height: =66
                    HintText: ="Đơn vị"
                    Mode: =TextMode.MultiLine
                    Width: =446
                    X: =39
                    Y: =464
                    ZIndex: =13

        containerDialogRequestBuyProductNewPurchase As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =705
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleDialogRequestBuyProductNew
            Width: =1286
            X: =39
            Y: =31
            ZIndex: =3

            Icon39 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =45
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogPurchase_SaleVertion2,false);
                    Set(isVisibleDialogRequestBuyProductNew, false);
                Width: =45
                X: =1227
                Y: =12
                ZIndex: =1

            Label146 As label:
                FontWeight: =FontWeight.Semibold
                Height: =69
                Size: =20
                Text: |-
                    ="Yêu cầu mua sản phẩm mới
                    "
                Width: =400
                X: =20
                Y: =12
                ZIndex: =2

            Container91 As groupContainer.verticalAutoLayoutContainer:
                Height: =554
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =10
                PaddingRight: =10
                Width: =1232
                X: =20
                Y: =81
                ZIndex: =3

                Container92 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =300
                    ZIndex: =1

                    Label148 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =35
                        Size: =15
                        Text: ="Tạo yêu cầu - Sản phẩm"
                        Width: =250
                        X: =12
                        Y: =6
                        ZIndex: =1

                    Icon42 As icon.BackArrow:
                        Height: =35
                        Icon: =Icon.BackArrow
                        OnSelect: =Set(isVisibleInputInformationProductNewPurchase,!isVisibleInputInformationProductNewPurchase);
                        Rotation: =If(isVisibleInputInformationProductNewPurchase,-90,90)
                        Width: =35
                        X: =262
                        Y: =6
                        ZIndex: =2

                Container93 As groupContainer.manualLayoutContainer:
                    BorderThickness: =0.01
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =300
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Visible: =isVisibleInputInformationProductNewPurchase
                    ZIndex: =2

                    Label118 As label:
                        Align: =Align.Right
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: |-
                            ="Tên sản phẩm:"
                        Width: =156
                        X: =12
                        Y: =11
                        ZIndex: =1

                    TextInput16 As text:
                        Clear: =true
                        Default: =""
                        HintText: ="Tên sản phẩm ..."
                        Width: =476
                        X: =168
                        Y: =9
                        ZIndex: =2

                    Label118_1 As label:
                        Align: =Align.Right
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: |-
                            ="Số lượng:"
                        Width: =118
                        X: =50
                        Y: =66
                        ZIndex: =3

                    TextInput16_1 As text:
                        Clear: =true
                        Default: =""
                        Format: =TextFormat.Number
                        HintText: ="Số lượng yêu cầu ..."
                        Width: =476
                        X: =168
                        Y: =64
                        ZIndex: =4

                    Label118_2 As label:
                        Align: =Align.Right
                        FontWeight: =FontWeight.Semibold
                        Height: =28
                        Size: =15
                        Text: |-
                            ="Lý do:"
                        Width: =96
                        X: =72
                        Y: =120
                        ZIndex: =5

                    TextInput16_2 As text:
                        Clear: =true
                        Default: =""
                        Height: =95
                        HintText: |-
                            ="Lý do:"
                        Mode: =TextMode.MultiLine
                        Width: =476
                        X: =168
                        Y: =120
                        ZIndex: =6

                    TextInput16_3 As text:
                        Clear: =true
                        Default: =""
                        Height: =95
                        HintText: |-
                            ="Ghi chú:"
                        Mode: =TextMode.MultiLine
                        Width: =466
                        X: =740
                        Y: =67
                        ZIndex: =7

                    Label118_3 As label:
                        Align: =Align.Right
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: |-
                            ="Ghi chú:"
                        Width: =96
                        X: =644
                        Y: =67
                        ZIndex: =8

                    Label118_4 As label:
                        Align: =Align.Right
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Đơn vị"
                        Width: =92
                        X: =644
                        Y: =11
                        ZIndex: =9

                    TextInput16_4 As text:
                        Clear: =true
                        Default: =""
                        HintText: ="Đơn vị .."
                        Width: =470
                        X: =736
                        Y: =9
                        ZIndex: =10

                    Button16 As button:
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput16.Text) || IsBlank(TextInput16_1.Text) || IsBlank(TextInput16_2.Text) || IsBlank(TextInput16_3.Text) || IsBlank(TextInput16_4.Text),
                                Notify(
                                    "Vui lòng điền đẫy đử thông tin",
                                    NotificationType.Error
                                ),
                                Collect(
                                    arrProductNewPurchase,
                                    {
                                        name_Product: TextInput16.Text,
                                        request_Quantity: Value(TextInput16_1.Text),
                                        request_Reason: TextInput16_2.Text,
                                        request_Note: TextInput16_3.Text,
                                        unit: TextInput16_4.Text
                                    }
                                );
                                Notify(
                                    "Thêm sản phẩm vào danh sách yêu cầu mua sản phẩm mới thành công",
                                    NotificationType.Success,
                                    1500
                                );
                                Reset(TextInput16);
                                Reset(TextInput16_1);
                                Reset(TextInput16_2);
                                Reset(TextInput16_3);
                                Reset(TextInput16_4);
                                
                            )
                        Text: ="Thêm"
                        X: =1035
                        Y: =249
                        ZIndex: =11

                Container92_1 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =300
                    ZIndex: =3

                    Label148_1 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =35
                        Size: =15
                        Text: ="Danh sách yêu cầu"
                        Width: =191
                        X: =12
                        Y: =6
                        ZIndex: =1

                Container95 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(128, 128, 128, 0.15)
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    ZIndex: =4

                    Label120 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =50
                        Size: =15
                        Text: ="Tên sản phẩm"
                        Width: =281
                        X: =12
                        ZIndex: =1

                    Label120_1 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =50
                        Size: =15
                        Text: ="Số lượng"
                        Width: =184
                        X: =293
                        ZIndex: =2

                    Label120_2 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =50
                        Size: =15
                        Text: ="Lý do"
                        Width: =353
                        X: =477
                        ZIndex: =3

                    Label120_3 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =50
                        Size: =15
                        Text: ="Ghi chú"
                        Width: =313
                        X: =830
                        ZIndex: =4

                "Gallery27 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    Fill: =RGBA(241, 244, 249, 1)
                    FillPortions: =
                    Height: =If(isVisibleInputInformationProductNewPurchase,100,400)
                    Items: =arrProductNewPurchase
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =60
                    ZIndex: =5

                    Separator23 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Rectangle20 As rectangle:
                        Height: =Parent.TemplateHeight - Separator23.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =6

                    Label121 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        PaddingRight: =10
                        Size: =15
                        Text: =ThisItem.name_Product
                        Width: =281
                        Wrap: =false
                        X: =12
                        ZIndex: =7

                    Label121_1 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.request_Quantity
                        Width: =184
                        X: =293
                        ZIndex: =8

                    Label121_2 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        PaddingRight: =10
                        Size: =15
                        Text: =ThisItem.request_Reason
                        Width: =353
                        Wrap: =false
                        X: =477
                        ZIndex: =9

                    Label121_3 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.request_Note
                        Width: =313
                        Wrap: =false
                        X: =830
                        ZIndex: =10

                    Icon40 As icon.Edit:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =30
                        Icon: =Icon.Edit
                        OnSelect: =Set(isVisibleEditPurchaseProductNew,true)
                        Width: =30
                        X: =1143
                        Y: =11
                        ZIndex: =11

                    Icon41 As icon.Trash:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =30
                        Icon: =Icon.Trash
                        OnSelect: =Select(Parent)
                        Width: =30
                        X: =1182
                        Y: =11
                        ZIndex: =12

            Button17 As button:
                OnSelect: |-
                    =If(
                        CountRows(arrProductNewPurchase) < 1,
                        Notify(
                            "Danh sách yêu cầu mua sản phẩm mới đang trống. Vui lòng tạo sản phẩm mới yêu cầu mua",
                            NotificationType.Error,
                            1500
                        ),
                        Set(
                            isVisibleDialogPurchase_SaleVertion2,
                            true
                        );
                        Set(
                            isVisibleDialogValidateAddProductNewPurchase,
                            true
                        );
                        Set(positionDialogPurchaseValidate,1);
                    )
                Text: ="Xác nhận"
                Width: =172
                X: =1100
                Y: =652
                ZIndex: =4

        containerDialogValidateAddPurchaseNewProduct As groupContainer.manualLayoutContainer:
            Fill: =RGBA(38, 36, 36, 0.27)
            Height: =768
            Visible: =isVisibleDialogValidateAddProductNewPurchase
            Width: =1366
            ZIndex: =4

            Container59 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =480
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =956
                X: =192
                Y: =111
                ZIndex: =1

                Icon38 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =45
                    Icon: =Icon.Cancel
                    OnSelect: |
                        =Set(isVisibleIdQuoteWait,false);
                        Set(isVisibleDialogValidateAddProductNewPurchase, false);
                    Width: =45
                    X: =897
                    Y: =12
                    ZIndex: =1

                Label125 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =96
                    Size: =24
                    Text: ="Bạn có chắc chắn muốn tạo yêu cầu mua các sản phẩm này không ?"
                    Width: =699
                    X: =146
                    Y: =63
                    ZIndex: =2

                Label128 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Lighter
                    Height: =58
                    Italic: =true
                    Size: =15
                    Text: ="Vui lòng cung cấp thời gian nhận hàng"
                    Width: =764
                    X: =86
                    Y: =166
                    ZIndex: =3

                Label131 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    Size: =15
                    Text: |-
                        ="Thời gian nhận hàng:"
                    Width: =214
                    X: =197
                    Y: =227
                    ZIndex: =4

                DatePicker4 As datepicker:
                    ContentLanguage: ="vi-VN"
                    Language: ="vi-VN"
                    X: =411
                    Y: =224
                    ZIndex: =5

                Button20 As button:
                    OnSelect: |-
                        =If(
                            positionDialogPurchaseValidate = 0,
                            Set(
                                iD_Purchase_request,
                                "PRQ_" & Text(
                                    Now(),
                                    "ddmmyyyyhhmmss"
                                ) & informationUser.ID
                            );
                            Patch(
                                Purchase_request,
                                Defaults(Purchase_request),
                                {
                                    id_Purchase_request: iD_Purchase_request,
                                    request_Date: Now(),
                                    delivery_Date: DatePicker4.SelectedDate,
                                    status_PurchaseRequest: {Value: "Chưa duyệt"},
                                    id_User: informationUser.ID
                                }
                            );
                            ForAll(
                                arrProductPurchase_SaleVertion2,
                                Patch(
                                    Purchase_request_Product,
                                    Defaults(Purchase_request_Product),
                                    {
                                        id_Purchase_request: iD_Purchase_request,
                                        id_Product: ThisRecord.id_Product,
                                        name_Product: ThisRecord.name_Product,
                                        request_Quantity: ThisRecord.request_Quantity,
                                        request_Reason: ThisRecord.request_Reason,
                                        request_Note: ThisRecord.request_Note,
                                        unit: ThisRecord.unit
                                    }
                                )
                            );
                            Notify("Tạo yêu cầu mua hàng thành công");
                            Set(
                                isVisibleDialogPurchaseProduct,
                                false
                            );
                            Set(
                                isVisibleDialogPurchase_SaleVertion2,
                                false
                            );
                            Set(
                                isVisibleDialogValidateAddProductNewPurchase,
                                false
                            );
                            ,
                            If(
                                positionDialogPurchaseValidate = 1,
                                Set(
                                    iD_Purchase_request,
                                    "PRQ_" & Text(
                                        Now(),
                                        "ddmmyyyyhhmmss"
                                    ) & informationUser.ID
                                );
                                Patch(
                                    Purchase_request,
                                    Defaults(Purchase_request),
                                    {
                                        id_Purchase_request: iD_Purchase_request,
                                        request_Date: Now(),
                                        delivery_Date: DatePicker4.SelectedDate,
                                        status_PurchaseRequest: {Value: "Chưa duyệt"},
                                        id_User: informationUser.ID
                                    }
                                );
                                ForAll(
                                    arrProductNewPurchase,
                                    Patch(
                                        Purchase_request_Product,
                                        Defaults(Purchase_request_Product),
                                        {
                                            id_Purchase_request: iD_Purchase_request,
                                            name_Product: ThisRecord.name_Product,
                                            request_Quantity: ThisRecord.request_Quantity,
                                            request_Reason: ThisRecord.request_Reason,
                                            request_Note: ThisRecord.request_Note,
                                            unit: ThisRecord.unit
                                        }
                                    )
                                );
                                Notify(
                                    "Tạo yêu cầu mua hàng sản phẩm mới thành công",
                                    NotificationType.Success,
                                    1500
                                );
                                Set(
                                    isVisibleDialogPurchase_SaleVertion2,
                                    false
                                );
                                Set(
                                    isVisibleDialogRequestBuyProductNew,
                                    false
                                );
                                Set(
                                    isVisibleDialogValidateAddProductNewPurchase,
                                    false
                                );
                            )
                        )
                    Text: ="Xác nhận"
                    Width: =206
                    X: =365
                    Y: =288
                    ZIndex: =8

        containerEditPurchaseProductNew As groupContainer.manualLayoutContainer:
            Fill: =RGBA(0, 0, 0, 0.16)
            Height: =768
            Visible: =isVisibleEditPurchaseProductNew
            Width: =1366
            ZIndex: =5

            Container67 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =680
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                X: =429
                Y: =45
                ZIndex: =1

                Icon43 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =45
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleEditPurchaseProductNew, false)
                    Width: =45
                    X: =441
                    Y: =9
                    ZIndex: =1

                Label133 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =45
                    Size: =20
                    Text: |-
                        ="Sửa thông tin sản phẩm
                        "
                    Width: =364
                    X: =16
                    Y: =9
                    ZIndex: =2

                Label142 As label:
                    Text: ="Tên sản phẩm"
                    X: =44
                    Y: =54
                    ZIndex: =3

    containerHistoryTransaction As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Height: =701
        Visible: =btnFunctionSaleVertion2 = "btnHistoryTransaction"
        Width: =1366
        Y: =67
        ZIndex: =7

        Container69_1 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.Semibold
            Height: =668
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =317
            X: =16
            Y: =13
            ZIndex: =3

            Container73_2 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =28
                Width: =294
                X: =10
                Y: =10
                ZIndex: =1

                Label124_2 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(50, 86, 160, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =28
                    Size: =15
                    Text: ="Tìm kiếm"
                    Width: =294
                    ZIndex: =1

            Container73_3 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =28
                Width: =294
                X: =10
                Y: =135
                ZIndex: =3

                Label124_3 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(50, 86, 160, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =28
                    Size: =15
                    Text: ="Bộ lọc"
                    Width: =294
                    ZIndex: =1

            Container69 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionfuntionHistoryTransaction = 0, DropShadow.Semibold,DropShadow.Light)
                Fill: =If(positionfuntionHistoryTransaction = 0, RGBA(204, 231, 246, 1),RGBA(204, 231, 246, 0))
                Height: =38
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =214
                X: =50
                Y: =169
                ZIndex: =7

                Checkbox2 As checkbox:
                    CheckboxSize: =30
                    Default: =positionfuntionHistoryTransaction = 0
                    FocusedBorderThickness: =0
                    Height: =38
                    OnCheck: =Set(positionfuntionHistoryTransaction,0)
                    OnUncheck: =Set(positionfuntionHistoryTransaction,1)
                    Text: ="Khách hàng"
                    Width: =214
                    ZIndex: =1

            Container77 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionfuntionHistoryTransaction = 1, DropShadow.Semibold,DropShadow.Light)
                Fill: =If(positionfuntionHistoryTransaction = 1, RGBA(204, 231, 246, 1),RGBA(204, 231, 246, 0))
                Height: =38
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =214
                X: =50
                Y: =221
                ZIndex: =8

                Checkbox2_1 As checkbox:
                    CheckboxSize: =30
                    Default: =positionfuntionHistoryTransaction = 1
                    FocusedBorderThickness: =0
                    Height: =38
                    OnCheck: |
                        =Set(
                            positionfuntionHistoryTransaction,
                            1
                        );
                        Set(
                            positionFlat_Order_HistoryTransaction,
                            0
                        );
                        Set(
                            isVisibleSelectionOrder_HistoryTransaction,
                            false
                        );
                        Refresh(Quote);
                        ClearCollect(
                            dataQuote_Order_History,
                            Filter(Quote,quote_Status.Value = "Đơn hàng")
                        );
                    OnUncheck: =Set(positionfuntionHistoryTransaction,0)
                    Text: ="Đơn hàng"
                    Width: =214
                    ZIndex: =1

            Container82 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionfuntionHistoryTransaction = 1, DropShadow.Semibold,DropShadow.Light)
                Height: =30
                Width: =278
                X: =18
                Y: =45
                ZIndex: =9

                TextInput15 As text:
                    Default: =""
                    DisplayMode: =If(positionfuntionHistoryTransaction = 1,DisplayMode.Edit,DisplayMode.Disabled)
                    Height: =30
                    HintText: ="Mã đơn hàng"
                    Width: =278
                    ZIndex: =1

            Container84 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionfuntionHistoryTransaction = 0, DropShadow.Semibold,DropShadow.Light)
                Height: =30
                Width: =278
                X: =18
                Y: =88
                ZIndex: =10

                TextInput15_2 As text:
                    Default: =""
                    DisplayMode: =If(positionfuntionHistoryTransaction = 0,DisplayMode.Edit,DisplayMode.Disabled)
                    Height: =30
                    HintText: ="Mã khách hàng"
                    Width: =278
                    ZIndex: =1

        Container25 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =685
            Visible: =positionfuntionHistoryTransaction = 0
            Width: =1000
            X: =351
            Y: =16
            ZIndex: =4

            Container61 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(128, 128, 128, 0.06)
                Height: =36
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =977
                X: =12
                Y: =67
                ZIndex: =1

                Label147 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Mã số thuế"
                    Width: =183
                    ZIndex: =1

                Label147_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Tên khách hàng"
                    Width: =575
                    X: =183
                    ZIndex: =2

                Label147_2 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Tổng đơn hàng"
                    Width: =218
                    X: =758
                    ZIndex: =3

            "Gallery14 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                DelayItemLoading: =true
                Fill: =RGBA(255, 255, 255, 1)
                Height: =567
                Items: |-
                    =If(
                        IsBlank(TextInput15_2.Text),
                        If(
                            positionFlatHistory_Transaction = 0,
                            dataCustomerCountOrder,
                            If(
                                positionFlatHistory_Transaction = 1,
                                SortByColumns(
                                    dataCustomerCountOrder,
                                    "countOrder",
                                    SortOrder.Ascending
                                ),
                                If(
                                    positionFlatHistory_Transaction = 2,
                                    SortByColumns(
                                        dataCustomerCountOrder,
                                        "customer_Name",
                                        SortOrder.Ascending
                                    )
                                )
                            )
                        ),
                        Filter(dataCustomerCountOrder,StartsWith(taxCode,TextInput15_2.Text))
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |-
                    =Set(isVisibleDetailItemHistoryTransaction,true);
                    Set(isVisibleFlatfilter_HistoryTransaction,false)
                TemplatePadding: =0
                TemplateSize: =52
                Width: =982
                X: =10
                Y: =103
                ZIndex: =4

                Label150 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Color: =RGBA(56, 96, 178, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =52
                    OnSelect: =Select(Parent)
                    Size: =16
                    Text: =ThisItem.taxCode
                    Width: =182
                    X: =2
                    ZIndex: =7

                Label150_1 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Height: =52
                    OnSelect: =Select(Parent)
                    Size: =16
                    Text: =ThisItem.customer_Name
                    Width: =575
                    Wrap: =false
                    X: =184
                    ZIndex: =8

                Label150_2 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Height: =52
                    OnSelect: =Select(Parent)
                    Size: =16
                    Text: =ThisItem.countOrder
                    Width: =220
                    X: =759
                    ZIndex: =9

            Container87 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semilight
                Height: =46
                Width: =310
                X: =651
                Y: =3
                ZIndex: =7

                Icon47 As icon.FilterFlat:
                    Height: =26
                    Icon: =Icon.FilterFlat
                    Width: =29
                    X: =13
                    Y: =10
                    ZIndex: =1

                Label149 As label:
                    Align: =Align.Center
                    Fill: =RGBA(255, 255, 255, 1)
                    FontWeight: =If(positionFlatHistory_Transaction = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =46
                    Italic: =true
                    Text: |-
                        =If(
                            positionFlatHistory_Transaction = 0,
                            "Bộ lọc - Tất cả",
                            If(
                                positionFlatHistory_Transaction = 1,
                                "Bộ lọc - Số lượng đơn hàng","Bộ lọc - Khách hàng"
                            )
                        )
                    Width: =268
                    X: =42
                    ZIndex: =2

                Rectangle11 As rectangle:
                    Fill: =RGBA(56, 96, 178, 0)
                    Height: =46
                    OnSelect: =Set(isVisibleFlatfilter_HistoryTransaction,!isVisibleFlatfilter_HistoryTransaction)
                    Width: =310
                    ZIndex: =3

            Container88 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =69
                Visible: =isVisibleFlatfilter_HistoryTransaction
                Width: =314
                X: =666
                Y: =46
                ZIndex: =8

                Checkbox3 As checkbox:
                    CheckboxSize: =30
                    Default: =positionFlatHistory_Transaction = 1
                    Height: =26
                    OnCheck: =Set(positionFlatHistory_Transaction,1)
                    OnSelect: =Set(isVisibleFlatfilter_HistoryTransaction,false)
                    OnUncheck: =Set(positionFlatHistory_Transaction, 0)
                    Text: ="Theo số lượng đơn hàng(tăng)"
                    Width: =285
                    X: =21
                    Y: =9
                    ZIndex: =1

                Checkbox3_1 As checkbox:
                    CheckboxSize: =30
                    Default: =positionFlatHistory_Transaction = 2
                    Height: =26
                    OnCheck: =Set(positionFlatHistory_Transaction,2)
                    OnSelect: |
                        =Set(isVisibleFlatfilter_HistoryTransaction,false)
                    OnUncheck: =Set(positionFlatHistory_Transaction,0)
                    Text: ="Theo tên khách hàng"
                    Width: =285
                    X: =21
                    Y: =35
                    ZIndex: =2

        Container81 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =685
            Visible: =positionfuntionHistoryTransaction = 1
            Width: =1000
            X: =351
            Y: =16
            ZIndex: =5

            "Gallery26 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderThickness: =1
                DelayItemLoading: =true
                Height: =569
                Items: |-
                    =If(
                        IsBlank(TextInput15.Text),
                        If(
                            positionFlat_Order_HistoryTransaction = 0,
                            dataQuote_Order_History,
                            If(
                                positionFlat_Order_HistoryTransaction = 1,
                                SortByColumns(
                                    dataQuote_Order_History,
                                    "quote_Expire",
                                    SortOrder.Descending
                                ),
                                SortByColumns(
                                    dataQuote_Order_History,
                                    "sumPriceQuote",
                                    SortOrder.Ascending
                                )
                            )
                        ),
                        Filter(
                            dataQuote_Order_History,
                            StartsWith(
                                id_Quote,
                                TextInput15.Text
                            )
                        )
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |
                    =Set(isVisibleDetailOrderHistory_Customer,true);
                    Set(positionObjViewOrder,0);
                TemplatePadding: =0
                TemplateSize: =49
                Width: =977
                X: =12
                Y: =103
                ZIndex: =1

                Label152 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Color: =RGBA(56, 96, 178, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =48
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.id_Quote
                    Width: =258
                    ZIndex: =1

                Label152_1 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Height: =48
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.quote_Date
                    Width: =145
                    X: =258
                    ZIndex: =2

                Label152_2 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Height: =48
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.quote_Expire
                    Width: =154
                    X: =403
                    ZIndex: =3

                Label152_3 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Height: =48
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =LookUp(Customer,ID  = ThisItem.id_Customer).customer_Name
                    Width: =223
                    Wrap: =false
                    X: =557
                    ZIndex: =4

                Label152_4 As label:
                    Align: =Align.Center
                    BorderThickness: =1
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =48
                    Italic: =true
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.sumPriceQuote, "0,000")
                    Width: =199
                    X: =780
                    ZIndex: =5

            Container87_1 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semilight
                Height: =46
                Width: =310
                X: =651
                Y: =3
                ZIndex: =2

                Icon47_1 As icon.FilterFlat:
                    Height: =26
                    Icon: =Icon.FilterFlat
                    Width: =29
                    X: =13
                    Y: =10
                    ZIndex: =1

                Label149_1 As label:
                    Align: =Align.Center
                    Fill: =RGBA(255, 255, 255, 1)
                    FontWeight: =If(positionFlat_Order_HistoryTransaction = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =46
                    Italic: =true
                    Text: |-
                        =If(
                            positionFlat_Order_HistoryTransaction = 0,
                            "Bộ lọc - Tất cả",
                            If(
                                positionFlat_Order_HistoryTransaction = 1,
                                "Bộ lọc - Thời gian nhận hàng",
                                If(
                                    positionFlat_Order_HistoryTransaction = 2,
                                    "Bộ lọc - Giá đơn hàng (Tăng dần)"
                                )
                            )
                        )
                    Width: =268
                    X: =42
                    ZIndex: =2

                Rectangle11_1 As rectangle:
                    Fill: =RGBA(56, 96, 178, 0)
                    Height: =46
                    OnSelect: =Set(isVisibleSelectionOrder_HistoryTransaction,!isVisibleSelectionOrder_HistoryTransaction)
                    Width: =310
                    ZIndex: =3

            Container90 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(128, 128, 128, 0.06)
                Height: =36
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =977
                X: =12
                Y: =67
                ZIndex: =3

                Label151 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Mã đơn hàng"
                    Width: =254
                    X: =4
                    ZIndex: =1

                Label151_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Thời gian tạo"
                    Width: =145
                    X: =258
                    ZIndex: =2

                Label151_2 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Hạn nhận"
                    Width: =154
                    X: =403
                    ZIndex: =3

                Label151_3 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Khách hàng"
                    Width: =223
                    X: =559
                    ZIndex: =4

                Label151_4 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    Size: =15
                    Text: ="Giá"
                    Width: =195
                    X: =782
                    ZIndex: =5

            Container88_1 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =71
                Visible: =isVisibleSelectionOrder_HistoryTransaction
                Width: =314
                X: =651
                Y: =53
                ZIndex: =4

                Checkbox3_2 As checkbox:
                    CheckboxSize: =30
                    Default: =positionFlat_Order_HistoryTransaction = 1
                    Height: =26
                    OnCheck: =Set(positionFlat_Order_HistoryTransaction,1)
                    OnSelect: =Set(isVisibleSelectionOrder_HistoryTransaction,false)
                    OnUncheck: =Set(positionFlat_Order_HistoryTransaction, 0)
                    Text: ="Theo thời gian nhận hàng"
                    Width: =285
                    X: =21
                    Y: =9
                    ZIndex: =1

                Checkbox3_3 As checkbox:
                    CheckboxSize: =30
                    Default: =positionFlat_Order_HistoryTransaction = 2
                    Height: =26
                    OnCheck: =Set(positionFlat_Order_HistoryTransaction,2)
                    OnSelect: |
                        =Set(isVisibleSelectionOrder_HistoryTransaction,false)
                    OnUncheck: =Set(positionFlat_Order_HistoryTransaction,0)
                    Text: ="Theo giá hoá đơn (Tăng dần)"
                    Width: =285
                    X: =21
                    Y: =35
                    ZIndex: =2

    DetailItemHistoryTransaction_Customer As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 0.71)
        Height: =768
        Visible: =isVisibleDetailItemHistoryTransaction
        Width: =1366
        ZIndex: =8

        containerDetailOrders_Customer As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =693
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =1223
            X: =75
            Y: =33
            ZIndex: =1

            Icon22 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =45
                Icon: =Icon.Cancel
                OnSelect: =Set(isVisibleDetailItemHistoryTransaction,false)
                Width: =45
                X: =1167
                Y: =12
                ZIndex: =1

            Label91 As label:
                FontWeight: =FontWeight.Semibold
                Height: =45
                Size: =20
                Text: ="Lịch sử giao dịch - " & Gallery14.Selected.customer_Name
                Width: =676
                X: =19
                Y: =12
                ZIndex: =2

            Container32 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(128, 128, 128, 0.06)
                Height: =40
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =1109
                X: =57
                Y: =68
                ZIndex: =3

                Label92 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mã đơn hàng"
                    Width: =208
                    X: =5
                    ZIndex: =1

                Label92_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Ngày tạo"
                    Width: =124
                    X: =213
                    ZIndex: =2

                Label92_2 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Hạn nhận"
                    Width: =124
                    X: =337
                    ZIndex: =3

                Label92_3 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mô tả"
                    Width: =277
                    X: =461
                    ZIndex: =4

                Label92_4 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Nhân viên"
                    Width: =198
                    X: =738
                    ZIndex: =5

                Label92_5 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Nhân viên"
                    Width: =172
                    X: =936
                    ZIndex: =6

            "Gallery19 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderThickness: =1
                DelayItemLoading: =true
                Height: =537
                Items: =SortByColumns(Filter(Quote,id_Customer =Gallery14.Selected.ID && quote_Status.Value = "Đơn hàng"),"quote_Expire",SortOrder.Descending)
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |-
                    =Set(isVisibleDetailOrderHistory_Customer,true);
                    Set(positionObjViewOrder,0);
                TemplatePadding: =0
                TemplateSize: =40
                Width: =1111
                X: =55
                Y: =110
                ZIndex: =4

                Label93 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Color: =RGBA(56, 96, 178, 1)
                    FontWeight: =FontWeight.Semibold
                    Italic: =true
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.id_Quote
                    Width: =213
                    Y: =1
                    ZIndex: =1

                Label93_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.quote_Date
                    Width: =124
                    X: =213
                    Y: =1
                    ZIndex: =2

                Label93_2 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.quote_Expire
                    Width: =124
                    X: =337
                    Y: =1
                    ZIndex: =3

                Label93_3 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.quote_Decription
                    Width: =277
                    Wrap: =false
                    X: =461
                    Y: =1
                    ZIndex: =4

                Label93_4 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    FontWeight: =FontWeight.Lighter
                    OnSelect: =Select(Parent)
                    Text: =LookUp(User,ID = ThisItem.id_User).user_Name
                    Width: =198
                    Wrap: =false
                    X: =738
                    Y: =1
                    ZIndex: =5

                Label93_5 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Color: =RGBA(255, 0, 0, 1)
                    Italic: =true
                    OnSelect: =Select(Parent)
                    Text: =Text(ThisItem.sumPriceQuote,"0,000")
                    Width: =175
                    Wrap: =false
                    X: =936
                    Y: =1
                    ZIndex: =6

    containerDetailHistoryTransaction_Order_Customer As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 0.72)
        Height: =768
        Visible: =isVisibleDetailOrderHistory_Customer
        Width: =1366
        ZIndex: =9

        Container42 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =693
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =1230
            X: =51
            Y: =48
            ZIndex: =1

            Icon24 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =45
                Icon: =Icon.Cancel
                OnSelect: =Set(isVisibleDetailOrderHistory_Customer,false)
                Width: =45
                X: =1174
                Y: =16
                ZIndex: =1

            Container43 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =60
                Width: =392
                X: =20
                Y: =16
                ZIndex: =2

                Label94 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =60
                    Size: =20
                    Text: =If(positionfuntionHistoryTransaction =1,Gallery26.Selected.id_Quote,Gallery19.Selected.id_Quote)
                    Width: =392
                    ZIndex: =1

            Container44 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                DropShadow: =DropShadow.None
                Height: =535
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =1153
                X: =39
                Y: =126
                ZIndex: =3

                Container50 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    Height: =508
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Visible: =positionObjViewOrder =0
                    Width: =1153
                    Y: =27
                    ZIndex: =1

                    Container51 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.06)
                        Height: =40
                        Width: =1114
                        X: =20
                        Y: =9
                        ZIndex: =1

                        Label100 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên sản phẩm"
                            Width: =409
                            ZIndex: =1

                        Label100_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Số lượng"
                            Width: =122
                            X: =409
                            ZIndex: =2

                        Label100_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Giá/Sp"
                            Width: =239
                            X: =531
                            ZIndex: =3

                        Label100_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Vat(%)"
                            Width: =73
                            X: =770
                            ZIndex: =4

                        Label100_4 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tổng tiền"
                            Width: =271
                            X: =843
                            ZIndex: =5

                    "Gallery20 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        DelayItemLoading: =true
                        Height: =443
                        Items: =If(positionfuntionHistoryTransaction =1,Filter(Quote_Product,id_Quote = Gallery26.Selected.id_Quote),Filter(Quote_Product,id_Quote = Gallery19.Selected.id_Quote))
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =41
                        Width: =1114
                        X: =20
                        Y: =52
                        ZIndex: =2

                        Label96 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            Width: =409
                            Wrap: =false
                            ZIndex: =1

                        Label96_1 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quantity_Quote_Product
                            Width: =122
                            Wrap: =false
                            X: =409
                            ZIndex: =2

                        Label96_2 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =Text(ThisItem.price_Quote_Product, "0,000")
                            Width: =239
                            Wrap: =false
                            X: =531
                            ZIndex: =3

                        Label96_3 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.vat & "%"
                            Width: =73
                            Wrap: =false
                            X: =770
                            ZIndex: =4

                        Label96_4 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            Color: =RGBA(184, 0, 0, 1)
                            FontWeight: =FontWeight.Semibold
                            Italic: =true
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =Text((ThisItem.quantity_Quote_Product * ThisItem.price_Quote_Product) +(ThisItem.quantity_Quote_Product * ThisItem.price_Quote_Product*ThisItem.vat%),"0,000")
                            Width: =271
                            Wrap: =false
                            X: =843
                            ZIndex: =5

                Container50_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    Height: =508
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Visible: =positionObjViewOrder =1
                    Width: =1153
                    Y: =27
                    ZIndex: =2

                    Container51_1 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.06)
                        Height: =40
                        Width: =1114
                        X: =20
                        Y: =9
                        ZIndex: =1

                        Label100_5 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên dịch vụ"
                            Width: =439
                            ZIndex: =1

                        Label100_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =436
                            X: =439
                            ZIndex: =2

                        Label100_7 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Giá"
                            Width: =239
                            X: =875
                            ZIndex: =3

                    "Gallery20_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        DelayItemLoading: =true
                        Height: =443
                        Items: =If(positionfuntionHistoryTransaction = 1,Filter(Quote_Service,id_Quote = Gallery26.Selected.id_Quote),Filter(Quote_Service,id_Quote = Gallery19.Selected.id_Quote))
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =41
                        Width: =1114
                        X: =20
                        Y: =52
                        ZIndex: =2

                        Label96_9 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Service,id_Serivce = ThisItem.id_Service).service_Name
                            Width: =439
                            Wrap: =false
                            ZIndex: =1

                        Label96_8 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Service_Note
                            Width: =436
                            Wrap: =false
                            X: =439
                            ZIndex: =2

                        Label96_7 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 1)
                            BorderThickness: =1
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =Text(ThisItem.price_Quote_Service, "0,000")
                            Width: =239
                            Wrap: =false
                            X: =875
                            ZIndex: =3

            Container46 As groupContainer.manualLayoutContainer:
                BorderThickness: =If(positionObjViewOrder = 0,1,0)
                DropShadow: =If(positionObjViewOrder = 0,DropShadow.Semibold,DropShadow.Light)
                Fill: =RGBA(255, 255, 255, 0.99)
                Height: =46
                RadiusBottomLeft: =10
                RadiusBottomRight: =0
                RadiusTopLeft: =10
                RadiusTopRight: |
                    =0
                Width: =200
                X: =84
                Y: =105
                ZIndex: =4

                Label95 As label:
                    Align: =Align.Center
                    Color: =If(positionObjViewOrder =0,RGBA(255, 255, 255, 1),RGBA(0, 0, 0, 1))
                    Fill: =If(positionObjViewOrder =0,RGBA(128, 128, 128, 1),RGBA(128, 128, 128, 0))
                    FontWeight: =If(positionObjViewOrder = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =46
                    OnSelect: =Set(positionObjViewOrder,0)
                    Size: =15
                    Text: ="Sản phẩm"
                    Width: =200
                    ZIndex: =1

            Container46_1 As groupContainer.manualLayoutContainer:
                BorderThickness: =If(positionObjViewOrder = 1,1,0)
                DropShadow: =If(positionObjViewOrder = 1,DropShadow.Semibold,DropShadow.Light)
                Fill: =RGBA(255, 255, 255, 1)
                Height: =46
                RadiusBottomLeft: =0
                RadiusBottomRight: =10
                RadiusTopLeft: =0
                RadiusTopRight: =10
                Width: =200
                X: =284
                Y: =105
                ZIndex: =5

                Label95_1 As label:
                    Align: =Align.Center
                    Color: =If(positionObjViewOrder =1,RGBA(255, 255, 255, 1),RGBA(0, 0, 0, 1))
                    Fill: =If(positionObjViewOrder =1,RGBA(128, 128, 128, 1),RGBA(128, 128, 128, 0))
                    FontWeight: =If(positionObjViewOrder = 1,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =46
                    OnSelect: =Set(positionObjViewOrder,1)
                    Size: =15
                    Text: ="Dịch vụ"
                    Width: =200
                    ZIndex: =1

    containerDialogDetailPurchase As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.25)
        Height: =768
        Visible: =isVisibleDatailPurchase
        Width: =1366
        ZIndex: =10

        Container27 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =672
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =1244
            X: =63
            Y: =48
            ZIndex: =1

            Label89 As label:
                FontWeight: =FontWeight.Semibold
                Height: =46
                Size: =20
                Text: ="Chi tiết yêu cầu mua hàng"
                Width: =590
                X: =18
                Y: =9
                ZIndex: =1

            Icon25 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =45
                Icon: =Icon.Cancel
                OnSelect: =Set(isVisibleDatailPurchase, false)
                Width: =45
                X: =1181
                Y: =9
                ZIndex: =2

            Label101 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Italic: =true
                Size: =15
                Text: |-
                    ="Mã yêu cầu:"
                Width: =167
                X: =114
                Y: =55
                ZIndex: =3

            Container34 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Height: =40
                Width: =270
                X: =281
                Y: =55
                ZIndex: =4

                Label102 As label:
                    Align: =Align.Center
                    Italic: =true
                    Size: =15
                    Text: =Gallery25.Selected.id_Purchase_request
                    Width: =270
                    ZIndex: =1

            Label101_1 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Height: =46
                Italic: =true
                Size: =15
                Text: |-
                    ="Thời gian tạo - nhận:"
                Width: =206
                X: =628
                Y: =52
                ZIndex: =5

            Label104 As label:
                Italic: =true
                Size: =15
                Text: =Gallery25.Selected.request_Date & " --- " &Gallery25.Selected.delivery_Date
                Width: =270
                X: =834
                Y: =58
                ZIndex: =6

            Container45 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                DropShadow: =DropShadow.None
                Height: =474
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =1118
                X: =63
                Y: =156
                ZIndex: =7

                Container53 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(128, 128, 128, 0.06)
                    Height: =40
                    Width: =1034
                    X: =40
                    Y: =40
                    ZIndex: =1

                    Label106 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Tên sản phẩm"
                        Width: =457
                        X: =4
                        ZIndex: =1

                    Label106_3 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Số lượng yêu cầu"
                        Width: =202
                        X: =461
                        ZIndex: =4

                    Label106_4 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Số lượng nhập"
                        Width: =152
                        X: =663
                        ZIndex: =5

                    Label106_5 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Giá"
                        Width: =219
                        X: =815
                        ZIndex: =6

                "Gallery22 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    BorderColor: =RGBA(56, 96, 178, 1)
                    BorderThickness: =1
                    DelayItemLoading: =true
                    Height: =358
                    Items: =Filter(Purchase_request_Product,id_Purchase_request = Gallery25.Selected.id_Purchase_request)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =50
                    Width: =1034
                    X: =40
                    Y: =86
                    ZIndex: =2

                    Label108 As label:
                        Align: =Align.Center
                        BorderColor: =RGBA(56, 96, 178, 1)
                        BorderThickness: =1
                        Height: =50
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.name_Product
                        Width: =457
                        Wrap: =false
                        ZIndex: =1

                    Label108_1 As label:
                        Align: =Align.Center
                        BorderColor: =RGBA(56, 96, 178, 1)
                        BorderThickness: =1
                        Height: =50
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.request_Quantity
                        Width: =202
                        Wrap: =false
                        X: =457
                        ZIndex: =2

                    Label108_2 As label:
                        Align: =Align.Center
                        BorderColor: =RGBA(56, 96, 178, 1)
                        BorderThickness: =1
                        Height: =50
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =If(IsBlank(ThisItem.importProduct_Quantity),0,ThisItem.importProduct_Quantity)
                        Width: =152
                        Wrap: =false
                        X: =659
                        ZIndex: =3

                    Label108_3 As label:
                        Align: =Align.Center
                        BorderColor: =RGBA(56, 96, 178, 1)
                        BorderThickness: =1
                        Color: =RGBA(184, 0, 0, 1)
                        Height: =50
                        Italic: =true
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =If(IsBlank(ThisItem.importProduct_Price),"Chưa nhập",Text(ThisItem.importProduct_Price,"0,000"))
                        Width: =223
                        Wrap: =false
                        X: =811
                        ZIndex: =4

            Container52 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =46
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =296
                X: =114
                Y: =133
                ZIndex: =8

                Label105 As label:
                    Align: =Align.Center
                    Fill: =RGBA(237, 237, 237, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =46
                    Size: =18
                    Text: ="Sản phẩm đã yêu cầu"
                    Width: =296
                    ZIndex: =1

    containerstatictical As groupContainer.manualLayoutContainer:
        Height: =688
        Visible: =btnFunctionSaleVertion2 = "btnStatictical"
        Width: =1366
        Y: =80
        ZIndex: =11

        Container16_1 As groupContainer.verticalAutoLayoutContainer:
            Height: =688
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            PaddingLeft: =10
            PaddingRight: =10
            Width: =1366
            ZIndex: =1

            Container26_2 As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Semibold
                FillPortions: =0
                Height: =60
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                X: =866
                ZIndex: =1

                Label14_6 As label:
                    FontWeight: =FontWeight.Semibold
                    PaddingLeft: =0
                    PaddingRight: =20
                    Size: =15
                    Text: |-
                        ="Bộ lọc:"
                    Width: =116
                    X: =317
                    Y: =3
                    ZIndex: =1

                "'Dropdown_Type of statistics_Director_2' As dropdown":
                    Items: =["Thống kê theo năm","Thống kê theo tháng"]
                    OnChange: |-
                        =If(
                            'Dropdown_Type of statistics_Director_2'.Selected.Value = "Thống kê theo tháng",// Tính toán ngày // Tính toán ngày cuối cùng của tháng
                        Set(
                            ngayCuoiThang,
                            DateAdd(
                                DateValue(
                                    Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    ) & "/1/" & Dropdown_Year_Director_2.Selected.Value
                                ),
                                1,
                                TimeUnit.Months
                            ) - 1
                        );
                        ClearCollect(
                            statictialOrder,
                            []
                        );
                        ClearCollect(
                            statictialPrice,
                            []
                        );
                        If(
                            IsBlank(ComboBox_Sales_Director_2.Selected),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialOrder) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                        
                                    }
                                )
                            ),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                                    }
                                )
                            )
                        );
                        )
                    Width: =250
                    X: =713
                    Y: =3
                    ZIndex: =2

                ComboBox_Sales_Director_2 As combobox:
                    DisplayFields: =["user_Name"]
                    Items: =Filter(User,id_Role=LookUp(Role,name_Role="Sales").ID&&activity=true)
                    OnChange: |-
                        =Set(
                            ngayCuoiThang,
                            DateAdd(
                                DateValue(
                                    Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    ) & "/1/" & Dropdown_Year_Director_2.Selected.Value
                                ),
                                1,
                                TimeUnit.Months
                            ) - 1
                        );
                        ClearCollect(
                            statictialOrder,
                            []
                        );
                        ClearCollect(
                            statictialPrice,
                            []
                        );
                        If(
                            IsBlank(ComboBox_Sales_Director_2.Selected),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialOrder) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                        
                                    }
                                )
                            ),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                                    }
                                )
                            )
                        );
                    SearchFields: =["user_Name"]
                    SearchItems: =Search(Filter(User,id_Role=LookUp(Role,name_Role="Sales").ID&&activity=true),ComboBox_Sales_Director_2.SearchText,"user_Name")
                    SelectMultiple: =false
                    Width: =250
                    X: =433
                    Y: =3
                    ZIndex: =3

                Dropdown_Year_Director_2 As dropdown:
                    Items: =Distinct(Quote,Year(quote_Date))
                    OnChange: |-
                        =If(Dropdown2_2.Visible = true,// Tính toán ngày cuối cùng của tháng
                        // Tính toán ngày cuối cùng của tháng
                        Set(
                            ngayCuoiThang,
                            DateAdd(
                                DateValue(
                                    Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    ) & "/1/" & Dropdown_Year_Director_2.Selected.Value
                                ),
                                1,
                                TimeUnit.Months
                            ) - 1
                        );
                        ClearCollect(
                            statictialOrder,
                            []
                        );
                        ClearCollect(
                            statictialPrice,
                            []
                        );
                        If(
                            IsBlank(ComboBox_Sales_Director_2.Selected),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialOrder) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                        
                                    }
                                )
                            ),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                                    }
                                )
                            )
                        );
                        )
                    OnSelect: =
                    Width: =100
                    X: =994
                    Y: =3
                    ZIndex: =4

                Dropdown2_2 As dropdown:
                    Items: =["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"]
                    OnChange: |-
                        =Set(
                            ngayCuoiThang,
                            DateAdd(
                                DateValue(
                                    Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    ) & "/1/" & Dropdown_Year_Director_2.Selected.Value
                                ),
                                1,
                                TimeUnit.Months
                            ) - 1
                        );
                        ClearCollect(
                            statictialOrder,
                            []
                        );
                        ClearCollect(
                            statictialPrice,
                            []
                        );
                        If(
                            IsBlank(ComboBox_Sales_Director_2.Selected),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialOrder) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                        
                                    }
                                )
                            ),
                            ForAll(
                                Sequence(
                                    Value(
                                        Day(
                                            Text(
                                                ngayCuoiThang,
                                                "mm/dd/yyyy"
                                            )
                                        )
                                    )
                                ),
                                Collect(
                                    statictialOrder,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: CountRows(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                            )
                                        )
                                    }
                                );Collect(
                                    statictialPrice,
                                    {
                                        Id: CountRows(statictialPrice) + 1,
                                        Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                        Value: If(IsBlank(Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        )),0,Sum(
                                            Filter(
                                                Quote_Data,
                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                            ),
                                            sumPriceQuote
                                        ))
                                    }
                                )
                            )
                        );
                    Size: =15
                    Visible: =If('Dropdown_Type of statistics_Director_2'.SelectedText.Value = "Thống kê theo tháng",true,false)
                    Width: =150
                    X: =1124
                    Y: =3
                    ZIndex: =5

            Container28_2 As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =50
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingRight: =20
                ZIndex: =2

                Container4_6 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: |
                        =35
                    LayoutMinHeight: =Parent.Height
                    LayoutMinWidth: =0
                    Width: =120
                    ZIndex: =3

                    Button2_4 As button:
                        Fill: |-
                            =RGBA(
                                    0,
                                    205,
                                    0,
                                    1
                                )
                        Height: |
                            =35
                        HoverFill: |-
                            =ColorFade(RGBA(
                                    0,
                                    205,
                                    0,
                                    1
                                ), -20%)
                        OnSelect: |-
                            =If(
                                Dropdown2_2.Visible = false,
                                If(
                                    IsEmpty(ComboBox_Sales_Director_2.SelectedItems),
                                    ClearCollect(
                                        Collect_Report,
                                        []
                                    );
                                    ForAll(
                                        Sequence(12),
                                        Collect(
                                            Collect_Report,
                                            {
                                                Month: Text(CountRows(Collect_Report) + 1),
                                                Order: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = CountRows(Collect_Report) + 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                ),
                                                Price: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = CountRows(Collect_Report) + 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = CountRows(Collect_Report) + 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            }
                                        )
                                    );
                                    Collect(
                                        Collect_Report,
                                        {
                                            Month: "Total",
                                            Order: CountRows(
                                                Filter(
                                                    Quote_Data,
                                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                )
                                            ),
                                            Price: If(
                                                IsBlank(
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                ),
                                                0,
                                                Sum(
                                                    Filter(
                                                        Quote_Data,
                                                        Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    ),
                                                    sumPriceQuote
                                                )
                                            )
                                        }
                                    );
                                    Export_CSV_Warehouse_Manager.Run(
                                        JSON(
                                            Collect_Report,
                                            JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                                        ),
                                        "Báo cáo_Năm " & Dropdown_Year_Director_2.Selected.Value
                                    ).url;
                                    Notify(
                                        "Xuất file thành công!!!",
                                        NotificationType.Success,
                                        1500
                                    ),
                                    ClearCollect(
                                        Collect_Report,
                                        []
                                    );
                                    ForAll(
                                        Sequence(12),
                                        Collect(
                                            Collect_Report,
                                            {
                                                Month: Text(CountRows(Collect_Report) + 1),
                                                Order: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = CountRows(Collect_Report) + 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                ),
                                                Price: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = CountRows(Collect_Report) + 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = CountRows(Collect_Report) + 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            }
                                        )
                                    );
                                    Collect(
                                        Collect_Report,
                                        {
                                            Month: "Total",
                                            Order: CountRows(
                                                Filter(
                                                    Quote_Data,
                                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                                )
                                            ),
                                            Price: If(
                                                IsBlank(
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                ),
                                                0,
                                                Sum(
                                                    Filter(
                                                        Quote_Data,
                                                        Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                                    ),
                                                    sumPriceQuote
                                                )
                                            )
                                        }
                                    );
                                    Export_CSV_Warehouse_Manager.Run(
                                        JSON(
                                            Collect_Report,
                                            JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                                        ),
                                        "Báo cáo_" & ComboBox_Sales_Director_2.Selected.user_Name & "_Năm " & Dropdown_Year_Director_2.Selected.Value
                                    ).url;
                                    Notify(
                                        "Xuất file thành công!!!",
                                        NotificationType.Success,
                                        1500
                                    )
                                ),
                                ClearCollect(
                                    reportOrder_Month,
                                    []
                                );
                                Notify("as: " & JSON(statictialOrder));
                                ForAll(
                                    Sequence(CountRows(statictialOrder)),
                                    Collect(
                                        reportOrder_Month,
                                        {
                                            Date: "Tháng " & (CountRows(reportOrder_Month) + 1),
                                            Order: LookUp(
                                                statictialOrder,
                                                Id = CountRows(reportOrder_Month) + 1
                                            ).Value,
                                            Value: If(
                                                !IsBlank(
                                                    LookUp(
                                                        statictialPrice,
                                                        Id = CountRows(reportOrder_Month) + 1
                                                    ).Value
                                                ),
                                                LookUp(
                                                    statictialPrice,
                                                    Id = CountRows(reportOrder_Month) + 1
                                                ).Value,
                                                0
                                            )
                                        }
                                    )
                                );
                                Export_CSV_Warehouse_Manager.Run(
                                    JSON(
                                        reportOrder_Month,
                                        JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                                    ),
                                    "Báo cáo_" & ComboBox_Sales_Director_2.Selected.user_Name & "_" & Dropdown_Year_Director_2.Selected.Value
                                ).url;
                                Notify(
                                    "Xuất file thành công!!!",
                                    NotificationType.Success,
                                    1500
                                )
                            )
                        Size: =12
                        Text: ="Tải xuống"
                        Width: =120
                        ZIndex: =2

                Container4_7 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: |
                        =35
                    LayoutMinHeight: =Parent.Height
                    LayoutMinWidth: =0
                    Width: =120
                    ZIndex: =4

                    Button2_5 As button:
                        Fill: =RGBA(0, 121, 187, 1)
                        Height: =35
                        OnSelect: |-
                            =If(
                                Dropdown2_2.Visible,
                                Set(
                                    ngayCuoiThang,
                                    DateAdd(
                                        DateValue(
                                            Value(
                                                Mid(
                                                    Dropdown2_2.Selected.Value,
                                                    7,
                                                    2
                                                )
                                            ) & "/1/" & Dropdown_Year_Director_2.Selected.Value
                                        ),
                                        1,
                                        TimeUnit.Months
                                    ) - 1
                                );
                                ClearCollect(
                                    statictialOrder,
                                    []
                                );
                                ClearCollect(
                                    statictialPrice,
                                    []
                                );
                                If(
                                    IsBlank(ComboBox_Sales_Director_2.Selected),
                                    ForAll(
                                        Sequence(
                                            Value(
                                                Day(
                                                    Text(
                                                        ngayCuoiThang,
                                                        "mm/dd/yyyy"
                                                    )
                                                )
                                            )
                                        ),
                                        Collect(
                                            statictialOrder,
                                            {
                                                Id: CountRows(statictialOrder) + 1,
                                                Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                            Mid(
                                                                Dropdown2_2.Selected.Value,
                                                                7,
                                                                2
                                                            )
                                                        ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            }
                                        );
                                        Collect(
                                            statictialPrice,
                                            {
                                                Id: CountRows(statictialPrice) + 1,
                                                Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                                    Mid(
                                                                        Dropdown2_2.Selected.Value,
                                                                        7,
                                                                        2
                                                                    )
                                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                                Mid(
                                                                    Dropdown2_2.Selected.Value,
                                                                    7,
                                                                    2
                                                                )
                                                            ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            }
                                        )
                                    ),
                                    ForAll(
                                        Sequence(
                                            Value(
                                                Day(
                                                    Text(
                                                        ngayCuoiThang,
                                                        "mm/dd/yyyy"
                                                    )
                                                )
                                            )
                                        ),
                                        Collect(
                                            statictialOrder,
                                            {
                                                Id: CountRows(statictialPrice) + 1,
                                                Month: CountRows(statictialOrder) + 1 & "/" & Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Day(quote_Date) = CountRows(statictialOrder) + 1 && Month(quote_Date) = Value(
                                                            Mid(
                                                                Dropdown2_2.Selected.Value,
                                                                7,
                                                                2
                                                            )
                                                        ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng" && id_User = ComboBox_Sales_Director_2.Selected.ID
                                                    )
                                                )
                                            }
                                        );
                                        Collect(
                                            statictialPrice,
                                            {
                                                Id: CountRows(statictialPrice) + 1,
                                                Month: CountRows(statictialPrice) + 1 & "/" & Value(
                                                    Mid(
                                                        Dropdown2_2.Selected.Value,
                                                        7,
                                                        2
                                                    )
                                                ) & "/" & Dropdown_Year_Director_2.Selected.Value,
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                                    Mid(
                                                                        Dropdown2_2.Selected.Value,
                                                                        7,
                                                                        2
                                                                    )
                                                                ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Day(quote_Date) = CountRows(statictialPrice) + 1 && Month(quote_Date) = Value(
                                                                Mid(
                                                                    Dropdown2_2.Selected.Value,
                                                                    7,
                                                                    2
                                                                )
                                                            ) && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            }
                                        )
                                    )
                                ),
                                Refresh(Quote);
                                Refresh(Quote_Data);
                                Refresh(Product);
                                Set(
                                    Quote_Data,
                                    Quote
                                );
                                Set(
                                    Quote_Product_Data,
                                    Quote_Product
                                );
                                
                            )
                        Size: =12
                        Text: ="Làm mới"
                        Width: =120
                        ZIndex: =2

            Container23_2 As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =300
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                ZIndex: =3

                Container25_3 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =1

                    CompositeColumnChart1_2 As group:
                        Height: =5
                        LayoutMinHeight: =5
                        LayoutMinWidth: =5
                        Width: =5
                        X: =40
                        Y: =40
                        ZIndex: =1

                        Title1_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =25
                            Size: =15
                            Text: ="Đơn hàng"
                            Width: =Parent.Width
                            X: =40
                            Y: =40
                            ZIndex: =2

                        ColumnChart1_2 As barChart:
                            GridStyle: =GridStyle.All
                            Height: =Parent.Height-25
                            Items: |-
                                =If(
                                    Dropdown2_2.Visible = false,
                                    If(
                                        IsBlank(ComboBox_Sales_Director_2.Selected),
                                        Table(
                                            {
                                                Month: "Tháng 1",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 2",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 2 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 3",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 3 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 4",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 4 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 5",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 5 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 6",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 6 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 7",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 7 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 8",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 8 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 9",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 9 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 10",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 10 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 11",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 11 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 12",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 12 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            }
                                        ),
                                        Table(
                                            {
                                                Month: "Tháng 1",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 2",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 2 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 3",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 3 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 4",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 4 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 5",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 5 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 6",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 6 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 7",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 7 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 8",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 8 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 9",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 9 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 10",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 10 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 11",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 11 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 12",
                                                Value: CountRows(
                                                    Filter(
                                                        Quote_Data,
                                                        Month(quote_Date) = 12 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                    )
                                                )
                                            }
                                        )
                                    ),statictialOrder
                                )
                            Width: =Parent.Width
                            X: =40
                            Y: =70
                            ZIndex: =3

                Container25_4 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =2

                    CompositeColumnChart1_3 As group:
                        Height: =5
                        LayoutMinHeight: =5
                        LayoutMinWidth: =5
                        Width: =5
                        X: =-40
                        Y: =-40
                        ZIndex: =1

                        Title1_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =25
                            Size: =15
                            Text: ="Doanh thu"
                            Width: =Parent.Width
                            X: =40
                            Y: =40
                            ZIndex: =2

                        ColumnChart1_3 As barChart:
                            GridStyle: =GridStyle.All
                            Height: =Parent.Height-25
                            Items: |-
                                =If(
                                    Dropdown2_2.Visible = false,
                                    If(
                                        IsBlank(ComboBox_Sales_Director_2.Selected),
                                        Table(
                                            {
                                                Month: "Tháng 1",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 2",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 2 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 2 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 3",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 3 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 3 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 4",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 4 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 4 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 5",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 5 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 5 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 6",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 6 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 6 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 7",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 7 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 7 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 8",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 8 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 8 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 9",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 9 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 9 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 10",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 10 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 10 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 11",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 11 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 11 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 12",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 12 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 12 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            }
                                        ),
                                        Table(
                                            {
                                                Month: "Tháng 1",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 1 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 2",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 2 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 2 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 3",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 3 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 3 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 4",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 4 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 4 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 5",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 5 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 5 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 6",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 6 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 6 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 7",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 7 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 7 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 8",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 8 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 8 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 9",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 9 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 9 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 10",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 10 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 10 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 11",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 11 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 11 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            },
                                            {
                                                Month: "Tháng 12",
                                                Value: If(
                                                    IsBlank(
                                                        Sum(
                                                            Filter(
                                                                Quote_Data,
                                                                Month(quote_Date) = 12 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                            ),
                                                            sumPriceQuote
                                                        )
                                                    ),
                                                    0,
                                                    Sum(
                                                        Filter(
                                                            Quote_Data,
                                                            Month(quote_Date) = 12 && Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && id_User = ComboBox_Sales_Director_2.Selected.ID && quote_Status.Value = "Đơn hàng"
                                                        ),
                                                        sumPriceQuote
                                                    )
                                                )
                                            }
                                        )
                                    ),
                                    statictialPrice
                                )
                            Width: =Parent.Width
                            X: =40
                            Y: =30
                            ZIndex: =3

            Label165 As label:
                Fill: =RGBA(128, 128, 128, 0.26)
                FontWeight: =FontWeight.Semibold
                Size: =20
                Text: ="Chi tiết thống kê"
                Width: =250
                ZIndex: =4

            Container114 As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =90
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                ZIndex: =5

                Container119 As groupContainer.manualLayoutContainer:
                    Height: =80
                    Width: =350
                    X: =240
                    Y: =5
                    ZIndex: =1

                    Label166 As label:
                        Height: =36
                        Size: =15
                        Text: ="Tổng sản phẩm"
                        Width: =282
                        X: =68
                        ZIndex: =1

                    Label167 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =44
                        Size: =20
                        Text: |-
                            =CountRows(If(
                                !Dropdown2_2.Visible,
                                Filter(
                                    Quote_Product,
                                    id_Quote in Filter(
                                        dataQuote,
                                        Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value
                                    ).id_Quote
                                ),
                                Filter(
                                    Quote_Product,
                                    id_Quote in Filter(
                                        dataQuote,
                                        Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && Month(quote_Date) = Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        )
                                    ).id_Quote
                                )
                            ))
                        Width: =254
                        X: =94
                        Y: =36
                        ZIndex: =2

                Container119_1 As groupContainer.manualLayoutContainer:
                    Height: =80
                    Width: =350
                    X: =754
                    Y: =5
                    ZIndex: =2

                    Label166_1 As label:
                        Height: =30
                        Size: =15
                        Text: ="Tổng dịch vụ"
                        Width: =282
                        X: =68
                        ZIndex: =1

                    Label167_1 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =56
                        Size: =20
                        Text: |-
                            =CountRows(If(
                                !Dropdown2_2.Visible,
                                Filter(
                                    Quote_Service,
                                    id_Quote in Filter(
                                        dataQuote,
                                        Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value
                                    ).id_Quote
                                ),
                                Filter(
                                    Quote_Service,
                                    id_Quote in Filter(
                                        dataQuote,
                                        Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && Month(quote_Date) = Value(
                                            Mid(
                                                Dropdown2_2.Selected.Value,
                                                7,
                                                2
                                            )
                                        )
                                    ).id_Quote
                                )
                            ))
                        Width: =254
                        X: =92
                        Y: =24
                        ZIndex: =2

            Container120 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =50
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                ZIndex: =6

                Container121 As groupContainer.manualLayoutContainer:
                    DropShadow: =If(positionOptionObjectView = "product",DropShadow.Semibold,DropShadow.Light)
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =If(positionOptionObjectView = "product",41,39)
                    Width: =168
                    X: =6
                    Y: =2
                    ZIndex: =1

                    Label169 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =Parent.Height
                        Text: |-
                            ="Sản phẩm
                            "
                        Width: =168
                        ZIndex: =1

                    Rectangle24 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: =Set(positionOptionObjectView,"product")
                        Width: =168
                        ZIndex: =2

                    Icon18 As icon.HorizontalLine:
                        BorderColor: =RGBA(141, 198, 63, 1)
                        BorderThickness: =1
                        FocusedBorderThickness: =1
                        Height: =0
                        Icon: =Icon.HorizontalLine
                        OnSelect: =
                        Visible: =positionOptionObjectView = "product"
                        Width: =87
                        X: =40
                        Y: =35
                        ZIndex: =3

                Container121_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =If(positionOptionObjectView = "service",DropShadow.Semibold,DropShadow.Light)
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =If(positionOptionObjectView = "service",41,39)
                    Width: =168
                    X: =190
                    Y: =2
                    ZIndex: =2

                    Label169_1 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =Parent.Height
                        Text: ="Dịch vụ"
                        Width: =168
                        ZIndex: =1

                    Rectangle25 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: =Set(positionOptionObjectView,"service")
                        Width: =168
                        ZIndex: =2

                    Icon18_1 As icon.HorizontalLine:
                        BorderColor: =RGBA(141, 198, 63, 1)
                        BorderThickness: =1
                        Color: =RGBA(141, 198, 63, 1)
                        FocusedBorderThickness: =1
                        Height: =0
                        Icon: =Icon.HorizontalLine
                        Visible: =positionOptionObjectView = "service"
                        Width: =87
                        X: =40
                        Y: =35
                        ZIndex: =3

            containerDetailStatitical_Product As groupContainer.manualLayoutContainer:
                FillPortions: =0
                Height: =Container122.Height + Gallery29.Height
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Visible: =positionOptionObjectView = "product"
                ZIndex: =7

                Container122 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(128, 128, 128, 0.06)
                    Height: =40
                    Width: =1334
                    ZIndex: =1

                    Label170 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Tên sản phẩm"
                        Width: =567
                        ZIndex: =1

                    Label170_1 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Số lượng"
                        Width: =136
                        X: =567
                        Y: =2
                        ZIndex: =2

                    Label170_2 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Giá"
                        Width: =234
                        X: =703
                        Y: =2
                        ZIndex: =3

                    Label170_3 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Vat(%)"
                        Width: =76
                        X: =937
                        Y: =2
                        ZIndex: =4

                    Label170_4 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Tổng tiền"
                        Width: =321
                        X: =1013
                        Y: =2
                        ZIndex: =5

                "Gallery29 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    DisplayMode: =DisplayMode.View
                    Fill: =RGBA(241, 244, 249, 1)
                    Height: |-
                        =CountRows(If(
                            !Dropdown2_2.Visible,
                            Filter(
                                Quote_Product,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value
                                ).id_Quote
                            ),
                            Filter(
                                Quote_Product,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && Month(quote_Date) = Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    )
                                ).id_Quote
                            )
                        )) * 60
                    Items: |-
                        =If(
                            !Dropdown2_2.Visible,
                            Filter(
                                Quote_Product,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value
                                ).id_Quote
                            ),
                            Filter(
                                Quote_Product,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && Month(quote_Date) = Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    )
                                ).id_Quote
                            )
                        )
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    ShowScrollbar: =false
                    TemplatePadding: =0
                    TemplateSize: =60
                    Width: =1334
                    Y: =40
                    ZIndex: =2

                    Separator13 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Label171 As label:
                        Align: =Align.Center
                        Color: =RGBA(0, 18, 107, 1)
                        Height: =52
                        Italic: =true
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                        Width: =567
                        Wrap: =false
                        ZIndex: =6

                    Label171_1 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.quantity_Quote_Product
                        Width: =136
                        X: =567
                        ZIndex: =7

                    Label171_2 As label:
                        Align: =Align.Center
                        Height: =52
                        Italic: =true
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =Text(ThisItem.price_Quote_Product,"0,000")
                        Width: =234
                        X: =703
                        ZIndex: =8

                    Label171_3 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.vat & "%"
                        Width: =76
                        X: =937
                        ZIndex: =9

                    Label171_4 As label:
                        Align: =Align.Center
                        Color: =RGBA(184, 0, 0, 1)
                        Height: =52
                        Italic: =true
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =Text((ThisItem.quantity_Quote_Product * ThisItem.price_Quote_Product) +(ThisItem.quantity_Quote_Product * ThisItem.price_Quote_Product*ThisItem.vat%),"0,000")
                        Width: =321
                        X: =1013
                        ZIndex: =10

            containerDetailStatitical_Service As groupContainer.manualLayoutContainer:
                FillPortions: =0
                Height: =Container122_1.Height + Gallery29_1.Height
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Visible: =positionOptionObjectView = "service"
                ZIndex: =8

                Container122_1 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(128, 128, 128, 0.06)
                    Height: =40
                    Width: =1334
                    ZIndex: =1

                    Label170_5 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Tên dịch vụ"
                        Width: =590
                        ZIndex: =1

                    Label170_6 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: |-
                            ="Mô tả
                            "
                        Width: =509
                        X: =590
                        Y: =2
                        ZIndex: =2

                    Label170_7 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Giá"
                        Width: =234
                        X: =1100
                        Y: =2
                        ZIndex: =3

                "Gallery29_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    DisplayMode: =DisplayMode.View
                    Fill: =RGBA(241, 244, 249, 1)
                    Height: |-
                        =CountRows(If(
                            !Dropdown2_2.Visible,
                            Filter(
                                Quote_Service,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value
                                ).id_Quote
                            ),
                            Filter(
                                Quote_Service,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && Month(quote_Date) = Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    )
                                ).id_Quote
                            )
                        )) * 60
                    Items: |-
                        =If(
                            !Dropdown2_2.Visible,
                            Filter(
                                Quote_Service,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value
                                ).id_Quote
                            ),
                            Filter(
                                Quote_Service,
                                id_Quote in Filter(
                                    dataQuote,
                                    Year(quote_Date) = Dropdown_Year_Director_2.Selected.Value && Month(quote_Date) = Value(
                                        Mid(
                                            Dropdown2_2.Selected.Value,
                                            7,
                                            2
                                        )
                                    )
                                ).id_Quote
                            )
                        )
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    ShowScrollbar: =false
                    TemplatePadding: =0
                    TemplateSize: =60
                    Width: =1334
                    Y: =40
                    ZIndex: =2

                    Separator13_1 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Label171_5 As label:
                        Align: =Align.Center
                        Color: =RGBA(0, 18, 107, 1)
                        Height: =52
                        Italic: =true
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =LookUp(Service,id_Serivce =  ThisItem.id_Service).service_Name
                        Width: =590
                        Wrap: =false
                        ZIndex: =6

                    Label171_6 As label:
                        Align: =Align.Center
                        Height: =52
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =ThisItem.quote_Service_Note
                        Width: =510
                        X: =590
                        ZIndex: =7

                    Label171_7 As label:
                        Align: =Align.Center
                        Height: =52
                        Italic: =true
                        OnSelect: =Select(Parent)
                        Size: =15
                        Text: =Text(ThisItem.price_Quote_Service,"0,000")
                        Width: =234
                        X: =1100
                        ZIndex: =8

