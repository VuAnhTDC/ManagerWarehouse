SaleVertion2 As screen:
    OnVisible: |
        =/* Thong tin nguoi dung*/
        Set(
            informationUser,
            LookUp(
                User,
                email_User = User().Email
            )
        );
        Set(btnFunctionSaleVertion2, "btnQuoteSale");
        Set(idCheckStatusFuntionQuote,-1);
        Set(isVisibleDialogAddQuoteNew_SaleVertion2, false);
        Set(isVisibleDialogAddProductQuoteNew_SaleVertion2, false);
        Set(isVisibleDetailQuote_SaleVertion2,false);
        Set(positionOptionCreatQuote,0);

    Container17 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(56, 96, 178, 1)
        Height: =67
        Width: =1366
        ZIndex: =1

        Gallery9 As gallery.galleryHorizontal:
            DelayItemLoading: =true
            Fill: =RGBA(255, 255, 255, 0)
            Height: =65
            Items: |-
                =Table(
                    {
                        id: "btnQuoteSale",
                        name: "Báo giá - đơn hàng"
                    },
                    {
                        id: "btnPurchase",
                        name: "Yêu cầu mua hàng"
                    },{
                    id: "btnHistoryTransaction",
                    name: "Lịch sử giao dịch"
                   
                }
                )
            LoadingSpinner: =LoadingSpinner.Data
            TemplateSize: =242
            Width: =844
            ZIndex: =1

            Container18 As groupContainer.manualLayoutContainer:
                Fill: =If(ThisItem.IsSelected,RGBA(0, 121, 187, 1),RGBA(225, 225,225, 0))
                Height: =55
                Width: =242
                ZIndex: =1

                Label59 As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FontWeight: =If(ThisItem.IsSelected,FontWeight.Semibold,FontWeight.Normal)
                    Height: =36
                    OnSelect: =
                    Text: =ThisItem.name
                    Width: =186
                    X: =52
                    Y: =12
                    ZIndex: =1

                Image10 As image:
                    Height: =50
                    Image: |-
                        =If(
                            ThisItem.id = "btnQuoteSale",
                            quote,
                            If(
                                ThisItem.id = "btnPurchase",
                                icontransaction,
                                If(
                                    ThisItem.id = "btnHistoryTransaction",
                                    historytransaction
                                )
                            )
                        )
                    OnSelect: =
                    Width: =50
                    X: =2
                    Y: =5
                    ZIndex: =2

                Button9 As button:
                    DisabledBorderColor: =RGBA(166, 166, 166, 0)
                    DisabledFill: =RGBA(244, 244, 244, 0)
                    Fill: =RGBA(247, 247, 247, 0)
                    Height: =50
                    HoverBorderColor: =RGBA(255, 255, 255, 0)
                    HoverFill: =/*ColorFade(RGBA(56, 96, 178, 1), -20%)*/
                    OnSelect: =Set(btnFunctionSaleVertion2, ThisItem.id)
                    PressedBorderColor: =/*Self.Fill*/
                    Text: =""
                    Width: =240
                    X: =2
                    Y: =5
                    ZIndex: =3

        Container19 As groupContainer.manualLayoutContainer:
            BorderThickness: =2
            Fill: =RGBA(136, 160, 209, 1)
            Height: =52
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Width: =352
            X: =996
            Y: =6
            ZIndex: =2

    Container20 As groupContainer.manualLayoutContainer:
        Height: =680
        Width: =317
        X: =16
        Y: =80
        ZIndex: =2

        Gallery10 As gallery.variableTemplateHeightGallery:
            DelayItemLoading: =true
            Height: =670
            Items: |-
                =If(
                    btnFunctionSaleVertion2 = "btnQuoteSale",
                    Table(
                        {
                            id: 0,
                            name: "Trạng thái",
                            btnFunction: "btnQuoteSale"
                        },  {
                            id: 1,
                            name: "Khách hàng",
                            btnFunction: "btnQuoteSale"
                        },
                         {
                            id: 2,
                            name: "Dịch vụ",
                            btnFunction: "btnQuoteSale"
                        }
                    )
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplateSize: =229
            Width: =317
            Y: =5
            ZIndex: =1

            Button8 As button:
                Color: =If(ThisItem.IsSelected,RGBA(225, 225, 225, 1),RGBA(212, 201, 201, 1))
                Fill: =If(ThisItem.IsSelected,RGBA(56, 96, 178, 1),RGBA(242, 237, 237, 1))
                Height: =47
                OnSelect: =Select(Parent)
                Text: =ThisItem.name
                Width: =Parent.Width -10
                ZIndex: =1

            Container25 As groupContainer.manualLayoutContainer:
                Height: =169
                Visible: =ThisItem.IsSelected && ThisItem.id = 0 && ThisItem.btnFunction = "btnQuoteSale"
                Width: =307
                Y: =47
                ZIndex: =2

                Checkbox4 As checkbox:
                    Default: =If(idCheckStatusFuntionQuote = 0, true,false)
                    Height: =46
                    OnCheck: =Set(idCheckStatusFuntionQuote, 0)
                    OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                    Text: ="Báo giá"
                    Width: =244
                    X: =37
                    Y: =9
                    ZIndex: =1

                Checkbox4_1 As checkbox:
                    Default: =If(idCheckStatusFuntionQuote = 1, true,false)
                    Height: =46
                    OnCheck: =Set(idCheckStatusFuntionQuote, 1)
                    OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                    Text: ="Đơn hàng"
                    Width: =244
                    X: =37
                    Y: =57
                    ZIndex: =2

                Checkbox1 As checkbox:
                    Default: =If(idCheckStatusFuntionQuote = 2, true,false)
                    Height: =46
                    OnCheck: =Set(idCheckStatusFuntionQuote, 2)
                    OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                    Text: ="Đang xử lý"
                    Width: =225
                    X: =37
                    Y: =103
                    ZIndex: =3

    Container23 As groupContainer.manualLayoutContainer:
        Height: =688
        Width: =1020
        X: =346
        Y: =80
        ZIndex: =3

        Container24 As groupContainer.manualLayoutContainer:
            Height: =54
            Width: =1012
            X: =6
            Y: =6
            ZIndex: =1

            Label62 As label:
                FontWeight: =FontWeight.Semibold
                Height: =38
                Size: =15
                Text: |-
                    =If(
                        idCheckStatusFuntionQuote = 0,
                        "Báo giá",
                        If(
                            idCheckStatusFuntionQuote = 1,
                            "Đơn hàng",
                            If(
                                idCheckStatusFuntionQuote = 2,
                                "Đang xử lý",
                                "Báo giá - Đơn hàng - Đang xử lý"
                            )
                        )
                    )
                Width: =316
                X: =9
                Y: =9
                ZIndex: =1

            TextInput5 As text:
                Default: =""
                Height: =39
                HintText: ="Tìm kiếm"
                Size: =15
                Width: =352
                X: =643
                Y: =8
                ZIndex: =2

            Container26 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(141, 198, 63, 1)
                Height: =40
                Width: =150
                X: =475
                Y: =9
                ZIndex: =3

                Label64 As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Tạo mới"
                    Width: =111
                    X: =39
                    ZIndex: =1

                Icon3 As icon.Add:
                    Color: =RGBA(255, 255, 255, 1)
                    Height: =30
                    Icon: =Icon.Add
                    Width: =28
                    X: =15
                    Y: =5
                    ZIndex: =2

                Rectangle1 As rectangle:
                    Fill: =RGBA(56, 96, 178, 0)
                    Height: =40
                    OnSelect: |-
                        =Set(isVisibleDialogAddQuoteNew_SaleVertion2,true);
                        ClearCollect(arrProductAddQuoteNew_SaleVertion2,[]);
                        ClearCollect(arrServiceAddQuoteNew_SaleVertion2,[]);
                        Set(positionOptionCreatQuote,0)
                    ZIndex: =3

        "Gallery16 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            DelayItemLoading: =true
            Fill: =RGBA(255, 255, 255, 1)
            Height: =511
            Items: |-
                =If(
                    IsBlank(TextInput5.Text),
                    If(
                        idCheckStatusFuntionQuote = -1,
                        Quote,
                        If(
                            idCheckStatusFuntionQuote = 0,
                            Filter(
                                Quote,
                                quote_Status.Value = "Báo giá"
                            ),
                            If(
                                idCheckStatusFuntionQuote = 1,
                                Filter(
                                    Quote,
                                    quote_Status.Value = "Đơn hàng"
                                ),
                                If(
                                    idCheckStatusFuntionQuote = 2,
                                    Filter(
                                        Quote,
                                        quote_Status.Value = "Đang xử lý"
                                    )
                                )
                            )
                        )
                    ),
                    Filter(
                        Quote,
                        StartsWith(
                            id_Quote,
                            TextInput5.Text
                        )
                    )
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            OnSelect: |
                =Set(
                    isVisibleDetailQuote_SaleVertion2,
                    true
                );
                ClearCollect(
                    arrProductQuote_SaleVertion2,
                    Filter(
                        Quote_Product,
                        id_Quote = Gallery16.Selected.id_Quote
                    )
                );
                ClearCollect(
                    arrServiceQuote_SaleVertion2,
                    Filter(
                        Quote_Service,
                        id_Quote = Gallery16.Selected.id_Quote
                    )
                );
            TemplatePadding: =0
            TemplateSize: =76
            Width: =1020
            Y: =172
            ZIndex: =3

            Separator13 As rectangle:
                Height: =8
                OnSelect: =Select(Parent)
                Width: =Parent.TemplateWidth
                Y: =Parent.TemplateHeight - Self.Height
                ZIndex: =5

            Label65 As label:
                Align: =Align.Center
                AutoHeight: =true
                FontWeight: =FontWeight.Semibold
                Height: =31
                OnSelect: =Select(Parent)
                Size: =15
                Text: =ThisItem.id_Quote
                Width: =220
                X: =14
                Y: =23
                ZIndex: =7

            Label65_1 As label:
                AutoHeight: =true
                FontWeight: =FontWeight.Lighter
                Height: =31
                OnSelect: =Select(Parent)
                Size: =15
                Text: |-
                    =LookUp(
                        Customer,ID = ThisItem.id_Customer
                    ).customer_Name
                Width: =200
                X: =262
                Y: =23
                ZIndex: =8

            Label65_2 As label:
                AutoHeight: =true
                FontWeight: =FontWeight.Lighter
                Height: =31
                OnSelect: =Select(Parent)
                Size: =15
                Text: =LookUp(User,ID = ThisItem.id_User).user_Name
                Width: =200
                X: =470
                Y: =23
                ZIndex: =9

            Label65_3 As label:
                FontWeight: =FontWeight.Lighter
                Height: =31
                OnSelect: =Select(Parent)
                Size: =15
                Text: =Text(ThisItem.quote_Date,"dd/mm/yyyy")
                Width: =161
                X: =675
                Y: =23
                ZIndex: =10

            Icon19 As icon.Check:
                Color: =RGBA(255, 0, 0, 1)
                Height: =35
                Icon: |-
                    =If(
                        ThisItem.quote_Status.Value = "Đang xử lý",
                        Icon.Warning,
                        If(
                            ThisItem.quote_Status.Value = "Đơn hàng",
                            Icon.Check
                        )
                    )
                OnSelect: =Select(Parent)
                Visible: =!(ThisItem.quote_Status.Value = "Báo giá")
                Width: =35
                X: =859
                Y: =24
                ZIndex: =12

            Icon22 As icon.Edit:
                Height: =30
                Icon: =Icon.Edit
                OnSelect: =Select(Parent)
                Width: =30
                X: =951
                Y: =24
                ZIndex: =14

        Container48 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(128, 128, 128, 0.06)
            Height: =45
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =1000
            X: =6
            Y: =114
            ZIndex: =4

            Label87 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Bold
                Height: =43
                Size: =15
                Text: ="Mã báo giá - đơn hàng"
                Width: =230
                X: =8
                Y: =2
                ZIndex: =1

            Label88 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Bold
                Size: =15
                Text: ="Khách hàng"
                X: =257
                Y: =5
                ZIndex: =2

            Label90 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Bold
                Size: =15
                Text: ="Nhân viên"
                X: =467
                Y: =2
                ZIndex: =3

            Label97 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Bold
                Size: =15
                Text: ="Ngày tạo"
                X: =662
                Y: =5
                ZIndex: =4

            Label98 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Bold
                Size: =15
                Text: ="Trạng thái"
                Width: =117
                X: =812
                Y: =5
                ZIndex: =5

        Container29 As groupContainer.manualLayoutContainer:
            Height: =42
            Width: =168
            X: =635
            Y: =65
            ZIndex: =5

            Icon15 As icon.Warning:
                Color: =RGBA(255, 0, 0, 1)
                Height: =40
                Icon: =Icon.Warning
                Width: =42
                X: =15
                Y: =2
                ZIndex: =1

            Label66 As label:
                Italic: =true
                Text: ="Đang xử lý"
                Width: =96
                X: =70
                Y: =2
                ZIndex: =2

        Container29_1 As groupContainer.manualLayoutContainer:
            Height: =42
            Width: =168
            X: =817
            Y: =65
            ZIndex: =6

            Icon15_1 As icon.Warning:
                Color: =RGBA(54, 176, 75, 1)
                Height: =40
                Icon: =Icon.Check
                Width: =42
                X: =15
                Y: =2
                ZIndex: =1

            Label66_1 As label:
                Italic: =true
                Text: ="Đơn hàng"
                Width: =96
                X: =70
                Y: =2
                ZIndex: =2

    containerAddQuoteNew_SaleVersion2 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.31)
        Height: =768
        Visible: =isVisibleDialogAddQuoteNew_SaleVertion2
        Width: =1366
        ZIndex: =4

        Container28 As groupContainer.manualLayoutContainer:
            ContentLanguage: ="vi-VN"
            Fill: =RGBA(255, 255, 255, 1)
            Height: =722
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =1

            Label67 As label:
                Color: =RGBA(54, 176, 75, 1)
                FontWeight: =FontWeight.Semibold
                Size: =24
                Text: ="Tạo báo giá"
                Width: =273
                X: =42
                Y: =19
                ZIndex: =1

            Label68 As label:
                FontWeight: =FontWeight.Semibold
                Height: =37
                Size: =15
                Text: ="Thời gian hết hạn"
                Width: =187
                X: =48
                Y: =95
                ZIndex: =2

            DatePicker2 As datepicker:
                ContentLanguage: ="vi-VN"
                Height: =38
                Language: ="vi-VN"
                Width: =300
                X: =250
                Y: =94
                ZIndex: =4

            Label68_1 As label:
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =15
                Text: ="Khách hàng"
                Width: =124
                X: =652
                Y: =107
                ZIndex: =5

            ComboBox1 As combobox:
                DefaultSelectedItems: =
                DisplayFields: =["customer_Name"]
                InputTextPlaceholder: ="Chọn khách hàng"
                Items: =Customer
                SearchFields: =["customer_Name"]
                SearchItems: =Search(Customer,ComboBox1.SearchText,"customer_Name")
                SelectMultiple: =false
                Width: =300
                X: =802
                Y: =99
                ZIndex: =6

            Label68_3 As label:
                FontWeight: =FontWeight.Semibold
                Height: =26
                Text: ="Mô tả"
                Width: =225
                X: =40
                Y: =553
                ZIndex: =9

            TextInput7 As text:
                BorderThickness: =0.5
                Clear: =true
                Default: =""
                Height: =56
                HintText: ="Vui lòng nhập mô tả"
                Mode: =TextMode.MultiLine
                Width: =1183
                X: =44
                Y: =579
                ZIndex: =10

            Container30 As groupContainer.manualLayoutContainer:
                Height: =40
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =173
                X: =1058
                Y: =667
                ZIndex: =15

                Label69 As label:
                    Align: =Align.Center
                    Fill: =RGBA(189, 240, 194, 1)
                    FontWeight: =FontWeight.Semibold
                    OnSelect: |-
                        =/*If(
                            IsBlank(ComboBox1.Selected) || IsBlank(ComboBox1_1.Selected) || IsBlank(TextInput7.Text),
                            Notify(
                                "Vui lòng điền đủ thông tin",
                                NotificationType.Error
                            ),
                            If(
                                CountRows(arrProductAddQuoteNew_SaleVertion2) < 1 && CountRows(arrServiceAddQuoteNew_SaleVertion2) < 1,
                                Notify(
                                    "Báo giá phải có ít nhất 1 sản phẩm (hoặc 1 dịch vụ).Vui lòng chọn sản phẩm (Dịch vụ) ",
                                    NotificationType.Error
                                ),
                                Set(
                                    idQuote_SaleVertion2,
                                    "QT" & Text(
                                        Now(),
                                        "ddmmyyyyhhmmss"
                                    ) & informationUser.ID
                                );
                                Patch(
                                    Quote,
                                    Defaults(Quote),
                                    {
                                        id_Quote: idQuote_SaleVertion2,
                                        quote_Decription: edtDescriptionQuote_CreateQuoteScreen.Text,
                                        quote_Date: Now(),
                                        quote_Expire: DatePicker1.SelectedDate,
                                        quote_Status: false,
                                        id_User: informationUser.ID,
                                        id_Customer: Dropdown1.SelectedText.ID,
                                        sumPriceQuote: Value(Concat(arrProductAddQuoteNew_SaleVertion2,price_Quote_Product * quantity_Quote_Product) + Concat(arrServiceAddQuoteNew_SaleVertion2,price_Quote_Service))
                                    }
                                );
                                ForAll(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    Patch(
                                        Quote_Product,
                                        Defaults(Quote_Product),
                                        {
                                            id_Quote: idQuote_SaleVertion2,
                                            id_Product: ThisRecord.id_Product,
                                            price_Quote_Product: ThisRecord.price_Quote_Product,
                                            quantity_Quote_Product: ThisRecord.quantity_Quote_Product,
                                            quote_Product_Note: ThisRecord.quote_Product_Note,
                                            vat: Value(ThisRecord.vat)
                                        }
                                    )
                                );
                                ForAll(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    Patch(
                                        Quote_Service,
                                        Defaults(Quote_Service),
                                        {
                                            id_Quote: idQuote_SaleVertion2,
                                            id_Service: ThisRecord.id_Service,
                                            quote_Service_Note: ThisRecord.quote_Service_Not,
                                            price_Quote_Service: ThisRecord.price_Quote_Service
                                        }
                                    )
                                );
                                Notify("Khởi tạo báo giá thành công",NotificationType.Success);
                                Set(isVisibleDialogAddQuoteNew_SaleVertion2,false)
                            )
                        )*/
                    Size: =18
                    Text: ="Lưu lại"
                    Width: =173
                    ZIndex: =1

            Label76 As label:
                Align: =Align.Right
                Color: =RGBA(0, 18, 107, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,2);
                    Reset(TextInput11);
                    Reset(TextInput11_1);
                    Reset(TextInput11_2);
                    Reset(TextInput11_3);
                    Reset(TextInput11_4);
                    Reset(TextInput11_5);
                Text: ="Tạo khách hàng"
                Underline: =true
                Width: =163
                X: =939
                Y: =68
                ZIndex: =22

            Icon21 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =50
                Icon: =Icon.Cancel
                OnSelect: =Set(isVisibleDialogAddQuoteNew_SaleVertion2,false)
                Width: =50
                X: =1217
                Y: =9
                ZIndex: =23

            Container31 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 0, DropShadow.Semibold, DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =10
                RadiusBottomRight: =0
                RadiusTopLeft: =10
                RadiusTopRight: =0
                Width: =171
                X: =48
                Y: =154
                ZIndex: =24

                Label70 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 0, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,0);
                    Text: ="Sản phẩm"
                    Width: =171
                    ZIndex: =1

            Container31_1 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 1,DropShadow.Semibold,DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =0
                RadiusBottomRight: =10
                RadiusTopLeft: =0
                RadiusTopRight: =10
                Width: =171
                X: =219
                Y: =154
                ZIndex: =25

                Label70_1 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 1, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 1,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,1)
                    Text: ="Dịch vụ"
                    Width: =171
                    ZIndex: =1

            Container33 As groupContainer.manualLayoutContainer:
                Height: =281
                Width: =1191
                X: =48
                Y: =198
                ZIndex: =26

                containerArrProductNewQuote As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 0
                    Width: =1191
                    ZIndex: =1

                    Container41 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Sản phẩm"
                            Width: =296
                            X: =15
                            ZIndex: =1

                        Label71_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =296
                            X: =331
                            ZIndex: =2

                        Label71_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="VAT"
                            Width: =122
                            X: =627
                            ZIndex: =3

                        Label71_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Số lượng"
                            Width: =142
                            X: =762
                            ZIndex: =4

                        Label71_4 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá/SP"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrProductAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =316
                            X: =4
                            Y: =6
                            ZIndex: =6

                        Label78_1 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Product_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =308
                            X: =320
                            Y: =6
                            ZIndex: =7

                        Label78_2 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.vat & "%"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =128
                            X: =628
                            Y: =6
                            ZIndex: =8

                        Label78_3 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quantity_Quote_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =142
                            X: =756
                            Y: =6
                            ZIndex: =9

                        Label78_4 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =If(ThisItem.price_Quote_Product < 0 , "0",Text(ThisItem.price_Quote_Product,"#,###"))
                            VerticalAlign: =VerticalAlign.Top
                            Width: =212
                            X: =898
                            Y: =6
                            ZIndex: =10

                        Icon20 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrProductAddQuoteNew_SaleVertion2,Filter(arrProductAddQuoteNew_SaleVertion2,Not(id_Product = ThisItem.id_Product)))
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                Container47 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 1
                    Width: =1191
                    ZIndex: =2

                    Container41_1 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_5 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Sản phẩm"
                            Width: =346
                            X: =15
                            ZIndex: =1

                        Label71_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =543
                            X: =361
                            ZIndex: =2

                        Label71_9 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá/SP"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrServiceAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_1 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_5 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Service, id_Serivce = ThisItem.id_Service).service_Name
                            VerticalAlign: =VerticalAlign.Top
                            Width: =346
                            X: =15
                            ZIndex: =10

                        Icon20_1 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrServiceAddQuoteNew_SaleVertion2,Filter(arrServiceAddQuoteNew_SaleVertion2,Not( id_Service= ThisItem.id_Service)))
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                        Label78_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Service_Not
                            VerticalAlign: =VerticalAlign.Top
                            Width: =543
                            X: =361
                            ZIndex: =12

                        Label78_7 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =Text(ThisItem.price_Quote_Service,"#,###")
                            VerticalAlign: =VerticalAlign.Top
                            Width: =204
                            X: =904
                            Y: =6
                            ZIndex: =13

            Label72 As label:
                Color: =RGBA(0, 18, 107, 1)
                Height: =27
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,0)
                Text: ="Thêm sản phẩm"
                Visible: =positionOptionCreatQuote = 0
                X: =1089
                Y: =479
                ZIndex: =27

            Label79 As label:
                Color: =RGBA(16, 29, 97, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                    Reset(TextInput9);
                    Reset(Checkbox5)
                Text: ="Thêm dịch vụ"
                Underline: =true
                Visible: =positionOptionCreatQuote = 1
                Width: =128
                X: =999
                Y: =490
                ZIndex: =28

            Label79_1 As label:
                Color: =RGBA(16, 29, 97, 1)
                Height: =26
                Italic: =true
                Text: ="Tạo dịch vụ"
                Underline: =true
                Visible: =positionOptionCreatQuote = 1
                Width: =100
                X: =1139
                Y: =490
                ZIndex: =29

        containerSelectionProductAdd_SaleVertion2 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(77, 72, 72, 0.22)
            Height: =722
            Visible: =isVisibleDialogAddProductQuoteNew_SaleVertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =2

            Container35 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =688
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =If(positionDialogAddDataQuoteNew_SaleVertion2 = 0, true, false)
                Width: =574
                X: =343
                Y: =13
                ZIndex: =1

                Label73 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =56
                    Size: =18
                    Text: ="Thêm sản phẩm - Báo giá"
                    Width: =370
                    X: =35
                    ZIndex: =1

                Label74 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Sản phẩm"
                    X: =51
                    Y: =56
                    ZIndex: =2

                Dropdown3 As dropdown:
                    FocusedBorderThickness: =2
                    Items: =Product
                    Width: =436
                    X: =85
                    Y: =96
                    ZIndex: =3

                Label74_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =51
                    Y: =136
                    ZIndex: =4

                TextInput8 As text:
                    Align: =Align.Right
                    Default: |-
                        =Text(Value(LookUp(Product,id_Product = Dropdown3.Selected.id_Product).price_Product),"#,###")
                    DisplayMode: =DisplayMode.Disabled
                    Format: =TextFormat.Number
                    Width: =436
                    X: =85
                    Y: =176
                    ZIndex: =5

                Label74_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Số lượng"
                    X: =51
                    Y: =216
                    ZIndex: =6

                TextInput8_1 As text:
                    Default: =
                    Format: =TextFormat.Number
                    HintText: ="Vui lòng nhập số lượng"
                    Width: =436
                    X: =85
                    Y: =256
                    ZIndex: =7

                Label74_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Ghi chú"
                    X: =51
                    Y: =296
                    ZIndex: =8

                TextInput8_2 As text:
                    Default: =
                    Height: =114
                    HintText: ="Vui lòng nhập ghi chú"
                    Mode: =TextMode.MultiLine
                    Width: =436
                    X: =85
                    Y: =336
                    ZIndex: =9

                Label74_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="VAT"
                    X: =51
                    Y: =450
                    ZIndex: =10

                TextInput8_3 As text:
                    Align: =Align.Right
                    Default: =10
                    Format: =TextFormat.Number
                    HintText: ="%"
                    Width: =436
                    X: =85
                    Y: =490
                    ZIndex: =11

                Container36 As groupContainer.manualLayoutContainer:
                    Height: =40
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =170
                    X: =201
                    Y: =622
                    ZIndex: =12

                    Label75 As label:
                        Align: =Align.Center
                        Fill: =RGBA(189, 240, 194, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        OnSelect: |
                            =If(
                                IsBlank(TextInput8_1.Text) || IsBlank(TextInput8_2.Text) || IsBlank(TextInput8_3.Text),
                                Notify("Vui lòng nhập đầy đủ thông tin bắt buộc"),
                                If(
                                    IsBlank(
                                        LookUp(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            id_Product = Dropdown3.Selected.id_Product
                                        )
                                    ),
                                    Collect(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        {
                                            ID: CountRows(arrProductAddQuoteNew_SaleVertion2) +1,
                                            id_Quote: "",
                                            id_Product: Dropdown3.Selected.id_Product,
                                            price_Quote_Product: Value(TextInput8.Text),
                                            quantity_Quote_Product: Value(TextInput8_1.Text),
                                            quote_Product_Note: TextInput8_2.Text,
                                            vat: Value(TextInput8_3.Text)
                                        }
                                    ),
                                    Patch(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            id_Product = Dropdown3.Selected.id_Product
                                        ),
                                        {
                                            quantity_Quote_Product: LookUp(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                id_Product = Dropdown3.Selected.id_Product
                                            ).quantity_Quote_Product + Value(TextInput8_1.Text)
                                        }
                                    )
                                );
                                Notify(
                                    "Thêm sản phẩm vào báo giá thành công",
                                    NotificationType.Success
                                );
                                Reset(TextInput8_1);
                                Reset(TextInput8_2)
                                
                            );
                            /*Collect(
                                arrProductAddQuoteNew_SaleVertion2,
                                {
                                    id_Quote: "",
                                    id_Product: Dropdown3.Selected.id_Product,
                                    price_Quote_Product: Value(TextInput8.Text),
                                    quantity_Quote_Product: Value(TextInput8_1.Text),
                                    quote_Product_Note: TextInput8_2.Text,
                                    vat: Value(TextInput8_3.Text)
                                }
                            );
                            Notify("Thêm sản phẩm vào báo giá thành công",NotificationType.Success);
                            Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)*/
                        Size: =16
                        Text: ="Thêm"
                        Width: =Parent.Width
                        ZIndex: =1

                Container37 As groupContainer.manualLayoutContainer:
                    Height: =70
                    X: =51
                    Y: =540
                    ZIndex: =14

                    Label77 As label:
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        Italic: =true
                        Size: =20
                        Text: |-
                            =/*"Tổng tiền: " & Text(
                                Value(
                                    (LookUp(
                                        Product,
                                        id_Product = Dropdown3.Selected.id_Product
                                    ).price_Product * Value(TextInput8_1.Text) + (LookUp(
                                        Product,
                                        id_Product = Dropdown3.Selected.id_Product
                                    ).price_Product * Value(TextInput8_1.Text) * If(
                                        IsBlank(TextInput8_3.Text),
                                        10%,
                                        Value(TextInput8_3.Text)%
                                    )))
                                ),
                                "#,###"
                            )*/
                            "Tổng tiền: " & (LookUp(
                                Product,
                                id_Product = Dropdown3.Selected.id_Product
                            ).price_Product * Value(TextInput8_1.Text) + (LookUp(
                                Product,
                                id_Product = Dropdown3.Selected.id_Product
                            ).price_Product * Value(TextInput8_1.Text) * If(
                                IsBlank(TextInput8_3.Text),
                                10%,
                                Value(TextInput8_3.Text)%
                            ))) 
                        Width: =Parent.Width
                        ZIndex: =1

                Icon14 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)
                    Width: =35
                    X: =521
                    Y: =10
                    ZIndex: =15

            Container39 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =675
                RadiusBottomLeft: =5
                RadiusBottomRight: =5
                RadiusTopLeft: =5
                RadiusTopRight: =5
                Visible: =If(positionDialogAddDataQuoteNew_SaleVertion2 = 1, true,false)
                Width: =570
                X: =345
                Y: =19
                ZIndex: =2

                Label81 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =57
                    Size: =18
                    Text: ="Thêm dịch vụ - báo giá"
                    Width: =352
                    X: =41
                    Y: =2
                    ZIndex: =1

                Label82 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Dịch vụ"
                    X: =49
                    Y: =59
                    ZIndex: =2

                Dropdown4 As dropdown:
                    Height: =41
                    Items: =Service
                    Width: =423
                    X: =77
                    Y: =99
                    ZIndex: =3

                Label82_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Ghi chú"
                    X: =49
                    Y: =140
                    ZIndex: =4

                TextInput9 As text:
                    Default: =""
                    Height: =205
                    HintText: ="Vui lòng nhập ghi chú ..."
                    Mode: =TextMode.MultiLine
                    Width: =423
                    X: =77
                    Y: =180
                    ZIndex: =5

                Label82_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =49
                    Y: =385
                    ZIndex: =6

                TextInput10 As text:
                    Default: |-
                        =If(Checkbox5.Value = true, Text(Value(LookUp(Service,id_Serivce = Dropdown4.Selected.id_Serivce).service_Price),"#,###"))
                    DisplayMode: =If(Checkbox5.Value = true, DisplayMode.Disabled,DisplayMode.Edit)
                    Format: =TextFormat.Number
                    Height: =41
                    HintText: ="Vui lòng nhập giá ..."
                    Width: =423
                    X: =77
                    Y: =425
                    ZIndex: =7

                Checkbox5 As checkbox:
                    FontWeight: =FontWeight.Semibold
                    Height: =46
                    Text: ="Lấy giá gốc"
                    Width: =166
                    X: =205
                    Y: =484
                    ZIndex: =8

                Container36_2 As groupContainer.manualLayoutContainer:
                    Height: =40
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =170
                    X: =205
                    Y: =615
                    ZIndex: =9

                    Label75_2 As label:
                        Align: =Align.Center
                        Fill: =RGBA(189, 240, 194, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput9.Text),
                                Notify(
                                    "Vui lòng nhập ghi chú",
                                    NotificationType.Error
                                ),
                                If(
                                    IsBlank(
                                        LookUp(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            id_Service = Dropdown4.Selected.id_Serivce
                                        )
                                    ),
                                    Collect(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        {
                                            id_Service: Dropdown4.Selected.id_Serivce,
                                            quote_Service_Not: TextInput9.Text,
                                            price_Quote_Service: If(
                                                IsBlank(TextInput10.Text),
                                                0,
                                                Value(TextInput10.Text)
                                            )
                                        }
                                    );
                                    Notify(
                                        "Thêm dịch vụ vào báo giá thành công",
                                        NotificationType.Success
                                    );
                                    Set(
                                        isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                        false
                                    ),
                                    Notify("Dịch vụ đã tồn tại",NotificationType.Error)
                                )
                            )
                        Size: =16
                        Text: ="Thêm"
                        Width: =Parent.Width
                        ZIndex: =1

                Icon16 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)
                    Width: =35
                    X: =522
                    Y: =13
                    ZIndex: =10

            Container40 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =673
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =positionDialogAddDataQuoteNew_SaleVertion2 = 2
                Width: =617
                X: =322
                Y: =27
                ZIndex: =3

                Label84 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =62
                    Size: =18
                    Text: ="Tạo khách hàng"
                    Width: =392
                    X: =29
                    Y: =9
                    ZIndex: =1

                Icon17 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false);
                    Width: =35
                    X: =545
                    Y: =23
                    ZIndex: =2

                Label85 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Mã số thuế"
                    X: =40
                    Y: =78
                    ZIndex: =3

                TextInput11 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập mã số thuế ..."
                    MaxLength: =10
                    Width: =540
                    X: =40
                    Y: =118
                    ZIndex: =4

                Label85_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Tên khách hàng"
                    X: =40
                    Y: =158
                    ZIndex: =5

                TextInput11_1 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập tên khách hàng ..."
                    Width: =540
                    X: =40
                    Y: =198
                    ZIndex: =6

                Label85_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Địa chỉ"
                    X: =40
                    Y: =238
                    ZIndex: =7

                TextInput11_2 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập địa chỉ ..."
                    Width: =540
                    X: =40
                    Y: =278
                    ZIndex: =8

                Label85_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Họ và tên người liên hệ"
                    Width: =220
                    X: =40
                    Y: =318
                    ZIndex: =9

                TextInput11_3 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập họ và tên người liên hệ ..."
                    Width: =540
                    X: =40
                    Y: =358
                    ZIndex: =10

                Label85_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Số điện thoại liên hệ"
                    Width: =245
                    X: =40
                    Y: =398
                    ZIndex: =11

                TextInput11_4 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập số điện thoại liên hệ ..."
                    MaxLength: =10
                    Width: =540
                    X: =40
                    Y: =438
                    ZIndex: =12

                Label85_5 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Email"
                    X: =40
                    Y: =478
                    ZIndex: =13

                TextInput11_5 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập email..."
                    Width: =540
                    X: =40
                    Y: =518
                    ZIndex: =14

                Button10 As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(189, 240, 194, 1)
                    OnSelect: |-
                        =If(
                            (!IsMatch(
                                TextInput11.Text,
                                "^(0|3)\d{9}$"
                            ) || IsBlank(TextInput11_1.Text) || IsBlank(TextInput11_2.Text) || IsBlank(TextInput11_3.Text) || !IsMatch(
                                TextInput11_4.Text,
                                "^0\d{9}$"
                            ) || !IsMatch(
                                TextInput11_5.Text,
                                "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                            )),
                            Notify(
                                "Vui lòng nhập thông tin hợp lệ",
                                NotificationType.Error
                            ),
                            If(
                                IsBlank(
                                    LookUp(
                                        Customer,
                                        taxCode = TextInput11.Text
                                    )
                                ),
                                Patch(
                                    Customer,
                                    Defaults(Customer),
                                    {
                                        taxCode: TextInput11.Text,
                                        customer_Name: TextInput11_1.Text,
                                        customer_Address: TextInput11_2.Text,
                                        contactPersonName_Customer: TextInput11_3.Text,
                                        contactPersonPhoneNumber_Customer: TextInput11_4.Text,
                                        contactPersonEmail_Customer: TextInput11_5.Text,
                                        activity: true
                                    }
                                );
                                Notify(
                                    "Thêm khách hàng thành công",
                                    NotificationType.Success,
                                    1500
                                );
                                Set(
                                    isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                    false
                                ),
                                Notify(
                                    "Mã số thuế đã tồn tại",
                                    NotificationType.Error,
                                    1500
                                )
                            )
                        )
                    Text: ="Lưu lại"
                    X: =440
                    Y: =598
                    ZIndex: =15

            Container21 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =660
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =positionDialogAddDataQuoteNew_SaleVertion2 = 3
                Width: =546
                X: =358
                Y: =27
                ZIndex: =4

                Label60 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Size: =18
                    Text: ="Tạo dịch vụ"
                    X: =53
                    Y: =6
                    ZIndex: =1

                Icon13 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)
                    Width: =35
                    X: =499
                    Y: =11
                    ZIndex: =2

                Label61 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Tên dịch vụ"
                    X: =76
                    Y: =68
                    ZIndex: =3

                TextInput12 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập tên dịch vụ ..."
                    Width: =400
                    X: =76
                    Y: =108
                    ZIndex: =4

                Label61_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Mô tả"
                    X: =76
                    Y: =148
                    ZIndex: =5

                TextInput12_1 As text:
                    Default: =""
                    Height: =172
                    HintText: ="Vui lòng nhập mô tả dịch vụ ..."
                    Mode: =TextMode.MultiLine
                    Width: =400
                    X: =76
                    Y: =188
                    ZIndex: =6

                Label61_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =76
                    Y: =360
                    ZIndex: =7

                TextInput12_2 As text:
                    Default: =""
                    Format: =TextFormat.Number
                    HintText: ="Vui lòng nhập giá dịch vụ ..."
                    Width: =400
                    X: =76
                    Y: =400
                    ZIndex: =8

                Button3 As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(189, 240, 194, 1)
                    HoverFill: =RGBA(117, 240, 130, 1)
                    OnSelect: |-
                        =If(
                            IsBlank(TextInput12.Text) || IsBlank(TextInput12_1.Text) || IsBlank(TextInput12_2.Text),
                            Notify("Vui lòng nhập đầy đủ thông tin"),
                            Patch(
                                Service,
                                Defaults(Service),
                                {
                                    id_Serivce: "DV_" & Text(
                                        Now(),
                                        "ddmmyyhhmmss"
                                    ) & informationUser.ID,
                                    service_Name: TextInput12.Text,
                                    service_Decription: TextInput12_1.Text,
                                    service_Price: Value(TextInput12_2.Text)
                                }
                            );
                            Notify(
                                "Thêm dữ liệu thành công",
                                NotificationType.Success
                            );
                            Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)
                            
                        )
                    PressedFill: =RGBA(135, 199, 142, 1)
                    Text: ="Lưu lại"
                    Width: =182
                    X: =185
                    Y: =472
                    ZIndex: =9

    Container44 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.38)
        Height: =768
        Visible: =isVisibleDetailQuote_SaleVertion2
        Width: =1366
        ZIndex: =5

        Container45 As groupContainer.manualLayoutContainer:
            BorderColor: =RGBA(215, 223, 240, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Height: =768
            RadiusBottomLeft: =20
            RadiusBottomRight: =0
            RadiusTopLeft: =20
            RadiusTopRight: =0
            Width: =1020
            X: =346
            ZIndex: =1

            Icon24 As icon.Cancel:
                Color: =RGBA(255, 0, 0, 1)
                Height: =40
                Icon: =Icon.Cancel
                OnSelect: =Set(isVisibleDetailQuote_SaleVertion2,false)
                Width: =40
                X: =958
                Y: =16
                ZIndex: =2

            Container46 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Height: =686
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =1.5
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                PaddingLeft: =10
                PaddingRight: =10
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =1008
                X: =12
                Y: =82
                ZIndex: =3

                Container42 As groupContainer.horizontalAutoLayoutContainer:
                    BorderStyle: =BorderStyle.None
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =40
                    LayoutMinHeight: =0
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =1

                    Container43 As groupContainer.verticalAutoLayoutContainer:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =1

                        Label89 As label:
                            FontWeight: =FontWeight.Semibold
                            Italic: =true
                            LayoutMinWidth: =80
                            Size: =15
                            Text: |-
                                ="Mã: "&Gallery16.Selected.id_Quote
                            Width: =Parent.Width
                            ZIndex: =1

                    Container34 As groupContainer.horizontalAutoLayoutContainer:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        Height: =Parent.Height
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        ZIndex: =2

                        Label63 As label:
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: |-
                                ="Trạng thái: "
                            Width: =120
                            X: =568
                            ZIndex: =1

                        Button11_1 As button:
                            DisplayMode: =DisplayMode.View
                            OnSelect: =
                            RadiusBottomRight: =0
                            RadiusTopRight: =0
                            Text: ="Báo giá"
                            Visible: =Gallery16.Selected.quote_Status.Value = "Báo giá"
                            Width: =150
                            X: =120
                            ZIndex: =2

                        Button11 As button:
                            AlignInContainer: =AlignInContainer.Start
                            Color: =RGBA(0, 0, 0, 1)
                            Fill: =RGBA(250, 245, 245, 1)
                            HoverFill: =RGBA(128, 128, 128, 1)
                            OnSelect: |-
                                =    Patch(
                                        Quote,
                                        LookUp(
                                            Quote,
                                            id_Quote = Gallery16.Selected.id_Quote
                                        ),
                                        {quote_Status: {Value:"Đơn hàng"}}
                                    );
                                    Notify("Chuyển trạng thái từ báo giá sang đơn hàng thành công",NotificationType.Success)
                            RadiusBottomLeft: =0
                            RadiusTopLeft: =0
                            Text: ="Đơn hàng"
                            Visible: =Gallery16.Selected.quote_Status.Value = "Báo giá"
                            Width: =150
                            X: =270
                            ZIndex: =3

                        Button15 As button:
                            DisplayMode: =DisplayMode.View
                            Fill: =RGBA(54, 176, 75, 1)
                            HoverFill: =RGBA(54, 176, 75, 1)
                            PressedFill: =RGBA(54, 176, 75, 1)
                            Text: ="Đơn hàng"
                            Visible: =Gallery16.Selected.quote_Status.Value = "Đơn hàng"
                            ZIndex: =5

                Container51 As groupContainer.horizontalAutoLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =82
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =3

                    Container52 As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.None
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingRight: =10
                        ZIndex: =1

                        Label95 As label:
                            AlignInContainer: =AlignInContainer.Stretch
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên khách hàng"
                            ZIndex: =1

                        TextInput18 As text:
                            AlignInContainer: =AlignInContainer.Stretch
                            Default: =LookUp(Customer,ID = Gallery16.Selected.id_Customer).customer_Name
                            DisplayMode: =DisplayMode.Disabled
                            Size: =15
                            ZIndex: =2

                    Container53 As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.None
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        PaddingRight: =10
                        ZIndex: =2

                        Label96 As label:
                            AlignInContainer: =AlignInContainer.Stretch
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Nhân viên tạo"
                            ZIndex: =1

                        TextInput19 As text:
                            AlignInContainer: =AlignInContainer.Stretch
                            Default: =LookUp(User,ID = Gallery16.Selected.id_User).user_Name
                            DisplayMode: =DisplayMode.Disabled
                            Size: =15
                            ZIndex: =2

                Label91 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Thời gian tạo - hết hạn"
                    ZIndex: =4

                Container50 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =42
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =5

                    Label92 As label:
                        Align: =Align.Right
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =15
                        Text: =Text(Gallery16.Selected.quote_Date,"dd/mm/yyyy") & " -"
                        Width: =120
                        ZIndex: =1

                    Label93 As label:
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =15
                        Text: = "-> " &Text(Gallery16.Selected.quote_Expire,"dd/mm/yyyy")
                        ZIndex: =2

                Label94 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mô tả"
                    ZIndex: =6

                TextInput17 As text:
                    Default: =Gallery16.Selected.quote_Decription
                    Height: =60
                    Mode: =TextMode.MultiLine
                    Size: =15
                    ZIndex: =7

                Label94_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Chi tiết sản phẩm - dịch vụ"
                    ZIndex: =8

                Container22 As groupContainer.horizontalAutoLayoutContainer:
                    FillPortions: =5
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =9

                    Container27 As groupContainer.verticalAutoLayoutContainer:
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        PaddingRight: =10
                        ZIndex: =1

                        "Gallery22 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            DelayItemLoading: =true
                            FillPortions: =0
                            Height: =Parent.Height
                            Items: =arrProductQuote_SaleVertion2
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =287
                            LayoutMinWidth: =320
                            LoadingSpinner: =LoadingSpinner.Data
                            ShowScrollbar: =false
                            TemplatePadding: =0
                            TemplateSize: =75
                            ZIndex: =2

                            Separator16 As rectangle:
                                BorderThickness: =1
                                Height: =0.1
                                OnSelect: =Select(Parent)
                                Width: =Parent.TemplateWidth
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =5

                            Label100 As label:
                                AutoHeight: =true
                                FontWeight: =FontWeight.Semibold
                                Height: =31
                                OnSelect: =Select(Parent)
                                Size: =16
                                Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                                Width: =350
                                ZIndex: =6

                            Label101 As label:
                                Color: =RGBA(128, 128, 128, 1)
                                FontWeight: =FontWeight.Semibold
                                Height: =26
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Text: =If(!LookUp(Product,id_Product = ThisItem.id_Product).activity,"Ngừng kinh doanh")
                                Width: =224
                                X: =48
                                Y: =65
                                ZIndex: =7

                            Icon25 As icon.CancelBadge:
                                Color: =RGBA(0, 0, 0, 1)
                                Height: =35
                                Icon: =Icon.CancelBadge
                                OnSelect: =Select(Parent)
                                Width: =0
                                X: =605
                                Y: =39
                                ZIndex: =8

                            Label102 As label:
                                Align: =Align.Right
                                Height: =37
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: |-
                                    ="Số lượng: " &ThisItem.quantity_Quote_Product
                                X: =329
                                ZIndex: =9

                            Label102_1 As label:
                                Align: =Align.Right
                                Height: =31
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: |-
                                    ="Giá: " &Text(ThisItem.price_Quote_Product,"#,###đ")
                                X: =329
                                Y: =44
                                ZIndex: =10

                            Label102_2 As label:
                                Height: =31
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Text: |-
                                    ="VAT: " &ThisItem.vat & "%"
                                Width: =162
                                Y: =44
                                ZIndex: =11

                    Container32 As groupContainer.verticalAutoLayoutContainer:
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        PaddingRight: =10
                        ZIndex: =2

                        "Gallery23 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            DelayItemLoading: =true
                            FillPortions: =0
                            Height: =Parent.Height
                            Items: =arrServiceQuote_SaleVertion2
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =200
                            LayoutMinWidth: =320
                            LoadingSpinner: =LoadingSpinner.Data
                            TemplatePadding: =0
                            TemplateSize: =75
                            ZIndex: =2

                            Separator17 As rectangle:
                                BorderThickness: =1
                                Height: =0.1
                                OnSelect: =Select(Parent)
                                Width: =Parent.TemplateWidth
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =5

                            Label104 As label:
                                FontWeight: =FontWeight.Semibold
                                Height: =31
                                OnSelect: =Select(Parent)
                                Size: =16
                                Text: =LookUp(Service,id_Serivce = ThisItem.id_Service).service_Name
                                Width: =494
                                ZIndex: =6

                            Label105 As label:
                                Align: =Align.Right
                                Height: =31
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: |-
                                    ="Giá: " & Text(ThisItem.price_Quote_Service,"#,### đ")
                                Width: =146
                                X: =325
                                Y: =44
                                ZIndex: =7

                            Icon25_1 As icon.CancelBadge:
                                Color: =RGBA(0, 0, 0, 1)
                                Height: =35
                                Icon: =Icon.CancelBadge
                                OnSelect: =Select(Parent)
                                Width: =0
                                X: =605
                                Y: =39
                                ZIndex: =8

                Label108 As label:
                    Align: =Align.Right
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =50
                    Italic: =true
                    PaddingLeft: =10
                    Size: =20
                    Text: |-
                        ="Tổng tiền: " &Text( Gallery16.Selected.sumPriceQuote,"#,###đ")
                    ZIndex: =10

            Label106 As label:
                FontWeight: =FontWeight.Semibold
                Height: =50
                PaddingTop: =0
                Size: =24
                Text: =If(Gallery16.Selected.quote_Status.Value = "Báo giá","Chi tiết báo giá","Chi tiết đơn hàng")
                Width: =278
                X: =30
                Y: =20
                ZIndex: =4

            Icon18 As icon.Export:
                Color: =RGBA(0, 121, 187, 1)
                Height: =40
                Icon: =Icon.Download
                Width: =50
                X: =If(Gallery16.Selected.quote_Status.Value = "Báo giá",276,308)
                Y: =20
                ZIndex: =5

