SaleVertion2 As screen:
    OnVisible: |
        =/* Thong tin nguoi dung*/
        Set(
            informationUser,
            LookUp(
                User,
                email_User = User().Email
            )
        );
        Set(btnFunctionSaleVertion2, "btnQuoteSale");
        Set(idCheckStatusFuntionQuote,-1);
        Set(isVisibleDialogAddQuoteNew_SaleVertion2, false);
        Set(isVisibleDialogAddProductQuoteNew_SaleVertion2, false);
        Set(isVisibleDetailQuote_SaleVertion2,false);
        Set(isVisibleCreateQuote_Sertion2, false);
        Set(isVisibleUpdatQuote_Vertion2, false);
        Set(positionOptionCreatQuote,0);
        ClearCollect(arrServiceNewCreateQuote,[]);
        Set(isDisableEditInormationCustomer, false);
        Set(isDisablebtnUpdateInformationCustomer, false);
        Set(positionItemFunctionCustomerQuote,-1);
        Set(isVisibleSaveUpdateCustomer, false);
        Set(positionOptionCustomerQuote,0);
        Set(positinInformationcustomerFocus,-1);
        
        // yêu cầu mua hàng
        Set(positionStatusPurchase_SaleVertion2, -1);
        Set(styleAddPurchase_SaleVertion2,-1);
        Set(isVisiblechoiceStyleRequest,false);
        Set(isVisibleDialogPurchase_SaleVertion2, false);
        Set(isVisibleDialogPurchaseProduct, false);
        Set(isVisiblePurchaseProductNew,false);

    containerViewQuote As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Height: =701
        Visible: =btnFunctionSaleVertion2 = "btnQuoteSale"
        Width: =1366
        Y: =67
        ZIndex: =1

        Container20 As groupContainer.manualLayoutContainer:
            Height: =680
            Width: =317
            X: =16
            Y: =13
            ZIndex: =1

            Gallery10 As gallery.variableTemplateHeightGallery:
                DelayItemLoading: =true
                Height: =670
                Items: |-
                    =If(
                        btnFunctionSaleVertion2 = "btnQuoteSale",
                        Table(
                            {
                                id: 0,
                                name: "Trạng thái",
                                btnFunction: "btnQuoteSale"
                            },  {
                                id: 1,
                                name: "Khách hàng",
                                btnFunction: "btnQuoteSale"
                            },
                             {
                                id: 2,
                                name: "Dịch vụ",
                                btnFunction: "btnQuoteSale"
                            }
                        )
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplateSize: =164
                Width: =317
                Y: =5
                ZIndex: =1

                Button8 As button:
                    Color: =If(ThisItem.IsSelected,RGBA(225, 225, 225, 1),RGBA(212, 201, 201, 1))
                    Fill: =If(ThisItem.IsSelected,RGBA(56, 96, 178, 1),RGBA(242, 237, 237, 1))
                    Height: =47
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.name
                    Width: =Parent.Width -10
                    ZIndex: =1

                containerOptionStatus As groupContainer.manualLayoutContainer:
                    Height: =115
                    Visible: =ThisItem.IsSelected && ThisItem.id = 0 && ThisItem.btnFunction = "btnQuoteSale"
                    Width: =307
                    Y: =47
                    ZIndex: =2

                    Checkbox4 As checkbox:
                        Default: =If(idCheckStatusFuntionQuote = 0, true,false)
                        Height: =46
                        OnCheck: =Set(idCheckStatusFuntionQuote, 0)
                        OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                        Text: ="Báo giá"
                        Width: =244
                        X: =37
                        Y: =9
                        ZIndex: =1

                    Checkbox4_1 As checkbox:
                        Default: =If(idCheckStatusFuntionQuote = 1, true,false)
                        Height: =46
                        OnCheck: =Set(idCheckStatusFuntionQuote, 1)
                        OnUncheck: =Set(idCheckStatusFuntionQuote, -1)
                        Text: ="Đơn hàng"
                        Width: =244
                        X: =37
                        Y: =57
                        ZIndex: =2

        Container23 As groupContainer.manualLayoutContainer:
            Height: =688
            Visible: =Gallery10.Selected.id = 0 && Gallery10.Selected.btnFunction = "btnQuoteSale"
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =2

            Container24 As groupContainer.manualLayoutContainer:
                Height: =54
                Width: =1012
                X: =6
                Y: =6
                ZIndex: =1

                Label62 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =38
                    Size: =15
                    Text: |-
                        =If(
                            idCheckStatusFuntionQuote = 0,
                            "Báo giá",
                            If(
                                idCheckStatusFuntionQuote = 1,
                                "Đơn hàng","Báo giá - đơn hàng"
                            )
                        )
                    Width: =316
                    X: =9
                    Y: =9
                    ZIndex: =1

                TextInput5 As text:
                    Default: =""
                    Height: =39
                    HintText: ="Tìm kiếm"
                    Size: =15
                    Width: =352
                    X: =643
                    Y: =8
                    ZIndex: =2

                Container26 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(141, 198, 63, 1)
                    Height: =40
                    Width: =150
                    X: =475
                    Y: =9
                    ZIndex: =3

                    Label64 As label:
                        Align: =Align.Center
                        Color: =RGBA(255, 255, 255, 1)
                        FontWeight: =FontWeight.Semibold
                        Size: =15
                        Text: ="Tạo mới"
                        Width: =111
                        X: =39
                        ZIndex: =1

                    Icon3 As icon.Add:
                        Color: =RGBA(255, 255, 255, 1)
                        Height: =30
                        Icon: =Icon.Add
                        Width: =28
                        X: =15
                        Y: =5
                        ZIndex: =2

                    Rectangle1 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =40
                        OnSelect: |-
                            =Set(isVisibleDialogAddQuoteNew_SaleVertion2,true);
                            ClearCollect(arrProductAddQuoteNew_SaleVertion2,[]);
                            ClearCollect(arrServiceAddQuoteNew_SaleVertion2,[]);
                            Set(isVisibleCreateQuote_Sertion2,true);
                            Set(positionOptionCreatQuote,0)
                        ZIndex: =3

            "Gallery16 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                DelayItemLoading: =true
                Fill: =RGBA(255, 255, 255, 1)
                Height: =511
                Items: |-
                    =If(
                        IsBlank(TextInput5.Text),
                        If(
                            idCheckStatusFuntionQuote = -1,
                            Quote,
                            If(
                                idCheckStatusFuntionQuote = 0,
                                Filter(
                                    Quote,
                                    quote_Status.Value = "Báo giá"
                                ),
                                If(
                                    idCheckStatusFuntionQuote = 1,
                                    Filter(
                                        Quote,
                                        quote_Status.Value = "Đơn hàng"
                                    )
                                )
                            )
                        ),
                        Filter(
                            Quote,
                            StartsWith(
                                id_Quote,
                                TextInput5.Text
                            )
                        )
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |
                    =Set(
                        isVisibleDetailQuote_SaleVertion2,
                        true
                    );
                    ClearCollect(
                        arrProductQuote_SaleVertion2,
                        Filter(
                            Quote_Product,
                            id_Quote = Gallery16.Selected.id_Quote
                        )
                    );
                    ClearCollect(
                        arrServiceQuote_SaleVertion2,
                        Filter(
                            Quote_Service,
                            id_Quote = Gallery16.Selected.id_Quote
                        )
                    );
                TemplatePadding: =0
                TemplateSize: =76
                Width: =1020
                Y: =172
                ZIndex: =3

                Separator13 As rectangle:
                    Height: =8
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =Parent.TemplateHeight - Self.Height
                    ZIndex: =5

                Label65 As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    FontWeight: =FontWeight.Semibold
                    Height: =31
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.id_Quote
                    Width: =220
                    X: =14
                    Y: =23
                    ZIndex: =7

                Label65_1 As label:
                    AutoHeight: =true
                    FontWeight: =FontWeight.Lighter
                    Height: =31
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: |-
                        =LookUp(
                            Customer,ID = ThisItem.id_Customer
                        ).customer_Name
                    Width: =200
                    X: =262
                    Y: =23
                    ZIndex: =8

                Label65_2 As label:
                    AutoHeight: =true
                    FontWeight: =FontWeight.Lighter
                    Height: =31
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =LookUp(User,ID = ThisItem.id_User).user_Name
                    Width: =200
                    X: =470
                    Y: =23
                    ZIndex: =9

                Label65_3 As label:
                    FontWeight: =FontWeight.Lighter
                    Height: =31
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.quote_Date,"dd/mm/yyyy")
                    Width: =161
                    X: =675
                    Y: =23
                    ZIndex: =10

                Icon19 As icon.Check:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: |-
                        =If(
                            ThisItem.quote_Status.Value = "Đang xử lý",
                            Icon.Warning,
                            If(
                                ThisItem.quote_Status.Value = "Đơn hàng",
                                Icon.Check
                            )
                        )
                    OnSelect: =Select(Parent)
                    Visible: =!(ThisItem.quote_Status.Value = "Báo giá")
                    Width: =35
                    X: =859
                    Y: =24
                    ZIndex: =12

                Icon22 As icon.Edit:
                    Height: =30
                    Icon: =Icon.Edit
                    OnSelect: |-
                        =Set(
                            isVisibleDialogAddQuoteNew_SaleVertion2,
                            true
                        );
                        Set(
                            isVisibleUpdatQuote_Vertion2,
                            true
                        );
                        ClearCollect(
                            arrProductAddQuoteNew_SaleVertion2,
                            Filter(
                                Quote_Product,
                                id_Quote = Gallery16.Selected.id_Quote
                            )
                        );
                        ClearCollect(
                            arrServiceAddQuoteNew_SaleVertion2,
                            Filter(
                                Quote_Service,
                                id_Quote = Gallery16.Selected.id_Quote
                            )
                        );
                        ClearCollect(arrProductDelete_Vertion2,[]);
                        ClearCollect(arrServiceDelete_Vertion2,[]);
                        Set(isVisibleUpdateProduct_Quote_Vertion2, false);
                        Set(isVisibleUpdateService_Quote_Vertion2,false);
                        Set(positionOptionCreatQuote,0)
                    Width: =30
                    X: =951
                    Y: =24
                    ZIndex: =14

            Container48 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(128, 128, 128, 0.06)
                Height: =45
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =1000
                X: =6
                Y: =114
                ZIndex: =4

                Label87 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Height: =43
                    Size: =15
                    Text: ="Mã báo giá - đơn hàng"
                    Width: =230
                    X: =8
                    Y: =2
                    ZIndex: =1

                Label88 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Khách hàng"
                    X: =257
                    Y: =5
                    ZIndex: =2

                Label90 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Nhân viên"
                    X: =467
                    Y: =2
                    ZIndex: =3

                Label97 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Ngày tạo"
                    X: =662
                    Y: =5
                    ZIndex: =4

                Label98 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Size: =15
                    Text: ="Trạng thái"
                    Width: =117
                    X: =812
                    Y: =5
                    ZIndex: =5

            Container29_1 As groupContainer.manualLayoutContainer:
                Height: =31
                Width: =168
                X: =817
                Y: =75
                ZIndex: =6

                Icon15_1 As icon.Warning:
                    Color: =RGBA(54, 176, 75, 1)
                    Height: =30
                    Icon: =Icon.Check
                    Width: =30
                    X: =9
                    Y: =1
                    ZIndex: =1

                Label66_1 As label:
                    Height: =30
                    Italic: =true
                    Text: ="Đơn hàng"
                    Width: =96
                    X: =70
                    Y: =1
                    ZIndex: =2

        Container49 As groupContainer.manualLayoutContainer:
            Height: =688
            Visible: =Gallery10.Selected.id = 1 && Gallery10.Selected.btnFunction= "btnQuoteSale" && positionOptionCustomerQuote = 0 
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =3

            Container29 As groupContainer.manualLayoutContainer:
                Height: =59
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =691
                X: =12
                Y: =4
                ZIndex: =3

                containerDetailcustomer As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 0, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 0, 51,39)
                    Width: =128
                    X: =179
                    Y: =8
                    ZIndex: =1

                    Image11 As image:
                        Height: =Parent.Height
                        Image: =icondetail
                        Width: =30
                        X: =10
                        ZIndex: =1

                    Label115 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 0,FontWeight.Bold,FontWeight.Normal)
                        Height: =Parent.Height
                        Text: ="Chi tiết"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 0);
                            Set(isVisibleSaveUpdateCustomer,false)
                        Width: =Parent.Width
                        ZIndex: =3

                containerEditCustomer As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 1, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 1, 51,39)
                    Width: =128
                    X: =333
                    Y: =9
                    ZIndex: =2

                    Icon30 As icon.Edit:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =Parent.Height
                        Icon: =Icon.Edit
                        Width: =27
                        ZIndex: =1

                    Label115_1 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 1,FontWeight.Bold,FontWeight.Normal)
                        Height: =39
                        Text: ="Chỉnh sửa"
                        Width: =101
                        X: =27
                        ZIndex: =2

                    Rectangle9_1 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 1);
                            Set(isVisibleSaveUpdateCustomer,false)
                        Width: =Parent.Width
                        ZIndex: =3

                containerSaveEditCustomer As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 2, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 2, 51,39)
                    Width: =128
                    X: =483
                    Y: =9
                    ZIndex: =3

                    Label115_2 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 2,FontWeight.Bold,FontWeight.Normal)
                        Height: =Parent.Height
                        Text: ="Email"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_2 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 2);
                            Set(isVisibleSaveUpdateCustomer,false);
                            Reset(TextInput13);
                            Reset(TextInput13_1)
                        Width: =Parent.Width
                        ZIndex: =3

                    Image14 As image:
                        Height: =Parent.Height
                        Image: =iconemail
                        Width: =30
                        X: =10
                        ZIndex: =4

                Icon31 As icon.Save:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =40
                    Icon: =Icon.Save
                    OnSelect: |-
                        =If(
                            IsBlank(TextInput12_1.Text) || IsBlank(TextInput12_2.Text) || IsBlank(TextInput12_3.Text) || IsBlank(TextInput12_4.Text) || IsBlank(TextInput12_5.Text),
                            Notify(
                                "Vui lòng không để trống thông tin.",
                                NotificationType.Error
                            ),
                            If(
                                !IsMatch(
                                    TextInput12_4.Text,
                                    "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                                ) || !IsMatch(
                                    TextInput12_5.Text,
                                    "^0\d{9}$"
                                ),
                                Notify("Vui lòng nhập đúng định dạng"),
                                Patch(
                                    Customer,
                                    LookUp(
                                        Customer,
                                        taxCode = TextInput12.Text
                                    ),
                                    {
                                        customer_Name: TextInput12_1.Text,
                                        customer_Address: TextInput12_2.Text,
                                        contactPersonName_Customer: TextInput12_3.Text,
                                        contactPersonEmail_Customer: TextInput12_4.Text,
                                        contactPersonPhoneNumber_Customer: TextInput12_5.Text
                                    }
                                );
                                Notify(
                                    "Thay đổi thông tin khách hàng thành công",
                                    NotificationType.Success
                                );
                                Set(
                                    isVisibleSaveUpdateCustomer,
                                    false
                                )
                            )
                        )
                    Visible: =isVisibleSaveUpdateCustomer
                    Width: =40
                    X: =498
                    Y: =8
                    ZIndex: =4

                containerSaveEditCustomer_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =If(positionItemFunctionCustomerQuote = 2, RGBA(128, 128, 128, 0.21),RGBA(128, 128, 128, 0))
                    Height: =If(positionItemFunctionCustomerQuote = 2, 51,39)
                    Width: =128
                    X: =25
                    Y: =8
                    ZIndex: =5

                    Label115_3 As label:
                        Align: =Align.Center
                        FontWeight: =If(positionItemFunctionCustomerQuote = 2,FontWeight.Bold,FontWeight.Normal)
                        Height: =Parent.Height
                        Text: ="Email"
                        Width: =88
                        X: =40
                        ZIndex: =2

                    Rectangle9_3 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =Parent.Height
                        OnSelect: |-
                            =Set(positionItemFunctionCustomerQuote, 2);
                            Set(isVisibleSaveUpdateCustomer,false);
                            Reset(TextInput13);
                            Reset(TextInput13_1)
                        Width: =Parent.Width
                        ZIndex: =3

                    Image14_1 As image:
                        Height: =Parent.Height
                        Image: =iconemail
                        Width: =30
                        X: =10
                        ZIndex: =4

            Container62 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Fill: =RGBA(26, 2, 2, 0.06)
                Height: =602
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMode: =LayoutMode.Auto
                Width: =996
                X: =12
                Y: =63
                ZIndex: =4

                Container58 As groupContainer.manualLayoutContainer:
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    ZIndex: =1

                    Container60 As groupContainer.verticalAutoLayoutContainer:
                        Height: =602
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMode: =LayoutMode.Auto
                        Width: =996
                        ZIndex: =1

                        Container63 As groupContainer.manualLayoutContainer:
                            FillPortions: =0
                            Height: =230
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: =!(positionItemFunctionCustomerQuote = -1)
                            ZIndex: =1

                            Container64 As groupContainer.manualLayoutContainer:
                                Fill: =RGBA(255, 255, 255, 1)
                                Height: =194
                                Visible: =positionItemFunctionCustomerQuote = 0 || positionItemFunctionCustomerQuote =1
                                Width: =982
                                X: =6
                                Y: =36
                                ZIndex: =1

                                Label114 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Mã số thuế:"
                                    X: =4
                                    Y: =18
                                    ZIndex: =1

                                TextInput12 As text:
                                    BorderThickness: =0
                                    Default: =Gallery17.Selected.taxCode
                                    DisplayMode: =DisplayMode.Disabled
                                    X: =166
                                    Y: =18
                                    ZIndex: =2

                                Label114_2 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Địa chỉ:"
                                    X: =4
                                    Y: =140
                                    ZIndex: =5

                                Label114_3 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Người đại diện:"
                                    X: =486
                                    Y: =18
                                    ZIndex: =7

                                Label114_4 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Email:"
                                    X: =486
                                    Y: =82
                                    ZIndex: =9

                                Label114_5 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Số điện thoại:"
                                    X: =486
                                    Y: =140
                                    ZIndex: =11

                                Label114_1 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Text: |-
                                        ="Tên khách hàng:"
                                    X: =4
                                    Y: =82
                                    ZIndex: =13

                                Container70 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =166
                                    Y: =79
                                    ZIndex: =14

                                    TextInput12_1 As text:
                                        BorderThickness: =0.1
                                        Default: =Gallery17.Selected.customer_Name
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_1 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =166
                                    Y: =140
                                    ZIndex: =15

                                    TextInput12_2 As text:
                                        BorderThickness: =0.1
                                        Default: =Gallery17.Selected.customer_Address
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_2 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =648
                                    Y: =18
                                    ZIndex: =16

                                    TextInput12_3 As text:
                                        BorderThickness: =0.1
                                        Default: =Gallery17.Selected.contactPersonName_Customer
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_3 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =648
                                    Y: =82
                                    ZIndex: =17

                                    TextInput12_4 As text:
                                        BorderThickness: =0.1
                                        Default: =Gallery17.Selected.contactPersonEmail_Customer
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                                Container70_4 As groupContainer.manualLayoutContainer:
                                    DropShadow: =If(positinInformationcustomerFocus = 0,DropShadow.Semibold,DropShadow.Light)
                                    Height: =40
                                    Width: =320
                                    X: =648
                                    Y: =140
                                    ZIndex: =18

                                    TextInput12_5 As text:
                                        BorderThickness: =0.1
                                        Default: =Gallery17.Selected.contactPersonPhoneNumber_Customer
                                        DisplayMode: =If(positionItemFunctionCustomerQuote = 1,DisplayMode.Edit,DisplayMode.Disabled)
                                        FocusedBorderThickness: =0.1
                                        MaxLength: =10
                                        OnChange: =Set(isVisibleSaveUpdateCustomer,true)
                                        OnSelect: =Set(positinInformationcustomerFocus,0);
                                        ZIndex: =1

                            Icon15 As icon.Cancel:
                                Color: =RGBA(0, 0, 0, 1)
                                Height: =35
                                Icon: =Icon.Cancel
                                OnSelect: =Set(positionItemFunctionCustomerQuote, -1)
                                Width: =35
                                X: =953
                                Y: =1
                                ZIndex: =2

                            Label66 As label:
                                FontWeight: =FontWeight.Semibold
                                Height: =36
                                Size: =17
                                Text: |-
                                    =If(
                                        positionItemFunctionCustomerQuote = 0,
                                        "Thông tin khách hàng",
                                        If(
                                            positionItemFunctionCustomerQuote = 1,
                                            "Sửa khách hàng",
                                            If(
                                                positionItemFunctionCustomerQuote = 2,
                                                "Gửi Email"
                                            )
                                        )
                                    )
                                Width: =289
                                X: =6
                                ZIndex: =3

                            Container66 As groupContainer.manualLayoutContainer:
                                Fill: =RGBA(255, 255, 255, 1)
                                Height: =194
                                Visible: =positionItemFunctionCustomerQuote = 2
                                Width: =982
                                X: =6
                                Y: =36
                                ZIndex: =4

                                Label117 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Size: =15
                                    Text: |-
                                        ="Tiêu đề:"
                                    X: =48
                                    Y: =6
                                    ZIndex: =1

                                TextInput13 As text:
                                    BorderThickness: =0.1
                                    Clear: =true
                                    Default: =""
                                    HintText: ="Tiêu đề"
                                    RadiusBottomLeft: =10
                                    RadiusBottomRight: =10
                                    RadiusTopLeft: =10
                                    RadiusTopRight: =10
                                    Width: =722
                                    X: =209
                                    Y: =6
                                    ZIndex: =2

                                Label117_1 As label:
                                    Align: =Align.Right
                                    FontWeight: =FontWeight.Semibold
                                    Size: =15
                                    Text: |-
                                        ="Nội dung:"
                                    X: =48
                                    Y: =58
                                    ZIndex: =3

                                TextInput13_1 As text:
                                    BorderThickness: =0.1
                                    Clear: =true
                                    Default: =""
                                    Height: =76
                                    HintText: ="Nội dung"
                                    Mode: =TextMode.MultiLine
                                    RadiusBottomLeft: =10
                                    RadiusBottomRight: =10
                                    RadiusTopLeft: =10
                                    RadiusTopRight: =10
                                    Width: =722
                                    X: =209
                                    Y: =58
                                    ZIndex: =4

                                Icon32 As icon.Send:
                                    Height: =35
                                    Icon: =Icon.Send
                                    OnSelect: |-
                                        =If(
                                            IsBlank(TextInput13.Text) || IsBlank(TextInput13_1.Text),
                                            Notify(
                                                "Vui lòng nhập đầy đủ trường thông tin",
                                                NotificationType.Error
                                            ),
                                            Warehouse_Manager_SendEmailRole.Run(
                                                Gallery17.Selected.contactPersonEmail_Customer,
                                                TextInput13.Text,
                                                TextInput13_1.Text
                                            );
                                            Notify("Gửi email thành công",NotificationType.Success)
                                        )
                                    Width: =35
                                    X: =931
                                    Y: =146
                                    ZIndex: =5

                                Label119 As label:
                                    Align: =Align.Right
                                    Color: =RGBA(56, 96, 178, 1)
                                    Height: =35
                                    Italic: =true
                                    Text: |-
                                        ="Email người nhận: " & Gallery17.Selected.contactPersonEmail_Customer
                                    Width: =500
                                    X: =414
                                    Y: =146
                                    ZIndex: =6

                        Label80 As label:
                            AlignInContainer: =AlignInContainer.Stretch
                            FontWeight: =FontWeight.Semibold
                            Size: =17
                            Text: ="Danh sách khách hàng"
                            ZIndex: =2

                        Container65 As groupContainer.manualLayoutContainer:
                            Fill: =RGBA(241, 244, 249, 1)
                            FillPortions: =0
                            Height: =40
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            RadiusBottomLeft: =10
                            RadiusBottomRight: =10
                            RadiusTopLeft: =10
                            RadiusTopRight: =10
                            ZIndex: =3

                            Label116 As label:
                                Align: =Align.Center
                                FontWeight: =FontWeight.Semibold
                                Size: =15
                                Text: ="Mã số thuế"
                                Width: =238
                                X: =21
                                ZIndex: =1

                            Label116_1 As label:
                                Align: =Align.Center
                                FontWeight: =FontWeight.Semibold
                                Size: =15
                                Text: ="Tên khách hàng"
                                Width: =366
                                X: =259
                                ZIndex: =2

                            Label116_2 As label:
                                Align: =Align.Center
                                FontWeight: =FontWeight.Semibold
                                Size: =15
                                Text: |-
                                    ="Số điện thoại
                                    "
                                Width: =276
                                X: =625
                                ZIndex: =3

                        "Gallery17 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            DelayItemLoading: =true
                            FillPortions: =If(positionItemFunctionCustomerQuote = -1, 1, 0)
                            Height: =300
                            Items: =Customer
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =287
                            LayoutMinWidth: =320
                            LoadingSpinner: =LoadingSpinner.Data
                            OnSelect: =Set(isVisibleSaveUpdateCustomer,false);
                            TemplatePadding: =0
                            TemplateSize: =70
                            ZIndex: =4

                            Separator14 As rectangle:
                                Height: =8
                                OnSelect: =Select(Parent)
                                Width: =Parent.TemplateWidth
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =5

                            Rectangle12 As rectangle:
                                Height: =Parent.TemplateHeight - Separator14.Height
                                OnSelect: =Select(Parent)
                                Visible: =ThisItem.IsSelected
                                Width: =4
                                ZIndex: =6

                            Label107 As label:
                                Align: =Align.Center
                                Color: =RGBA(0, 18, 107, 1)
                                Height: =62
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: =ThisItem.taxCode
                                Width: =240
                                X: =21
                                ZIndex: =7

                            Label107_1 As label:
                                Align: =Align.Center
                                Height: =62
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: =ThisItem.customer_Name
                                Width: =366
                                X: =261
                                ZIndex: =8

                            Label107_2 As label:
                                Align: =Align.Center
                                Height: =62
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: =ThisItem.contactPersonPhoneNumber_Customer
                                Width: =276
                                X: =627
                                ZIndex: =9

        Container68 As groupContainer.manualLayoutContainer:
            Height: =688
            Visible: =Gallery10.Selected.id = 1 && Gallery10.Selected.btnFunction= "btnQuoteSale" && positionOptionCustomerQuote = 1 
            Width: =1020
            X: =346
            Y: =13
            ZIndex: =4

            Label122 As label:
                FontWeight: =FontWeight.Semibold
                Height: =33
                Size: =20
                Text: ="Tạo khách hàng"
                Width: =294
                X: =16
                Y: =10
                ZIndex: =1

            Label123 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Mã số thuế:"
                Width: =126
                X: =37
                Y: =62
                ZIndex: =2

            TextInput14 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Mã số thuế"
                Width: =304
                X: =163
                Y: =62
                ZIndex: =3

            Label123_1 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Tên khách hàng:"
                Width: =171
                X: =481
                Y: =62
                ZIndex: =4

            TextInput14_1 As text:
                BorderThickness: =0.1
                Default: =""
                Height: =36
                HintText: ="Tên khách hàng"
                Width: =332
                X: =652
                Y: =66
                ZIndex: =5

            Label123_2 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Text: |-
                    ="Địa chỉ:"
                Width: =133
                X: =30
                Y: =123
                ZIndex: =6

            TextInput14_2 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Địa chỉ"
                Width: =821
                X: =163
                Y: =123
                ZIndex: =7

            Label123_3 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Người đại diện:"
                Width: =164
                Y: =178
                ZIndex: =8

            TextInput14_3 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Tên người đại diện"
                Width: =303
                X: =163
                Y: =178
                ZIndex: =9

            Label123_4 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Size: =15
                Text: |-
                    ="Email:"
                Width: =88
                X: =481
                Y: =178
                ZIndex: =10

            TextInput14_4 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Email"
                Width: =415
                X: =569
                Y: =178
                ZIndex: =11

            Label123_5 As label:
                Align: =Align.Right
                FontWeight: =FontWeight.Semibold
                Text: |-
                    ="Số điện thoại:"
                Width: =145
                X: =16
                Y: =242
                ZIndex: =12

            TextInput14_5 As text:
                BorderThickness: =0.1
                Default: =""
                HintText: ="Số điện thoại"
                Width: =302
                X: =164
                Y: =242
                ZIndex: =13

            Button14 As button:
                FontWeight: =FontWeight.Bold
                Size: =20
                Text: ="Xác nhận"
                Width: =251
                X: =355
                Y: =363
                ZIndex: =14

    Container17 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(56, 96, 178, 1)
        Height: =67
        Width: =1366
        ZIndex: =2

        Gallery9 As gallery.galleryHorizontal:
            DelayItemLoading: =true
            Fill: =RGBA(255, 255, 255, 0)
            Height: =65
            Items: |-
                =Table(
                    {
                        id: "btnQuoteSale",
                        name: "Báo giá - đơn hàng"
                    },
                    {
                        id: "btnPurchase",
                        name: "Yêu cầu mua hàng"
                    },{
                    id: "btnHistoryTransaction",
                    name: "Lịch sử giao dịch"
                   
                }
                )
            LoadingSpinner: =LoadingSpinner.Data
            TemplateSize: =242
            Width: =844
            ZIndex: =1

            Container18 As groupContainer.manualLayoutContainer:
                Fill: =If(ThisItem.IsSelected,RGBA(0, 121, 187, 1),RGBA(225, 225,225, 0))
                Height: =55
                Width: =242
                ZIndex: =1

                Label59 As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FontWeight: =If(ThisItem.IsSelected,FontWeight.Semibold,FontWeight.Normal)
                    Height: =36
                    OnSelect: =
                    Text: =ThisItem.name
                    Width: =186
                    X: =52
                    Y: =12
                    ZIndex: =1

                Image10 As image:
                    Height: =50
                    Image: |-
                        =If(
                            ThisItem.id = "btnQuoteSale",
                            quote,
                            If(
                                ThisItem.id = "btnPurchase",
                                icontransaction,
                                If(
                                    ThisItem.id = "btnHistoryTransaction",
                                    historytransaction
                                )
                            )
                        )
                    OnSelect: =
                    Width: =50
                    X: =2
                    Y: =5
                    ZIndex: =2

                Button9 As button:
                    DisabledBorderColor: =RGBA(166, 166, 166, 0)
                    DisabledFill: =RGBA(244, 244, 244, 0)
                    Fill: =RGBA(247, 247, 247, 0)
                    Height: =50
                    HoverBorderColor: =RGBA(255, 255, 255, 0)
                    HoverFill: =/*ColorFade(RGBA(56, 96, 178, 1), -20%)*/
                    OnSelect: =Set(btnFunctionSaleVertion2, ThisItem.id)
                    PressedBorderColor: =/*Self.Fill*/
                    Text: =""
                    Width: =240
                    X: =2
                    Y: =5
                    ZIndex: =3

        Container19 As groupContainer.manualLayoutContainer:
            BorderThickness: =2
            Fill: =RGBA(136, 160, 209, 1)
            Height: =52
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Width: =352
            X: =996
            Y: =6
            ZIndex: =2

    containerAddQuoteNew_SaleVersion2 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.31)
        Height: =768
        Visible: =isVisibleDialogAddQuoteNew_SaleVertion2
        Width: =1366
        ZIndex: =3

        Container21 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =722
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleUpdatQuote_Vertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =1

            Label60 As label:
                Color: =RGBA(54, 176, 75, 1)
                FontWeight: =FontWeight.Semibold
                Height: =50
                Size: =24
                Text: ="Sửa thông tin báo giá"
                Width: =482
                X: =42
                Y: =19
                ZIndex: =1

            Icon13 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =50
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogAddQuoteNew_SaleVertion2, false);
                    Set(isVisibleUpdatQuote_Vertion2,false)
                Width: =50
                X: =1231
                Y: =12
                ZIndex: =2

            Label68_2 As label:
                FontWeight: =FontWeight.Semibold
                Height: =37
                Size: =15
                Text: ="Thời gian hết hạn"
                Width: =187
                X: =72
                Y: =83
                ZIndex: =3

            DatePicker2_1 As datepicker:
                ContentLanguage: ="vi-VN"
                Height: =38
                Language: ="vi-VN"
                Width: =300
                X: =274
                Y: =82
                ZIndex: =4

            Label68_4 As label:
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =15
                Text: ="Khách hàng"
                Width: =124
                X: =676
                Y: =95
                ZIndex: =5

            Container31_2 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 0, DropShadow.Semibold, DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =10
                RadiusBottomRight: =0
                RadiusTopLeft: =10
                RadiusTopRight: =0
                Width: =171
                X: =72
                Y: =135
                ZIndex: =7

                Label70_2 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 0, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,0);
                    Text: ="Sản phẩm"
                    Width: =171
                    ZIndex: =1

            Container31_3 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 1,DropShadow.Semibold,DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =0
                RadiusBottomRight: =10
                RadiusTopLeft: =0
                RadiusTopRight: =10
                Width: =171
                X: =243
                Y: =135
                ZIndex: =8

                Label70_3 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 1, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 1,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,1)
                    Text: ="Dịch vụ"
                    Width: =171
                    ZIndex: =1

            Container33_1 As groupContainer.manualLayoutContainer:
                Height: =281
                Width: =1191
                X: =57
                Y: =175
                ZIndex: =9

                containerArrProductNewQuote_1 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 0
                    Width: =1191
                    ZIndex: =1

                    Container41_2 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_7 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Sản phẩm"
                            Width: =296
                            X: =15
                            ZIndex: =1

                        Label71_8 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =296
                            X: =331
                            ZIndex: =2

                        Label71_10 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="VAT"
                            Width: =122
                            X: =627
                            ZIndex: =3

                        Label71_11 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Số lượng"
                            Width: =142
                            X: =762
                            ZIndex: =4

                        Label71_12 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá/SP"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrProductAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_2 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_8 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =316
                            X: =4
                            Y: =6
                            ZIndex: =6

                        Label78_9 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Product_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =308
                            X: =320
                            Y: =6
                            ZIndex: =7

                        Label78_10 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.vat & "%"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =128
                            X: =628
                            Y: =6
                            ZIndex: =8

                        Label78_11 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quantity_Quote_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =142
                            X: =756
                            Y: =6
                            ZIndex: =9

                        Label78_12 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =If(ThisItem.price_Quote_Product < 0 , "0",Text(ThisItem.price_Quote_Product,"#,###"))
                            VerticalAlign: =VerticalAlign.Top
                            Width: =212
                            X: =898
                            Y: =6
                            ZIndex: =10

                        Icon20_2 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: |-
                                =Collect(arrProductDelete_Vertion2,ThisItem);
                                ClearCollect(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    Filter(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        Not(id_Product = ThisItem.id_Product)
                                    )
                                );
                            Width: =30
                            X: =1148
                            Y: =6
                            ZIndex: =11

                        Icon26 As icon.Edit:
                            Height: =30
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(isVisibleUpdateProduct_Quote_Vertion2, true);
                                Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                                Set(positionDialogAddDataQuoteNew_SaleVertion2,0)
                            Width: =30
                            X: =1115
                            Y: =6
                            ZIndex: =12

                Container47_1 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 1
                    Width: =1191
                    ZIndex: =2

                    Container41_3 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_13 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Dịch vụ"
                            Width: =346
                            X: =15
                            ZIndex: =1

                        Label71_14 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =543
                            X: =361
                            ZIndex: =2

                        Label71_15 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12_3 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrServiceAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_3 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_13 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Service, id_Serivce = ThisItem.id_Service).service_Name
                            VerticalAlign: =VerticalAlign.Top
                            Width: =346
                            X: =15
                            ZIndex: =10

                        Icon20_3 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: |-
                                =Collect(arrServiceDelete_Vertion2, ThisItem);
                                ClearCollect(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    Filter(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        Not(id_Service = ThisItem.id_Service)
                                    )
                                )
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                        Label78_14 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Service_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =543
                            X: =361
                            ZIndex: =12

                        Label78_15 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =Text(ThisItem.price_Quote_Service,"#,###")
                            VerticalAlign: =VerticalAlign.Top
                            Width: =204
                            X: =904
                            Y: =6
                            ZIndex: =13

                        Icon29 As icon.Edit:
                            Height: =30
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(isVisibleUpdateService_Quote_Vertion2,true);
                                Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                                Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                                Reset(TextInput9);
                                Reset(Checkbox5)
                            Width: =30
                            X: =1108
                            Y: =6
                            ZIndex: =14

            Label68_5 As label:
                FontWeight: =FontWeight.Semibold
                Height: =26
                Text: ="Mô tả"
                Width: =225
                X: =72
                Y: =467
                ZIndex: =10

            TextInput7_1 As text:
                BorderThickness: =0.2
                Clear: =true
                Default: =Gallery16.Selected.quote_Decription
                Height: =56
                HintText: ="Vui lòng nhập mô tả"
                Mode: =TextMode.MultiLine
                Width: =1183
                X: =57
                Y: =493
                ZIndex: =11

            Container57_1 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Height: =55
                Width: =397
                X: =57
                Y: =560
                ZIndex: =12

                Label113_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =55
                    Italic: =true
                    Size: =20
                    Text: |-
                        ="Tổng tiền: " & Text(Value(Concat(arrProductAddQuoteNew_SaleVertion2,price_Quote_Product * quantity_Quote_Product) + Concat(arrServiceAddQuoteNew_SaleVertion2,price_Quote_Service)),"#,###")
                    Width: =397
                    ZIndex: =1

            Label69_1 As label:
                Align: =Align.Center
                Fill: =RGBA(189, 240, 194, 1)
                FontWeight: =FontWeight.Semibold
                OnSelect: |-
                    =If(
                        IsBlank(ComboBox1.Selected) || IsBlank(ComboBox1.Selected) || IsBlank(TextInput7.Text) || IsBlank(arrProductAddQuoteNew_SaleVertion2),
                        Notify(
                            "Vui lòng điền đủ thông tin",
                            NotificationType.Error
                        ),
                        If(
                            CountRows(arrProductAddQuoteNew_SaleVertion2) < 1,
                            Notify(
                                "Báo giá phải có ít nhất 1 sản phẩm.Vui lòng thêm sản phẩm",
                                NotificationType.Error
                            ),
                            If(
                                CountRows(arrProductDelete_Vertion2) > 0,
                                ForAll(
                                    arrProductDelete_Vertion2,
                                    RemoveIf(
                                        Quote_Product,
                                        id_Quote = ThisRecord.id_Quote && id_Product = ThisRecord.id_Product
                                    )
                                )
                            );
                            If(
                                CountRows(arrServiceDelete_Vertion2) > 0,
                                ForAll(
                                    arrServiceDelete_Vertion2,
                                    RemoveIf(
                                        Quote_Service,
                                        id_Quote = ThisRecord.id_Quote && id_Service = ThisRecord.id_Service
                                    )
                                )
                            );
                            ForAll(
                                arrProductAddQuoteNew_SaleVertion2,
                                Patch(
                                    Quote_Product,
                                    LookUp(
                                        Quote_Product,
                                        id_Quote = ThisRecord.id_Quote && id_Product = ThisRecord.id_Product
                                    ),
                                    {
                                        quantity_Quote_Product: ThisRecord.quantity_Quote_Product,
                                        quote_Product_Note: ThisRecord.quote_Product_Note,
                                        vat: ThisRecord.vat
                                    }
                                )
                            );
                            ForAll(
                                arrServiceAddQuoteNew_SaleVertion2,
                                Patch(
                                    Quote_Service,
                                    LookUp(
                                        Quote_Service,
                                        id_Quote = ThisRecord.id_Quote && id_Service = ThisRecord.id_Service
                                    ),
                                    {
                                        quote_Service_Note: ThisRecord.quote_Service_Not,
                                        price_Quote_Service: ThisRecord.price_Quote_Service
                                    }
                                )
                            )
                        )
                    )
                Size: =18
                Text: ="Lưu lại"
                Width: =173
                X: =1075
                Y: =632
                ZIndex: =13

            Label72_1 As label:
                Align: =Align.Center
                Color: =RGBA(0, 18, 107, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,0)
                Size: =15
                Text: ="Thêm sản phẩm"
                Underline: =true
                Visible: =positionOptionCreatQuote = 0
                Width: =173
                X: =1075
                Y: =148
                ZIndex: =14

            Label79_1 As label:
                Color: =RGBA(16, 29, 97, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                    Reset(TextInput9);
                    Reset(Checkbox5)
                Size: =15
                Text: ="Thêm dịch vụ"
                Underline: =true
                Visible: =positionOptionCreatQuote = 1
                Width: =128
                X: =1120
                Y: =148
                ZIndex: =15

            Container28 As groupContainer.manualLayoutContainer:
                Height: =38
                Width: =300
                X: =825
                Y: =86
                ZIndex: =16

                Label61 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =38
                    Italic: =true
                    Text: =LookUp(Customer,ID = Gallery16.Selected.id_Customer).customer_Name
                    Width: =300
                    ZIndex: =1

        containerCreateQuote_Vertion2 As groupContainer.manualLayoutContainer:
            ContentLanguage: ="vi-VN"
            Fill: =RGBA(255, 255, 255, 1)
            Height: =722
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleCreateQuote_Sertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =2

            Label67 As label:
                Color: =RGBA(54, 176, 75, 1)
                FontWeight: =FontWeight.Semibold
                Size: =24
                Text: ="Tạo báo giá"
                Width: =273
                X: =42
                Y: =19
                ZIndex: =1

            Label68 As label:
                FontWeight: =FontWeight.Semibold
                Height: =37
                Size: =15
                Text: ="Thời gian hết hạn"
                Width: =187
                X: =48
                Y: =95
                ZIndex: =2

            DatePicker2 As datepicker:
                ContentLanguage: ="vi-VN"
                Height: =38
                Language: ="vi-VN"
                Width: =300
                X: =250
                Y: =94
                ZIndex: =4

            Label68_1 As label:
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =15
                Text: ="Khách hàng"
                Width: =124
                X: =652
                Y: =107
                ZIndex: =5

            ComboBox1 As combobox:
                DefaultSelectedItems: =
                DisplayFields: =["customer_Name"]
                InputTextPlaceholder: ="Chọn khách hàng"
                Items: =Customer
                SearchFields: =["customer_Name"]
                SearchItems: =Search(Customer,ComboBox1.SearchText,"customer_Name")
                SelectMultiple: =false
                Width: =300
                X: =802
                Y: =99
                ZIndex: =6

            Label68_3 As label:
                FontWeight: =FontWeight.Semibold
                Height: =26
                Text: ="Mô tả"
                Width: =225
                X: =40
                Y: =486
                ZIndex: =9

            TextInput7 As text:
                BorderThickness: =0.2
                Clear: =true
                Default: =""
                Height: =56
                HintText: ="Vui lòng nhập mô tả"
                Mode: =TextMode.MultiLine
                Width: =1183
                X: =44
                Y: =512
                ZIndex: =10

            Container30 As groupContainer.manualLayoutContainer:
                Height: =40
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =173
                X: =1058
                Y: =667
                ZIndex: =15

                Label69 As label:
                    Align: =Align.Center
                    Fill: =RGBA(189, 240, 194, 1)
                    FontWeight: =FontWeight.Semibold
                    OnSelect: |-
                        =/*If(
                            IsBlank(ComboBox1.Selected) || IsBlank(ComboBox1.Selected) || IsBlank(TextInput7.Text) || IsBlank(arrProductAddQuoteNew_SaleVertion2),
                            Notify(
                                "Vui lòng điền đủ thông tin",
                                NotificationType.Error
                            ),
                            If(
                                CountRows(arrProductAddQuoteNew_SaleVertion2) < 1 ,
                                Notify(
                                    "Báo giá phải có ít nhất 1 sản phẩm.Vui lòng thêm sản phẩm",
                                    NotificationType.Error
                                ),
                                Set(
                                    idQuote_SaleVertion2,
                                    "QT" & Text(
                                        Now(),
                                        "ddmmyyyyhhmmss"
                                    ) & informationUser.ID
                                );
                                Patch(
                                    Quote,
                                    Defaults(Quote),
                                    {
                                        id_Quote: idQuote_SaleVertion2,
                                        quote_Decription: TextInput7.Text,
                                        quote_Date: Now(),
                                        quote_Expire: DatePicker2.SelectedDate,
                                        quote_Status: {Value:"Báo giá"},
                                        id_User: informationUser.ID,
                                        id_Customer: ComboBox1.Selected.ID,
                                        sumPriceQuote: Value(Concat(arrProductAddQuoteNew_SaleVertion2,price_Quote_Product * quantity_Quote_Product) + Concat(arrServiceAddQuoteNew_SaleVertion2,price_Quote_Service))
                                    }
                                );
                                ForAll(
                                    arrProductAddQuoteNew_SaleVertion2,
                                    Patch(
                                        Quote_Product,
                                        Defaults(Quote_Product),
                                        {
                                            id_Quote: idQuote_SaleVertion2,
                                            id_Product: ThisRecord.id_Product,
                                            price_Quote_Product: ThisRecord.price_Quote_Product,
                                            quantity_Quote_Product: ThisRecord.quantity_Quote_Product,
                                            quote_Product_Note: ThisRecord.quote_Product_Note,
                                            vat: Value(ThisRecord.vat)
                                        }
                                    )
                                );
                                ForAll(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    Patch(
                                        Quote_Service,
                                        Defaults(Quote_Service),
                                        {
                                            id_Quote: idQuote_SaleVertion2,
                                            id_Service: ThisRecord.id_Service,
                                            quote_Service_Note: ThisRecord.quote_Service_Not,
                                            price_Quote_Service: ThisRecord.price_Quote_Service
                                        }
                                    )
                                );
                                Notify("Khởi tạo báo giá thành công",NotificationType.Success);
                                Set(isVisibleDialogAddQuoteNew_SaleVertion2,false)
                            )
                        )*/
                        Create_Import_Product_Warehouse_Manager.Run(JSON( arrProductAddQuoteNew_SaleVertion2,JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes))
                    Size: =18
                    Text: ="Lưu lại"
                    Width: =173
                    ZIndex: =1

            Label76 As label:
                Align: =Align.Right
                Color: =RGBA(0, 18, 107, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,2);
                    Reset(TextInput11);
                    Reset(TextInput11_1);
                    Reset(TextInput11_2);
                    Reset(TextInput11_3);
                    Reset(TextInput11_4);
                    Reset(TextInput11_5);
                Text: ="Tạo khách hàng"
                Underline: =true
                Width: =163
                X: =939
                Y: =68
                ZIndex: =22

            Icon21 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =50
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogAddQuoteNew_SaleVertion2,false);
                    Set(isVisibleCreateQuote_Sertion2,false);
                Width: =50
                X: =1217
                Y: =9
                ZIndex: =23

            Container31 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 0, DropShadow.Semibold, DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =10
                RadiusBottomRight: =0
                RadiusTopLeft: =10
                RadiusTopRight: =0
                Width: =171
                X: =48
                Y: =154
                ZIndex: =24

                Label70 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 0, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 0,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,0);
                    Text: ="Sản phẩm"
                    Width: =171
                    ZIndex: =1

            Container31_1 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionOptionCreatQuote = 1,DropShadow.Semibold,DropShadow.Light)
                Height: =32
                RadiusBottomLeft: =0
                RadiusBottomRight: =10
                RadiusTopLeft: =0
                RadiusTopRight: =10
                Width: =171
                X: =219
                Y: =154
                ZIndex: =25

                Label70_1 As label:
                    Align: =Align.Center
                    Fill: =If(positionOptionCreatQuote = 1, RGBA(0, 0, 0, 0.05),RGBA(0, 0, 0, 0))
                    FontWeight: =If(positionOptionCreatQuote = 1,FontWeight.Semibold,FontWeight.Lighter)
                    Height: =32
                    OnSelect: =Set(positionOptionCreatQuote,1)
                    Text: ="Dịch vụ"
                    Width: =171
                    ZIndex: =1

            Container33 As groupContainer.manualLayoutContainer:
                Height: =281
                Width: =1191
                X: =48
                Y: =198
                ZIndex: =26

                containerArrProductNewQuote As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 0
                    Width: =1191
                    ZIndex: =1

                    Container41 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Sản phẩm"
                            Width: =296
                            X: =15
                            ZIndex: =1

                        Label71_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =296
                            X: =331
                            ZIndex: =2

                        Label71_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="VAT"
                            Width: =122
                            X: =627
                            ZIndex: =3

                        Label71_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Số lượng"
                            Width: =142
                            X: =762
                            ZIndex: =4

                        Label71_4 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá/SP"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrProductAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =316
                            X: =4
                            Y: =6
                            ZIndex: =6

                        Label78_1 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Product_Note
                            VerticalAlign: =VerticalAlign.Top
                            Width: =308
                            X: =320
                            Y: =6
                            ZIndex: =7

                        Label78_2 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.vat & "%"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =128
                            X: =628
                            Y: =6
                            ZIndex: =8

                        Label78_3 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quantity_Quote_Product
                            VerticalAlign: =VerticalAlign.Top
                            Width: =142
                            X: =756
                            Y: =6
                            ZIndex: =9

                        Label78_4 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =If(ThisItem.price_Quote_Product < 0 , "0",Text(ThisItem.price_Quote_Product,"#,###"))
                            VerticalAlign: =VerticalAlign.Top
                            Width: =212
                            X: =898
                            Y: =6
                            ZIndex: =10

                        Icon20 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrProductAddQuoteNew_SaleVertion2,Filter(arrProductAddQuoteNew_SaleVertion2,Not(id_Product = ThisItem.id_Product)))
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                Container47 As groupContainer.manualLayoutContainer:
                    Height: =281
                    Visible: =positionOptionCreatQuote = 1
                    Width: =1191
                    ZIndex: =2

                    Container41_1 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(48, 47, 47, 0.16)
                        Height: =37
                        Width: =1180
                        X: =5
                        Y: =5
                        ZIndex: =1

                        Label71_5 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Dịch vụ"
                            Width: =346
                            X: =15
                            ZIndex: =1

                        Label71_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =543
                            X: =361
                            ZIndex: =2

                        Label71_9 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Height: =37
                            Size: =15
                            Text: ="Giá"
                            Width: =204
                            X: =904
                            ZIndex: =5

                    "Gallery12_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =210
                        Items: =arrServiceAddQuoteNew_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =54
                        Width: =1186
                        X: =5
                        Y: =54
                        ZIndex: =2

                        Separator11_1 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Label78_5 As label:
                            Align: =Align.Center
                            Color: =RGBA(0, 18, 107, 1)
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =LookUp(Service, id_Serivce = ThisItem.id_Service).service_Name
                            VerticalAlign: =VerticalAlign.Top
                            Width: =346
                            X: =15
                            ZIndex: =10

                        Icon20_1 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrServiceAddQuoteNew_SaleVertion2,Filter(arrServiceAddQuoteNew_SaleVertion2,Not( id_Service= ThisItem.id_Service)))
                            Width: =30
                            X: =1139
                            Y: =6
                            ZIndex: =11

                        Label78_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            Height: =46
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.quote_Service_Not
                            VerticalAlign: =VerticalAlign.Top
                            Width: =543
                            X: =361
                            ZIndex: =12

                        Label78_7 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Lighter
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: |-
                                =Text(ThisItem.price_Quote_Service,"#,###")
                            VerticalAlign: =VerticalAlign.Top
                            Width: =204
                            X: =904
                            Y: =6
                            ZIndex: =13

            Label72 As label:
                Color: =RGBA(0, 18, 107, 1)
                Height: =27
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,0)
                Size: =15
                Text: ="Thêm sản phẩm"
                Visible: =positionOptionCreatQuote = 0
                Width: =166
                X: =1073
                Y: =171
                ZIndex: =27

            Label79 As label:
                Color: =RGBA(16, 29, 97, 1)
                Height: =26
                Italic: =true
                OnSelect: |-
                    =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,true);
                    Set(positionDialogAddDataQuoteNew_SaleVertion2,1);
                    Reset(TextInput9);
                    Reset(Checkbox5)
                Text: ="Thêm dịch vụ"
                Underline: =true
                Visible: =positionOptionCreatQuote = 1
                Width: =128
                X: =1111
                Y: =171
                ZIndex: =28

            Container57 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Semibold
                Height: =55
                Width: =397
                X: =40
                Y: =581
                ZIndex: =29

                Label113 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =55
                    Italic: =true
                    Size: =20
                    Text: |-
                        ="Tổng tiền: " & Text(Value(Concat(arrProductAddQuoteNew_SaleVertion2,price_Quote_Product * quantity_Quote_Product) + Concat(arrServiceAddQuoteNew_SaleVertion2,price_Quote_Service)),"#,###")
                    Width: =397
                    ZIndex: =1

        containerSelectionProductAdd_SaleVertion2 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(77, 72, 72, 0.22)
            Height: =722
            Visible: =isVisibleDialogAddProductQuoteNew_SaleVertion2
            Width: =1299
            X: =33
            Y: =18
            ZIndex: =3

            Container35 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =688
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =If(positionDialogAddDataQuoteNew_SaleVertion2 = 0, true, false)
                Width: =574
                X: =343
                Y: =13
                ZIndex: =1

                Label73 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =56
                    Size: =18
                    Text: =If(isVisibleUpdateProduct_Quote_Vertion2, "Sửa thông tin sản phẩm - báo giá","Thêm sản phẩm - Báo giá")
                    Width: =397
                    X: =35
                    ZIndex: =1

                Label74 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Sản phẩm"
                    X: =51
                    Y: =56
                    ZIndex: =2

                Dropdown3 As dropdown:
                    Default: |-
                        =If(
                            isVisibleUpdateProduct_Quote_Vertion2,
                            LookUp(
                                Product,
                                id_Product = Gallery12_2.Selected.id_Product
                            ).name_Product,"1"
                        )
                    DisplayMode: =If(isVisibleUpdateProduct_Quote_Vertion2,DisplayMode.Disabled,DisplayMode.Edit)
                    FocusedBorderThickness: =2
                    Items: =Product
                    Width: =436
                    X: =85
                    Y: =96
                    ZIndex: =3

                Label74_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =51
                    Y: =136
                    ZIndex: =4

                TextInput8 As text:
                    Align: =Align.Right
                    Default: |-
                        =Text(Value(LookUp(Product,id_Product = Dropdown3.Selected.id_Product).price_Product),"#,###")
                    DisplayMode: =DisplayMode.Disabled
                    Format: =TextFormat.Number
                    Width: =436
                    X: =85
                    Y: =176
                    ZIndex: =5

                Label74_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Số lượng"
                    X: =51
                    Y: =216
                    ZIndex: =6

                TextInput8_1 As text:
                    Default: =If(isVisibleUpdateProduct_Quote_Vertion2,Gallery12_2.Selected.quantity_Quote_Product)
                    Format: =TextFormat.Number
                    HintText: ="Vui lòng nhập số lượng"
                    Width: =436
                    X: =85
                    Y: =256
                    ZIndex: =7

                Label74_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Ghi chú"
                    X: =51
                    Y: =296
                    ZIndex: =8

                TextInput8_2 As text:
                    Default: =If(isVisibleUpdateProduct_Quote_Vertion2,Gallery12_2.Selected.quote_Product_Note)
                    Height: =114
                    HintText: ="Vui lòng nhập ghi chú"
                    Mode: =TextMode.MultiLine
                    Width: =436
                    X: =85
                    Y: =336
                    ZIndex: =9

                Label74_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="VAT"
                    X: =51
                    Y: =450
                    ZIndex: =10

                TextInput8_3 As text:
                    Align: =Align.Right
                    Default: =If(isVisibleUpdateProduct_Quote_Vertion2, Gallery12_2.Selected.vat, "10")
                    Format: =TextFormat.Number
                    HintText: ="%"
                    Width: =436
                    X: =85
                    Y: =490
                    ZIndex: =11

                Container36 As groupContainer.manualLayoutContainer:
                    Height: =40
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =170
                    X: =201
                    Y: =622
                    ZIndex: =12

                    Label75 As label:
                        Align: =Align.Center
                        Fill: =RGBA(189, 240, 194, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        OnSelect: |
                            =
                            /*Collect(
                                arrProductAddQuoteNew_SaleVertion2,
                                {
                                    id_Quote: "",
                                    id_Product: Dropdown3.Selected.id_Product,
                                    price_Quote_Product: Value(TextInput8.Text),
                                    quantity_Quote_Product: Value(TextInput8_1.Text),
                                    quote_Product_Note: TextInput8_2.Text,
                                    vat: Value(TextInput8_3.Text)
                                }
                            );
                            Notify("Thêm sản phẩm vào báo giá thành công",NotificationType.Success);
                            Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)*/
                            If(
                                IsBlank(TextInput8_1.Text) || IsBlank(TextInput8_2.Text) || IsBlank(TextInput8_3.Text),
                                Notify("Vui lòng nhập đầy đủ thông tin bắt buộc"),
                                If(
                                    isVisibleUpdateProduct_Quote_Vertion2,
                                    Patch(
                                        arrProductAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            id_Quote = Gallery12_2.Selected.id_Quote && id_Product = Gallery12_2.Selected.id_Product
                                        ),
                                        {
                                            quantity_Quote_Product: Value(TextInput8_1.Text),
                                            quote_Product_Note: TextInput8_2.Text,
                                            vat: Value(TextInput8_3.Text)
                                        }
                                    ),
                                    If(
                                        IsBlank(
                                            LookUp(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                id_Product = Dropdown3.Selected.id_Product
                                            )
                                        ),
                                        Collect(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            {
                                                ID: CountRows(arrProductAddQuoteNew_SaleVertion2) + 1,
                                                id_Quote: "",
                                                id_Product: Dropdown3.Selected.id_Product,
                                                price_Quote_Product: Value(TextInput8.Text),
                                                quantity_Quote_Product: Value(TextInput8_1.Text),
                                                quote_Product_Note: TextInput8_2.Text,
                                                vat: Value(TextInput8_3.Text)
                                            }
                                        ),
                                        Patch(
                                            arrProductAddQuoteNew_SaleVertion2,
                                            LookUp(
                                                arrProductAddQuoteNew_SaleVertion2,
                                                id_Product = Dropdown3.Selected.id_Product
                                            ),
                                            {
                                                quantity_Quote_Product: LookUp(
                                                    arrProductAddQuoteNew_SaleVertion2,
                                                    id_Product = Dropdown3.Selected.id_Product
                                                ).quantity_Quote_Product + Value(TextInput8_1.Text)
                                            }
                                        )
                                    );
                                    Notify(
                                        "Thêm sản phẩm vào báo giá thành công",
                                        NotificationType.Success
                                    );
                                );
                                If(
                                    isVisibleUpdateProduct_Quote_Vertion2,
                                    Set(
                                        isVisibleUpdateProduct_Quote_Vertion2,
                                        false
                                    );
                                    Set(
                                        isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                        false
                                    );
                                    ,
                                    Reset(TextInput8_1);
                                    Reset(TextInput8_2);
                                )
                            );
                        Size: =16
                        Text: =If(isVisibleUpdateProduct_Quote_Vertion2, "Cập nhật","Thêm")
                        Width: =Parent.Width
                        ZIndex: =1

                Container37 As groupContainer.manualLayoutContainer:
                    Height: =70
                    X: =51
                    Y: =540
                    ZIndex: =14

                    Label77 As label:
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        Italic: =true
                        Size: =20
                        Text: |-
                            =/*"Tổng tiền: " & Text(
                                Value(
                                    (LookUp(
                                        Product,
                                        id_Product = Dropdown3.Selected.id_Product
                                    ).price_Product * Value(TextInput8_1.Text) + (LookUp(
                                        Product,
                                        id_Product = Dropdown3.Selected.id_Product
                                    ).price_Product * Value(TextInput8_1.Text) * If(
                                        IsBlank(TextInput8_3.Text),
                                        10%,
                                        Value(TextInput8_3.Text)%
                                    )))
                                ),
                                "#,###"
                            )*/
                            "Tổng tiền: " & (LookUp(
                                Product,
                                id_Product = Dropdown3.Selected.id_Product
                            ).price_Product * Value(TextInput8_1.Text) + (LookUp(
                                Product,
                                id_Product = Dropdown3.Selected.id_Product
                            ).price_Product * Value(TextInput8_1.Text) * If(
                                IsBlank(TextInput8_3.Text),
                                10%,
                                Value(TextInput8_3.Text)%
                            ))) 
                        Width: =Parent.Width
                        ZIndex: =1

                Icon14 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false);
                        If(isVisibleUpdateProduct_Quote_Vertion2, Set(isVisibleUpdateProduct_Quote_Vertion2, false))
                    Width: =35
                    X: =521
                    Y: =10
                    ZIndex: =15

            Container39 As groupContainer.manualLayoutContainer:
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =675
                RadiusBottomLeft: =5
                RadiusBottomRight: =5
                RadiusTopLeft: =5
                RadiusTopRight: =5
                Visible: =If(positionDialogAddDataQuoteNew_SaleVertion2 = 1, true,false)
                Width: =570
                X: =345
                Y: =36
                ZIndex: =2

                Label81 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =57
                    Size: =18
                    Text: =If(isVisibleUpdateService_Quote_Vertion2, "Sửa dịch vụ - báo giá","Thêm dịch vụ - báo giá")
                    Width: =297
                    X: =23
                    Y: =2
                    ZIndex: =1

                Label82 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Dịch vụ"
                    X: =49
                    Y: =59
                    ZIndex: =2

                Dropdown4 As dropdown:
                    Default: |-
                        =If(
                            isVisibleUpdateService_Quote_Vertion2,
                            LookUp(
                                Service,
                                id_Serivce = Gallery12_3.Selected.id_Service
                            ).service_Name,"1"
                        )
                    DisplayMode: =If(isVisibleUpdateService_Quote_Vertion2,DisplayMode.Disabled,DisplayMode.Edit)
                    Height: =41
                    Items: =Service
                    Width: =423
                    X: =77
                    Y: =99
                    ZIndex: =3

                Label82_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Ghi chú"
                    X: =49
                    Y: =140
                    ZIndex: =4

                TextInput9 As text:
                    Default: =If(isVisibleUpdateService_Quote_Vertion2, Gallery12_3.Selected.quote_Service_Note,"")
                    Height: =205
                    HintText: ="Vui lòng nhập ghi chú ..."
                    Mode: =TextMode.MultiLine
                    Width: =423
                    X: =77
                    Y: =180
                    ZIndex: =5

                Label82_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Giá"
                    X: =49
                    Y: =385
                    ZIndex: =6

                TextInput10 As text:
                    Default: |-
                        =If(
                            Checkbox5.Value = true,
                            Text(
                                Value(
                                    LookUp(
                                        Service,
                                        id_Serivce = Dropdown4.Selected.id_Serivce
                                    ).service_Price
                                ),
                                "#,###"
                            ),
                            If(
                                isVisibleUpdateService_Quote_Vertion2,
                                Text(
                                    Gallery12_3.Selected.price_Quote_Service,
                                    "#,###"
                                ),
                                ""
                            )
                        )
                    DisplayMode: =If(Checkbox5.Value = true, DisplayMode.Disabled,DisplayMode.Edit)
                    Format: =TextFormat.Number
                    Height: =41
                    HintText: ="Vui lòng nhập giá ..."
                    Width: =423
                    X: =77
                    Y: =425
                    ZIndex: =7

                Checkbox5 As checkbox:
                    FontWeight: =FontWeight.Semibold
                    Height: =46
                    Text: ="Lấy giá gốc"
                    Width: =166
                    X: =205
                    Y: =484
                    ZIndex: =8

                Container36_2 As groupContainer.manualLayoutContainer:
                    Height: =40
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =170
                    X: =205
                    Y: =615
                    ZIndex: =9

                    Label75_2 As label:
                        Align: =Align.Center
                        Fill: =RGBA(189, 240, 194, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput9.Text),
                                Notify(
                                    "Vui lòng nhập ghi chú",
                                    NotificationType.Error
                                ),
                                If(
                                    isVisibleUpdateService_Quote_Vertion2,
                                    Patch(
                                        arrServiceAddQuoteNew_SaleVertion2,
                                        LookUp(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            id_Quote = Gallery12_3.Selected.id_Quote && id_Service = Gallery12_3.Selected.id_Service
                                        ),
                                        {
                                            quote_Service_Note: TextInput9.Text,
                                            price_Quote_Service: If(
                                                IsBlank(TextInput10.Text),
                                                0,
                                                Value(TextInput10.Text)
                                            )
                                        }
                                    );
                                    If(
                                        isVisibleUpdateService_Quote_Vertion2,
                                        Set(
                                            isVisibleUpdateService_Quote_Vertion2,
                                            false
                                        )
                                    );
                                    Set(
                                        isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                        false
                                    ),
                                    If(
                                        IsBlank(
                                            LookUp(
                                                arrServiceAddQuoteNew_SaleVertion2,
                                                id_Service = Dropdown4.Selected.id_Serivce
                                            )
                                        ),
                                        Collect(
                                            arrServiceAddQuoteNew_SaleVertion2,
                                            {
                                                id_Service: Dropdown4.Selected.id_Serivce,
                                                quote_Service_Note: TextInput9.Text,
                                                price_Quote_Service: If(
                                                    IsBlank(TextInput10.Text),
                                                    0,
                                                    Value(TextInput10.Text)
                                                )
                                            }
                                        );
                                        Notify(
                                            "Thêm dịch vụ vào báo giá thành công",
                                            NotificationType.Success
                                        );
                                        Set(
                                            isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                            false
                                        ),
                                        Notify(
                                            "Dịch vụ đã tồn tại",
                                            NotificationType.Error
                                        )
                                    )
                                )
                            )
                        Size: =16
                        Text: =If(isVisibleUpdateService_Quote_Vertion2, "Xác nhận","Thêm")
                        Width: =Parent.Width
                        ZIndex: =1

                Icon16 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =If(isVisibleUpdateService_Quote_Vertion2,Set(isVisibleUpdateService_Quote_Vertion2, false));
                        Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false)
                    Width: =35
                    X: =522
                    Y: =13
                    ZIndex: =10

                Container38 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Regular
                    Fill: =RGBA(241, 244, 249, 1)
                    Height: =27
                    Visible: =!isVisibleUpdateService_Quote_Vertion2
                    Width: =137
                    X: =320
                    Y: =21
                    ZIndex: =12

                    Icon23 As icon.Add:
                        Height: =23
                        Icon: =Icon.Add
                        Width: =23
                        X: =15
                        Y: =2
                        ZIndex: =1

                    Label83 As label:
                        Height: =27
                        Text: ="Tạo mới"
                        Width: =88
                        X: =48
                        ZIndex: =2

                    Rectangle10 As rectangle:
                        Fill: =RGBA(56, 96, 178, 0)
                        Height: =27
                        OnSelect: |-
                            =Set(positionDialogAddDataQuoteNew_SaleVertion2,3);
                            ClearCollect(arrServiceNewCreateQuote,[])
                        Width: =137
                        ZIndex: =3

            Container40 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =673
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Visible: =positionDialogAddDataQuoteNew_SaleVertion2 = 2
                Width: =617
                X: =322
                Y: =27
                ZIndex: =3

                Label84 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =62
                    Size: =18
                    Text: ="Tạo khách hàng"
                    Width: =392
                    X: =29
                    Y: =9
                    ZIndex: =1

                Icon17 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisibleDialogAddProductQuoteNew_SaleVertion2,false);
                    Width: =35
                    X: =545
                    Y: =23
                    ZIndex: =2

                Label85 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Mã số thuế"
                    X: =40
                    Y: =78
                    ZIndex: =3

                TextInput11 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập mã số thuế ..."
                    MaxLength: =10
                    Width: =540
                    X: =40
                    Y: =118
                    ZIndex: =4

                Label85_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Tên khách hàng"
                    X: =40
                    Y: =158
                    ZIndex: =5

                TextInput11_1 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập tên khách hàng ..."
                    Width: =540
                    X: =40
                    Y: =198
                    ZIndex: =6

                Label85_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Địa chỉ"
                    X: =40
                    Y: =238
                    ZIndex: =7

                TextInput11_2 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập địa chỉ ..."
                    Width: =540
                    X: =40
                    Y: =278
                    ZIndex: =8

                Label85_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Họ và tên người liên hệ"
                    Width: =220
                    X: =40
                    Y: =318
                    ZIndex: =9

                TextInput11_3 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập họ và tên người liên hệ ..."
                    Width: =540
                    X: =40
                    Y: =358
                    ZIndex: =10

                Label85_4 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Số điện thoại liên hệ"
                    Width: =245
                    X: =40
                    Y: =398
                    ZIndex: =11

                TextInput11_4 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập số điện thoại liên hệ ..."
                    MaxLength: =10
                    Width: =540
                    X: =40
                    Y: =438
                    ZIndex: =12

                Label85_5 As label:
                    FontWeight: =FontWeight.Semibold
                    Text: ="Email"
                    X: =40
                    Y: =478
                    ZIndex: =13

                TextInput11_5 As text:
                    Default: =""
                    HintText: ="Vui lòng nhập email..."
                    Width: =540
                    X: =40
                    Y: =518
                    ZIndex: =14

                Button10 As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(189, 240, 194, 1)
                    OnSelect: |-
                        =If(
                            (!IsMatch(
                                TextInput11.Text,
                                "^(0|3)\d{9}$"
                            ) || IsBlank(TextInput11_1.Text) || IsBlank(TextInput11_2.Text) || IsBlank(TextInput11_3.Text) || !IsMatch(
                                TextInput11_4.Text,
                                "^0\d{9}$"
                            ) || !IsMatch(
                                TextInput11_5.Text,
                                "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                            )),
                            Notify(
                                "Vui lòng nhập thông tin hợp lệ",
                                NotificationType.Error
                            ),
                            If(
                                IsBlank(
                                    LookUp(
                                        Customer,
                                        taxCode = TextInput11.Text
                                    )
                                ),
                                Patch(
                                    Customer,
                                    Defaults(Customer),
                                    {
                                        taxCode: TextInput11.Text,
                                        customer_Name: TextInput11_1.Text,
                                        customer_Address: TextInput11_2.Text,
                                        contactPersonName_Customer: TextInput11_3.Text,
                                        contactPersonPhoneNumber_Customer: TextInput11_4.Text,
                                        contactPersonEmail_Customer: TextInput11_5.Text,
                                        activity: true
                                    }
                                );
                                Notify(
                                    "Thêm khách hàng thành công",
                                    NotificationType.Success,
                                    1500
                                );
                                Set(
                                    isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                    false
                                ),
                                Notify(
                                    "Mã số thuế đã tồn tại",
                                    NotificationType.Error,
                                    1500
                                )
                            )
                        )
                    Text: ="Lưu lại"
                    X: =440
                    Y: =598
                    ZIndex: =15

            Container54 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =664
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Visible: |
                    =positionDialogAddDataQuoteNew_SaleVertion2= 3
                Width: =1145
                X: =70
                Y: =36
                ZIndex: =4

                Label86 As label:
                    Color: =RGBA(54, 176, 75, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =45
                    Size: =20
                    Text: ="Tạo dịch vụ"
                    Width: =357
                    X: =26
                    Y: =10
                    ZIndex: =1

                Container55 As groupContainer.manualLayoutContainer:
                    BorderThickness: =0.2
                    Height: =512
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =505
                    X: =622
                    Y: =82
                    ZIndex: =2

                    Label99 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =41
                        Size: =18
                        Text: ="Thông tin dịch vụ"
                        Width: =225
                        X: =12
                        Y: =8
                        ZIndex: =1

                    Label103 As label:
                        Height: =35
                        Size: =15
                        Text: ="Tên dịch vụ"
                        Width: =127
                        X: =49
                        Y: =49
                        ZIndex: =2

                    TextInput6 As text:
                        Default: =""
                        HintText: ="Nhập tên dịch vụ ..."
                        Width: =415
                        X: =49
                        Y: =84
                        ZIndex: =3

                    Label103_1 As label:
                        Height: =35
                        Size: =15
                        Text: ="Ghi chú"
                        Width: =107
                        X: =49
                        Y: =124
                        ZIndex: =4

                    TextInput6_1 As text:
                        Default: =""
                        Height: =138
                        HintText: ="Ghi chú ..."
                        Mode: =TextMode.MultiLine
                        Width: =415
                        X: =49
                        Y: =159
                        ZIndex: =5

                    Label103_2 As label:
                        Height: =35
                        Size: =15
                        Text: ="Giá"
                        Width: =107
                        X: =49
                        Y: =297
                        ZIndex: =6

                    TextInput6_2 As text:
                        Default: =""
                        Format: =TextFormat.Number
                        HintText: ="Giá dịch vụ ..."
                        Width: =415
                        X: =49
                        Y: =332
                        ZIndex: =7

                    Button3 As button:
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(189, 240, 194, 1)
                        HoverFill: =RGBA(152, 208, 70, 1)
                        OnSelect: |-
                            =If(
                                IsBlank(TextInput6.Text) || IsBlank(TextInput6_1.Text) || IsBlank(TextInput6_2.Text),
                                Notify(
                                    "Vui lòng điền đủ thông tin dịch vụ",
                                    NotificationType.Error,
                                    1500
                                ),
                                Collect(
                                    arrServiceNewCreateQuote,
                                    { id_Serivce: "DV_" & Text(
                                            Now(),
                                            "ddmmyyhhmmss"
                                        ) & informationUser.ID,
                                        service_Name: TextInput6.Text,
                                        service_Decription: TextInput6_1.Text,
                                        service_Price: Value(TextInput6_2.Text)
                                    }
                                );
                                Reset(TextInput6);
                                Reset(TextInput6_1);
                                Reset(TextInput6_2)
                            )
                        Text: ="Tạo"
                        X: =176
                        Y: =390
                        ZIndex: =8

                "Gallery11 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =0.5
                    DelayItemLoading: =true
                    Fill: =RGBA(241, 244, 249, 0.36)
                    Height: =366
                    Items: =arrServiceNewCreateQuote
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =52
                    Width: =596
                    X: =9
                    Y: =226
                    ZIndex: =3

                    Separator10 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Label111 As label:
                        Align: =Align.Center
                        OnSelect: =Select(Parent)
                        Text: =ThisItem.service_Name
                        Width: =339
                        X: =13
                        Y: =4
                        ZIndex: =6

                    Label112 As label:
                        Align: =Align.Center
                        OnSelect: =Select(Parent)
                        Text: |-
                            =Text(ThisItem.service_Price, "#,###")
                        Width: =158
                        X: =352
                        Y: =4
                        ZIndex: =7

                    Icon27 As icon.Trash:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =35
                        Icon: =Icon.Trash
                        OnSelect: =ClearCollect(arrServiceNewCreateQuote,Filter(arrServiceNewCreateQuote,Not(id_Serivce = ThisItem.id_Serivce)))
                        Width: =35
                        X: =545
                        Y: =4
                        ZIndex: =8

                Container56 As groupContainer.manualLayoutContainer:
                    Fill: =RGBA(235, 232, 232, 0.51)
                    Height: =38
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =596
                    X: =9
                    Y: =184
                    ZIndex: =5

                    Label109 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Tên dịch vụ"
                        Width: =347
                        X: =5
                        ZIndex: =1

                    Label110 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Semibold
                        Height: =38
                        Size: =15
                        Text: ="Giá"
                        Width: =158
                        X: =352
                        ZIndex: =2

                Icon28 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =40
                    Icon: =Icon.Cancel
                    OnSelect: |
                        =Set(positionDialogAddDataQuoteNew_SaleVertion2,1)
                    Width: =40
                    X: =1087
                    Y: =10
                    ZIndex: =6

                Button12 As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(189, 240, 194, 1)
                    HoverFill: =RGBA(152, 208, 70, 1)
                    OnSelect: |-
                        =If(
                            CountRows(arrServiceNewCreateQuote) < 1,
                            Notify("Bạn chưa thêm dịch vụ nào. Vui lòng thêm dịch vụ",NotificationType.Error,1500),
                            ForAll(
                                arrServiceNewCreateQuote As Temp,
                                Patch(
                                    Service,
                                    Defaults(Service),
                                    Temp
                                );
                                Collect(
                                    arrServiceAddQuoteNew_SaleVertion2,
                                    {
                                        id_Service: Temp.id_Serivce,
                                        quote_Service_Not: Temp.service_Decription,
                                        price_Quote_Service: Temp.service_Price
                                    }
                                )
                            );
                            Set(
                                isVisibleDialogAddProductQuoteNew_SaleVertion2,
                                false
                            );
                            
                        )
                    Text: ="Xác nhận"
                    Width: =184
                    X: =945
                    Y: =605
                    ZIndex: =7

    Container44 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.38)
        Height: =768
        Visible: =isVisibleDetailQuote_SaleVertion2
        Width: =1366
        ZIndex: =4

        Container45 As groupContainer.manualLayoutContainer:
            BorderColor: =RGBA(215, 223, 240, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Height: =768
            RadiusBottomLeft: =20
            RadiusBottomRight: =0
            RadiusTopLeft: =20
            RadiusTopRight: =0
            Width: =1020
            X: =346
            ZIndex: =1

            Icon24 As icon.Cancel:
                Color: =RGBA(255, 0, 0, 1)
                Height: =40
                Icon: =Icon.Cancel
                OnSelect: =Set(isVisibleDetailQuote_SaleVertion2,false)
                Width: =40
                X: =958
                Y: =16
                ZIndex: =2

            Container46 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Height: =686
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =1.5
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                PaddingLeft: =10
                PaddingRight: =10
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =1008
                X: =12
                Y: =82
                ZIndex: =3

                Container42 As groupContainer.horizontalAutoLayoutContainer:
                    BorderStyle: =BorderStyle.None
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =40
                    LayoutMinHeight: =0
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =1

                    Container43 As groupContainer.verticalAutoLayoutContainer:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =1

                        Label89 As label:
                            FontWeight: =FontWeight.Semibold
                            Italic: =true
                            LayoutMinWidth: =80
                            Size: =15
                            Text: |-
                                ="Mã: "&Gallery16.Selected.id_Quote
                            Width: =Parent.Width
                            ZIndex: =1

                    Container34 As groupContainer.horizontalAutoLayoutContainer:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        Height: =Parent.Height
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        ZIndex: =2

                        Label63 As label:
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: |-
                                ="Trạng thái: "
                            Width: =120
                            X: =568
                            ZIndex: =1

                        Button11_1 As button:
                            DisplayMode: =DisplayMode.View
                            OnSelect: =
                            RadiusBottomRight: =0
                            RadiusTopRight: =0
                            Text: ="Báo giá"
                            Visible: =Gallery16.Selected.quote_Status.Value = "Báo giá"
                            Width: =150
                            X: =120
                            ZIndex: =2

                        Button11 As button:
                            AlignInContainer: =AlignInContainer.Start
                            Color: =RGBA(0, 0, 0, 1)
                            Fill: =RGBA(250, 245, 245, 1)
                            HoverFill: =RGBA(128, 128, 128, 1)
                            OnSelect: |-
                                =    Patch(
                                        Quote,
                                        LookUp(
                                            Quote,
                                            id_Quote = Gallery16.Selected.id_Quote
                                        ),
                                        {quote_Status: {Value:"Đơn hàng"}}
                                    );
                                    Notify("Chuyển trạng thái từ báo giá sang đơn hàng thành công",NotificationType.Success)
                            RadiusBottomLeft: =0
                            RadiusTopLeft: =0
                            Text: ="Đơn hàng"
                            Visible: =Gallery16.Selected.quote_Status.Value = "Báo giá"
                            Width: =150
                            X: =270
                            ZIndex: =3

                        Button15 As button:
                            DisplayMode: =DisplayMode.View
                            Fill: =RGBA(54, 176, 75, 1)
                            HoverFill: =RGBA(54, 176, 75, 1)
                            PressedFill: =RGBA(54, 176, 75, 1)
                            Text: ="Đơn hàng"
                            Visible: =LookUp(Quote,id_Quote = Gallery16.Selected.id_Quote).quote_Status.Value = "Đơn hàng"
                            ZIndex: =5

                Container51 As groupContainer.horizontalAutoLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =82
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =3

                    Container52 As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.None
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingRight: =10
                        ZIndex: =1

                        Label95 As label:
                            AlignInContainer: =AlignInContainer.Stretch
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên khách hàng"
                            ZIndex: =1

                        TextInput18 As text:
                            AlignInContainer: =AlignInContainer.Stretch
                            Default: =LookUp(Customer,ID = Gallery16.Selected.id_Customer).customer_Name
                            DisplayMode: =DisplayMode.Disabled
                            Size: =15
                            ZIndex: =2

                    Container53 As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.None
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        PaddingRight: =10
                        ZIndex: =2

                        Label96 As label:
                            AlignInContainer: =AlignInContainer.Stretch
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Nhân viên tạo"
                            ZIndex: =1

                        TextInput19 As text:
                            AlignInContainer: =AlignInContainer.Stretch
                            Default: =LookUp(User,ID = Gallery16.Selected.id_User).user_Name
                            DisplayMode: =DisplayMode.Disabled
                            Size: =15
                            ZIndex: =2

                Label91 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Thời gian tạo - hết hạn"
                    ZIndex: =4

                Container50 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =42
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =5

                    Label92 As label:
                        Align: =Align.Right
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =15
                        Text: =Text(Gallery16.Selected.quote_Date,"dd/mm/yyyy") & " -"
                        Width: =120
                        ZIndex: =1

                    Label93 As label:
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =15
                        Text: = "-> " &Text(Gallery16.Selected.quote_Expire,"dd/mm/yyyy")
                        ZIndex: =2

                Label94 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mô tả"
                    ZIndex: =6

                TextInput17 As text:
                    Default: =Gallery16.Selected.quote_Decription
                    Height: =60
                    Mode: =TextMode.MultiLine
                    Size: =15
                    ZIndex: =7

                Label94_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Chi tiết sản phẩm - dịch vụ"
                    ZIndex: =8

                Container22 As groupContainer.horizontalAutoLayoutContainer:
                    FillPortions: =5
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =9

                    Container27 As groupContainer.verticalAutoLayoutContainer:
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        PaddingRight: =10
                        ZIndex: =1

                        "Gallery22 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            DelayItemLoading: =true
                            FillPortions: =0
                            Height: =Parent.Height
                            Items: =arrProductQuote_SaleVertion2
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =287
                            LayoutMinWidth: =320
                            LoadingSpinner: =LoadingSpinner.Data
                            ShowScrollbar: =false
                            TemplatePadding: =0
                            TemplateSize: =75
                            ZIndex: =2

                            Separator16 As rectangle:
                                BorderThickness: =1
                                Height: =0.1
                                OnSelect: =Select(Parent)
                                Width: =Parent.TemplateWidth
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =5

                            Label100 As label:
                                AutoHeight: =true
                                FontWeight: =FontWeight.Semibold
                                Height: =31
                                OnSelect: =Select(Parent)
                                Size: =16
                                Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                                Width: =350
                                ZIndex: =6

                            Label101 As label:
                                Color: =RGBA(128, 128, 128, 1)
                                FontWeight: =FontWeight.Semibold
                                Height: =26
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Text: =If(!LookUp(Product,id_Product = ThisItem.id_Product).activity,"Ngừng kinh doanh")
                                Width: =224
                                X: =48
                                Y: =65
                                ZIndex: =7

                            Icon25 As icon.CancelBadge:
                                Color: =RGBA(0, 0, 0, 1)
                                Height: =35
                                Icon: =Icon.CancelBadge
                                OnSelect: =Select(Parent)
                                Width: =0
                                X: =605
                                Y: =39
                                ZIndex: =8

                            Label102 As label:
                                Align: =Align.Right
                                Height: =37
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: |-
                                    ="Số lượng: " &ThisItem.quantity_Quote_Product
                                X: =329
                                ZIndex: =9

                            Label102_1 As label:
                                Align: =Align.Right
                                Height: =31
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: |-
                                    ="Giá: " &Text(ThisItem.price_Quote_Product,"#,###đ")
                                X: =329
                                Y: =44
                                ZIndex: =10

                            Label102_2 As label:
                                Height: =31
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Text: |-
                                    ="VAT: " &ThisItem.vat & "%"
                                Width: =162
                                Y: =44
                                ZIndex: =11

                    Container32 As groupContainer.verticalAutoLayoutContainer:
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        PaddingRight: =10
                        ZIndex: =2

                        "Gallery23 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            DelayItemLoading: =true
                            FillPortions: =0
                            Height: =Parent.Height
                            Items: =arrServiceQuote_SaleVertion2
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =200
                            LayoutMinWidth: =320
                            LoadingSpinner: =LoadingSpinner.Data
                            TemplatePadding: =0
                            TemplateSize: =75
                            ZIndex: =2

                            Separator17 As rectangle:
                                BorderThickness: =1
                                Height: =0.1
                                OnSelect: =Select(Parent)
                                Width: =Parent.TemplateWidth
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =5

                            Label104 As label:
                                FontWeight: =FontWeight.Semibold
                                Height: =31
                                OnSelect: =Select(Parent)
                                Size: =16
                                Text: =LookUp(Service,id_Serivce = ThisItem.id_Service).service_Name
                                Width: =494
                                ZIndex: =6

                            Label105 As label:
                                Align: =Align.Right
                                Height: =31
                                Italic: =true
                                OnSelect: =Select(Parent)
                                Size: =15
                                Text: |-
                                    ="Giá: " & Text(ThisItem.price_Quote_Service,"#,### đ")
                                Width: =146
                                X: =325
                                Y: =44
                                ZIndex: =7

                            Icon25_1 As icon.CancelBadge:
                                Color: =RGBA(0, 0, 0, 1)
                                Height: =35
                                Icon: =Icon.CancelBadge
                                OnSelect: =Select(Parent)
                                Width: =0
                                X: =605
                                Y: =39
                                ZIndex: =8

                Label108 As label:
                    Align: =Align.Right
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =50
                    Italic: =true
                    PaddingLeft: =10
                    Size: =20
                    Text: |-
                        ="Tổng tiền: " &Text( Gallery16.Selected.sumPriceQuote,"#,###đ")
                    ZIndex: =10

            Label106 As label:
                FontWeight: =FontWeight.Semibold
                Height: =50
                PaddingTop: =0
                Size: =24
                Text: =If(Gallery16.Selected.quote_Status.Value = "Báo giá","Chi tiết báo giá","Chi tiết đơn hàng")
                Width: =278
                X: =30
                Y: =20
                ZIndex: =4

            Icon18 As icon.Export:
                Color: =RGBA(0, 121, 187, 1)
                Height: =40
                Icon: =Icon.Download
                Width: =50
                X: =If(Gallery16.Selected.quote_Status.Value = "Báo giá",276,308)
                Y: =20
                ZIndex: =5

    containerPurchase_Version2 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.None
        Height: =701
        Visible: =btnFunctionSaleVertion2 = "btnPurchase"
        Width: =1366
        Y: =67
        ZIndex: =5

        Container72 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.Semibold
            Height: =663
            Width: =317
            X: =16
            Y: =13
            ZIndex: =1

            Container73 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =28
                Width: =294
                X: =10
                Y: =5
                ZIndex: =1

                Label124 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(50, 86, 160, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =28
                    Size: =15
                    Text: ="Tìm kiếm"
                    Width: =294
                    ZIndex: =1

            TextInput15 As text:
                Default: =""
                Height: =30
                HintText: ="Mã sản phẩm"
                Width: =278
                X: =18
                Y: =37
                ZIndex: =2

            TextInput15_1 As text:
                Default: =""
                Height: =30
                HintText: ="Mã yêu cầu mua hàng"
                Width: =278
                X: =18
                Y: =80
                ZIndex: =3

            Container73_1 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Regular
                Height: =28
                Width: =294
                X: =10
                Y: =138
                ZIndex: =4

                Label124_1 As label:
                    Color: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(50, 86, 160, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =28
                    Size: =15
                    Text: ="Trạng thái"
                    Width: =294
                    ZIndex: =1

            Checkbox1 As checkbox:
                Default: =positionStatusPurchase_SaleVertion2 = 0
                Height: =34
                OnCheck: =Set(positionStatusPurchase_SaleVertion2, 0)
                OnSelect: =
                OnUncheck: =Set(positionStatusPurchase_SaleVertion2, -1)
                Text: ="Chờ phê duyệt"
                Width: =278
                X: =18
                Y: =177
                ZIndex: =5

            Checkbox1_1 As checkbox:
                Default: =positionStatusPurchase_SaleVertion2 = 1
                Height: =34
                OnCheck: =Set(positionStatusPurchase_SaleVertion2, 1)
                OnUncheck: =Set(positionStatusPurchase_SaleVertion2, -1)
                Text: ="Đã phê duyệt"
                Width: =278
                X: =18
                Y: =226
                ZIndex: =6

            Checkbox1_2 As checkbox:
                Default: =positionStatusPurchase_SaleVertion2 = 2
                Height: =34
                OnCheck: =Set(positionStatusPurchase_SaleVertion2, 2)
                OnUncheck: =Set(positionStatusPurchase_SaleVertion2, -1)
                Text: ="Đã bị hủy"
                Width: =278
                X: =18
                Y: =275
                ZIndex: =7

        Container75 As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Height: =675
            Width: =1020
            X: =333
            Y: =13
            ZIndex: =2

            "Gallery25 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                BorderThickness: =0.1
                DelayItemLoading: =true
                Fill: =RGBA(241, 244, 249, 1)
                Height: =544
                Items: |-
                    =If(
                        IsBlank(TextInput15.Text) && IsBlank(TextInput15_1.Text),
                        If(
                            positionStatusPurchase_SaleVertion2 = -1,
                            Filter(Purchase_request,id_User = informationUser.ID),
                            If(
                                positionStatusPurchase_SaleVertion2 = 0,
                                Filter(
                                    Purchase_request,
                                    status_PurchaseRequest.Value = "Chưa duyệt" && id_User = informationUser.ID
                                ),
                                If(
                                    positionStatusPurchase_SaleVertion2 = 1,
                                    Filter(
                                        Purchase_request,
                                        status_PurchaseRequest.Value = "Đã duyệt" && id_User = informationUser.ID
                                    ),
                                    If(
                                        positionStatusPurchase_SaleVertion2 = 2,
                                        Filter(
                                            Purchase_request,
                                            status_PurchaseRequest.Value = "Từ chối" && id_User = informationUser.ID
                                        )
                                    )
                                )
                            )
                        )
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =50
                Width: =999
                X: =8
                Y: =131
                ZIndex: =1

                NextArrow8 As icon.ChevronRight:
                    AccessibleLabel: =Self.Tooltip
                    Color: =RGBA(166, 166, 166, 1)
                    Height: =50
                    Icon: =Icon.ChevronRight
                    OnSelect: =Select(Parent)
                    PaddingBottom: =16
                    PaddingLeft: =16
                    PaddingRight: =16
                    PaddingTop: =16
                    Tooltip: ="View item details"
                    Width: =50
                    X: =Parent.TemplateWidth - Self.Width - 12
                    Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                    ZIndex: =4

                Separator21 As rectangle:
                    Height: =8
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =Parent.TemplateHeight - Self.Height
                    ZIndex: =5

                Rectangle17 As rectangle:
                    Height: =Parent.TemplateHeight - Separator21.Height
                    OnSelect: =Select(Parent)
                    Visible: =ThisItem.IsSelected
                    Width: =4
                    ZIndex: =6

                Label144 As label:
                    Align: =Align.Center
                    Color: =RGBA(56, 96, 178, 1)
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.id_Purchase_request
                    Width: =288
                    X: =16
                    ZIndex: =7

                Label145 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.request_Date, "dd/mm/yyyy")
                    Width: =177
                    X: =304
                    ZIndex: =8

                Label145_1 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =Text(ThisItem.delivery_Date, "dd/mm/yyyy")
                    Width: =177
                    X: =481
                    ZIndex: =9

                Label145_2 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.status_PurchaseRequest.Value
                    Width: =177
                    X: =658
                    ZIndex: =10

                Label145_3 As label:
                    Align: =Align.Center
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =CountRows(Filter(Purchase_request_Product,id_Purchase_request = ThisItem.id_Purchase_request))
                    Width: =115
                    X: =835
                    ZIndex: =11

            Container89 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(128, 128, 128, 0.21)
                Height: =41
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =999
                X: =8
                Y: =78
                ZIndex: =2

                Label143 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Mã yêu cầu"
                    Width: =288
                    X: =12
                    Y: =1
                    ZIndex: =1

                Label143_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: |-
                        ="Ngày tạo
                        "
                    Width: =177
                    X: =300
                    ZIndex: =2

                Label143_2 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: ="Ngày nhận hàng"
                    Width: =177
                    X: =477
                    ZIndex: =3

                Label143_3 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: ="Trạng thái"
                    Width: =177
                    X: =654
                    ZIndex: =4

                Label143_4 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    Size: =15
                    Text: ="SLSP"
                    Width: =114
                    X: =831
                    ZIndex: =5

            Label126 As label:
                FontWeight: =FontWeight.Bold
                Height: =42
                Size: =24
                Text: |-
                    =If(
                        positionStatusPurchase_SaleVertion2 = -1,
                        "Danh sách yêu cầu",
                        If(
                            positionStatusPurchase_SaleVertion2 = 0,
                            "Danh sách yêu cầu - Chờ phê duyệt",
                            If(
                                positionStatusPurchase_SaleVertion2 = 1,
                                "Danh sách yêu cầu - Đã duyệt",
                                If(
                                    positionStatusPurchase_SaleVertion2 = 2,
                                    "Danh sách yêu cầu - Đã từ chối"
                                )
                            )
                        )
                    )
                Width: =632
                X: =8
                Y: =8
                ZIndex: =3

            Container76 As groupContainer.manualLayoutContainer:
                Height: =34
                Width: =216
                X: =778
                Y: =12
                ZIndex: =4

                Label127 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    Text: ="Tạo yêu cầu"
                    Width: =216
                    ZIndex: =1

                Rectangle18 As rectangle:
                    Fill: =RGBA(56, 96, 178, 0)
                    Height: =34
                    OnSelect: =Set(isVisiblechoiceStyleRequest,!isVisiblechoiceStyleRequest)
                    Width: =216
                    ZIndex: =2

            Container79 As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =85
                Visible: =isVisiblechoiceStyleRequest
                Width: =252
                X: =755
                Y: =46
                ZIndex: =5

                Icon33 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =25
                    Icon: =Icon.Cancel
                    OnSelect: =Set(isVisiblechoiceStyleRequest,false)
                    Width: =25
                    X: =227
                    ZIndex: =3

                "Gallery18 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    Height: =60
                    Items: |-
                        =Table({id: 0, name: "Sản phẩm hết hàng"},{id: 1, name: "Sản phẩm mới"})
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    OnSelect: |-
                        =If(
                            ThisItem.id = 0,
                            Set(
                                isVisibleDialogPurchase_SaleVertion2,
                                true
                            );
                            Set(
                                isVisibleDialogPurchaseProduct,
                                true
                            );
                            Set(
                                isVisiblechoiceStyleRequest,
                                false
                            );
                            ClearCollect(
                                arrProductPurchase_SaleVertion2,
                                []
                            );
                            ClearCollect(
                                arrProduct,
                                Product
                            );
                            Set(
                                positionChoiceArrayPurchase,
                                0
                            );,
                            If(
                                ThisItem.id = 1,
                                Set(
                                    isVisibleDialogPurchase_SaleVertion2,
                                    true
                                );
                                Set(
                                    isVisibleDialogRequestBuyProductNew,
                                    true
                                );
                                  ClearCollect(arrProductNewPurchase,[]);
                                Set(isVisibleInputInformationProductNewPurchase, false);
                                Set(isVisibleListProductNewPurchase, true);
                              
                            )
                        )
                    TemplatePadding: =0
                    TemplateSize: =25
                    Transition: =Transition.Push
                    Width: =252
                    Y: =25
                    ZIndex: =4

                    Label129 As label:
                        Align: =Align.Center
                        Height: =24
                        OnSelect: =Select(Parent)
                        Text: =ThisItem.name
                        Width: =252
                        ZIndex: =1

    containerDialogPurchase As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.23)
        Height: =768
        Visible: =isVisibleDialogPurchase_SaleVertion2
        Width: =1366
        ZIndex: =6

        Container78 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =735
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleDialogPurchaseProduct
            Width: =1274
            X: =51
            Y: =15
            ZIndex: =1

            Icon34 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =40
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogPurchaseProduct,false);
                    Set(isVisibleDialogPurchase_SaleVertion2,false)
                Width: =40
                X: =1218
                Y: =12
                ZIndex: =1

            Label130 As label:
                FontWeight: =FontWeight.Semibold
                Size: =24
                Text: ="Yêu cầu mua thêm sản phẩm"
                Width: =680
                X: =16
                Y: =12
                ZIndex: =2

            Container71 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionChoiceArrayPurchase = 0,DropShadow.Semibold,DropShadow.Light)
                Fill: =If(positionChoiceArrayPurchase = 0,RGBA(128, 128, 128, 0.24),RGBA(128, 128, 128,0))
                Height: =If(positionChoiceArrayPurchase = 0, 40,33)
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =195
                X: =87
                Y: =69
                ZIndex: =3

                Label132 As label:
                    Align: =Align.Center
                    FontWeight: =If(positionChoiceArrayPurchase =0,FontWeight.Semibold,FontWeight.Normal)
                    Height: =Parent.Height
                    OnSelect: =Set(positionChoiceArrayPurchase ,0)
                    Size: =15
                    Text: ="Sản phẩm"
                    Width: =195
                    ZIndex: =1

            Container71_1 As groupContainer.manualLayoutContainer:
                DropShadow: =If(positionChoiceArrayPurchase = 1, DropShadow.Semibold,DropShadow.Light)
                Fill: =If(positionChoiceArrayPurchase = 1,RGBA(128, 128, 128, 0.24),RGBA(128, 128, 128,0))
                Height: =If(positionChoiceArrayPurchase = 1, 40,33)
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =195
                X: =285
                Y: =69
                ZIndex: =4

                Label132_1 As label:
                    Align: =Align.Center
                    FontWeight: =If(positionChoiceArrayPurchase =1,FontWeight.Semibold,FontWeight.Normal)
                    Height: =Parent.Height
                    OnSelect: =Set(positionChoiceArrayPurchase,1);
                    Size: =15
                    Text: ="Yêu cầu"
                    Width: =195
                    ZIndex: =1

            Container74 As groupContainer.manualLayoutContainer:
                Height: =503
                Width: =1207
                X: =34
                Y: =111
                ZIndex: =5

                containerArrProductPurchase As groupContainer.manualLayoutContainer:
                    Height: =503
                    Visible: =(positionChoiceArrayPurchase = 0)
                    Width: =1207
                    ZIndex: =1

                    "Gallery21 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =439
                        Items: =Filter(arrProduct,Not(id_Product in arrProductPurchase_SaleVertion2.id_Product))
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =60
                        Width: =1207
                        Y: =64
                        ZIndex: =1

                        NextArrow6 As icon.ChevronRight:
                            AccessibleLabel: =Self.Tooltip
                            Height: =50
                            Icon: =Icon.Export
                            OnSelect: =Set(isVisibleDialogRequestProductPurchase, true)
                            PaddingBottom: =16
                            PaddingTop: =16
                            Tooltip: ="View item details"
                            Width: =50
                            X: =Parent.TemplateWidth - Self.Width - 12
                            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                            ZIndex: =4

                        Separator19 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle15 As rectangle:
                            Height: =Parent.TemplateHeight - Separator19.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Label135 As label:
                            Align: =Align.Center
                            Color: =RGBA(56, 96, 178, 1)
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.id_Product
                            Width: =319
                            X: =25
                            Y: =9
                            ZIndex: =7

                        Label136 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.name_Product
                            Width: =575
                            X: =344
                            Y: =9
                            ZIndex: =8

                        Label137 As label:
                            Align: =Align.Center
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.quantity_Product
                            Width: =226
                            X: =919
                            Y: =9
                            ZIndex: =9

                    Container80 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.17)
                        Height: =42
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                        Width: =1186
                        X: =10
                        Y: =7
                        ZIndex: =2

                        Label134 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Mã sản phẩm"
                            Width: =319
                            X: =12
                            Y: =2
                            ZIndex: =1

                        Label134_1 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên sản phẩm"
                            Width: =575
                            X: =331
                            Y: =2
                            ZIndex: =2

                        Label134_2 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Trồn kho"
                            Width: =231
                            X: =906
                            Y: =2
                            ZIndex: =3

                Container86 As groupContainer.manualLayoutContainer:
                    Height: =503
                    Visible: =positionChoiceArrayPurchase = 1
                    Width: =1207
                    ZIndex: =2

                    Container80_1 As groupContainer.manualLayoutContainer:
                        Fill: =RGBA(128, 128, 128, 0.17)
                        Height: =42
                        RadiusBottomLeft: =10
                        RadiusBottomRight: =10
                        RadiusTopLeft: =10
                        RadiusTopRight: =10
                        Width: =1186
                        X: =6
                        Y: =9
                        ZIndex: =1

                        Label134_3 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Tên sản phẩm"
                            Width: =407
                            X: =12
                            Y: =2
                            ZIndex: =1

                        Label134_4 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Số lượng yêu cầu"
                            Width: =179
                            X: =419
                            Y: =2
                            ZIndex: =2

                        Label134_5 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Lý do"
                            Width: =276
                            X: =598
                            Y: =2
                            ZIndex: =3

                        Label134_6 As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            Size: =15
                            Text: ="Ghi chú"
                            Width: =259
                            X: =874
                            Y: =2
                            ZIndex: =4

                    "Gallery24 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Fill: =RGBA(241, 244, 249, 1)
                        Height: =441
                        Items: =arrProductPurchase_SaleVertion2
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =70
                        Width: =1196
                        X: =6
                        Y: =60
                        ZIndex: =2

                        Separator20 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle16 As rectangle:
                            Height: =Parent.TemplateHeight - Separator20.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Label141 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =LookUp(Product,id_Product = ThisItem.id_Product).name_Product
                            Width: =407
                            Wrap: =false
                            X: =10
                            ZIndex: =7

                        Label141_1 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =ThisItem.request_Quantity
                            Width: =179
                            X: =417
                            ZIndex: =8

                        Label141_2 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =ThisItem.request_Reason
                            Width: =276
                            Wrap: =false
                            X: =596
                            ZIndex: =9

                        Label141_3 As label:
                            Align: =Align.Center
                            Height: =62
                            OnSelect: =Select(Parent)
                            PaddingLeft: =10
                            PaddingRight: =10
                            Text: =ThisItem.request_Note
                            Width: =259
                            Wrap: =false
                            X: =872
                            ZIndex: =10

                        Icon36 As icon.Trash:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =30
                            Icon: =Icon.Trash
                            OnSelect: =ClearCollect(arrProductPurchase_SaleVertion2,Filter(arrProductPurchase_SaleVertion2,Not(id_Product = ThisItem.id_Product)))
                            Width: =30
                            X: =1166
                            Y: =16
                            ZIndex: =11

                        Icon37 As icon.Edit:
                            Height: =30
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(isVisibleEditProductPurchase, true);
                                Set(isVisibleDialogRequestProductPurchase, true)
                            Width: =30
                            X: =1136
                            Y: =16
                            ZIndex: =12

            Label133 As label:
                FontWeight: =FontWeight.Semibold
                Height: =35
                Size: =15
                Text: |-
                    ="Thời hạn nhận hàng:"
                Width: =228
                X: =34
                Y: =634
                ZIndex: =6

            DatePicker3 As datepicker:
                Height: =35
                X: =262
                Y: =634
                ZIndex: =7

            Button19 As button:
                OnSelect: |-
                    =If(
                        CountRows(arrProductPurchase_SaleVertion2) < 1,
                        Notify(
                            "Bạn chưa chọn yêu cầu mua bất ký sản phẩm nào hết",
                            NotificationType.Error,
                            1500
                        ),
                        Set(
                            iD_Purchase_request,
                            "PRQ_" & Text(
                                Now(),
                                "ddmmyyyyhhmmss"
                            ) & informationUser.ID
                        );
                        Patch(
                            Purchase_request,
                            Defaults(Purchase_request),
                            {
                                id_Purchase_request: iD_Purchase_request,
                                request_Date: Now(),
                                delivery_Date: DatePicker3.SelectedDate,
                                status_PurchaseRequest: {Value: "Chưa duyệt"},
                                id_User: informationUser.ID
                            }
                        );
                        ForAll(
                            arrProductPurchase_SaleVertion2,
                            Patch(
                                Purchase_request_Product,
                                Defaults(Purchase_request_Product),
                                {
                                    id_Purchase_request: iD_Purchase_request,
                                    id_Product: ThisRecord.id_Product,
                                    name_Product: ThisRecord.name_Product,
                                    request_Quantity: ThisRecord.request_Quantity,
                                    request_Reason: ThisRecord.request_Reason,
                                    request_Note: ThisRecord.request_Note
                                }
                            )
                        );
                        Notify("Tạo yêu cầu mua hàng thành công");
                        Set(
                            isVisibleDialogPurchaseProduct,
                            false
                        );
                        Set(
                            isVisibleDialogPurchase_SaleVertion2,
                            false
                        )
                    )
                Text: ="Xác nhận"
                Width: =243
                X: =1014
                Y: =669
                ZIndex: =8

        containerDialogRequestProductPurchase As groupContainer.manualLayoutContainer:
            Fill: =RGBA(128, 128, 128, 0.33)
            Height: =768
            Visible: =isVisibleDialogRequestProductPurchase
            Width: =1366
            ZIndex: =2

            Container83 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =708
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =531
                X: =441
                Y: =33
                ZIndex: =1

                Label138 As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    Size: =20
                    Text: =If(isVisibleEditProductPurchase,"Sửa thông tin yêu cầu","Thông tin yêu cầu")
                    Width: =410
                    X: =9
                    Y: =9
                    ZIndex: =1

                Icon35 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =35
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Set(isVisibleDialogRequestProductPurchase, false);
                        Set(isVisibleEditProductPurchase,false);
                    Width: =35
                    X: =486
                    Y: =9
                    ZIndex: =2

                Label139 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Tên sản phẩm"
                    Width: =446
                    X: =40
                    Y: =52
                    ZIndex: =3

                Container85 As groupContainer.manualLayoutContainer:
                    Height: =40
                    Width: =446
                    X: =40
                    Y: =92
                    ZIndex: =4

                    Label140 As label:
                        Text: =If(isVisibleEditProductPurchase,Gallery24.Selected.name_Product,Gallery21.Selected.name_Product)
                        Width: =446
                        Wrap: =false
                        ZIndex: =1

                Label139_1 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Số lượng"
                    Width: =446
                    X: =40
                    Y: =132
                    ZIndex: =5

                TextInput22 As text:
                    Default: =Gallery24.Selected.request_Quantity
                    Format: =TextFormat.Number
                    HintText: ="Số lượng yêu cầu"
                    Width: =446
                    X: =40
                    Y: =172
                    ZIndex: =6

                Label139_2 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Lý do"
                    Width: =446
                    X: =40
                    Y: =212
                    ZIndex: =7

                TextInput22_1 As text:
                    Default: =Gallery24.Selected.request_Reason
                    Height: =66
                    HintText: ="Lý do mua hàng"
                    Mode: =TextMode.MultiLine
                    Width: =446
                    X: =40
                    Y: =252
                    ZIndex: =8

                Label139_3 As label:
                    FontWeight: =FontWeight.Semibold
                    Size: =15
                    Text: ="Ghi chú"
                    Width: =446
                    X: =40
                    Y: =318
                    ZIndex: =9

                TextInput22_2 As text:
                    Default: =Gallery24.Selected.request_Note
                    Height: =66
                    HintText: ="Ghi chú"
                    Mode: =TextMode.MultiLine
                    Width: =446
                    X: =40
                    Y: =358
                    ZIndex: =10

                Button18 As button:
                    Height: =43
                    OnSelect: |-
                        =If(
                            IsBlank(TextInput22.Text) || IsBlank(TextInput22_1.Text) || IsBlank(TextInput22_2.Text),
                            Notify(
                                "Vui lòng điền đẩy đủ thông tin yêu cầu",
                                NotificationType.Error,
                                1500
                            ),
                            If(
                                isVisibleEditProductPurchase,
                                Patch(
                                    arrProductPurchase_SaleVertion2,
                                    LookUp(
                                        arrProductPurchase_SaleVertion2,
                                        id_Product = Gallery24.Selected.id_Product
                                    ),
                                    {
                                        request_Quantity: Value(TextInput22.Text),
                                        request_Reason: TextInput22_1.Text,
                                        request_Note: TextInput22_2.Text
                                    }
                                );
                                Notify(
                                    "Sửa thông tin sản phẩm yêu cầu thành công",
                                    NotificationType.Success,
                                    1500
                                ),
                                Collect(
                                    arrProductPurchase_SaleVertion2,
                                    {
                                        id_Purchase_request: "",
                                        id_Product: Gallery21.Selected.id_Product,
                                        name_Product: Gallery21.Selected.name_Product,
                                        request_Quantity: Value(TextInput22.Text),
                                        request_Reason: TextInput22_1.Text,
                                        request_Note: TextInput22_2.Text
                                    }
                                );
                                Notify(
                                    "Thêm sản phẩm vào danh sách yêu cầu thành công",
                                    NotificationType.Success
                                );
                            );
                            Reset(TextInput22);
                            Reset(TextInput22_1);
                            Reset(TextInput22_2);
                            Set(
                                isVisibleDialogRequestProductPurchase,
                                false
                            );
                            Set(
                                isVisibleEditProductPurchase,
                                false
                            );
                            
                        )
                    Text: ="Xác nhận"
                    Width: =305
                    X: =110
                    Y: =462
                    ZIndex: =11

        containerDialogRequestBuyProductNewPurchase As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =705
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: =isVisibleDialogRequestBuyProductNew
            Width: =1286
            X: =39
            Y: =31
            ZIndex: =3

            Icon39 As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =45
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(isVisibleDialogPurchase_SaleVertion2,false);
                    Set(isVisibleDialogRequestBuyProductNew, false);
                Width: =45
                X: =1227
                Y: =12
                ZIndex: =1

            Label146 As label:
                FontWeight: =FontWeight.Semibold
                Height: =69
                Size: =20
                Text: |-
                    ="Yêu cầu mua sản phẩm mới
                    "
                Width: =400
                X: =20
                Y: =12
                ZIndex: =2

            Container91 As groupContainer.verticalAutoLayoutContainer:
                Height: =554
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =10
                PaddingRight: =10
                Width: =1232
                X: =20
                Y: =81
                ZIndex: =3

                Container92 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =300
                    ZIndex: =1

                    Label148 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =41
                        Size: =15
                        Text: ="Thông tin yêu cầu"
                        Width: =211
                        X: =12
                        Y: =6
                        ZIndex: =1

                    Icon42 As icon.BackArrow:
                        Height: =41
                        Icon: =Icon.BackArrow
                        Rotation: =-90
                        Width: =50
                        X: =236
                        Y: =6
                        ZIndex: =2

                Container93 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =300
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    ZIndex: =2

                Container92_1 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =300
                    ZIndex: =3

                    Label148_1 As label:
                        FontWeight: =FontWeight.Semibold
                        Height: =41
                        Size: =15
                        Text: ="Danh sách yêu cầu"
                        Width: =211
                        X: =12
                        Y: =6
                        ZIndex: =1

                    Icon42_1 As icon.BackArrow:
                        Height: =41
                        Icon: =Icon.BackArrow
                        Rotation: =-90
                        Width: =50
                        X: =236
                        Y: =6
                        ZIndex: =2

                Container95 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    ZIndex: =4

                "Gallery27 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    FillPortions: =0
                    Height: =200
                    Items: =arrProductNewPurchase
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =104
                    ZIndex: =5

                    Separator23 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Rectangle20 As rectangle:
                        Height: =Parent.TemplateHeight - Separator23.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =6

